LavaPack.loadBundle([[3546,{"../../../../helpers/constants/design-system":4096,"../../../../helpers/utils/util":4135,"../../../../hooks/useCopyToClipboard":4150,"../../../../hooks/useI18nContext":4157,"../../../component-library":3846,"../../../ui/box":3927,"../../../ui/button":3931,"../../../ui/tooltip":4061,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=f(e("react")),a=f(e("prop-types")),o=e("../../../../hooks/useI18nContext"),i=e("../../../../hooks/useCopyToClipboard"),s=f(e("../../../ui/box")),l=f(e("../../../ui/button")),u=f(e("../../../ui/tooltip")),c=e("../../../../helpers/constants/design-system"),d=e("../../../../helpers/utils/util"),p=e("../../../component-library");function f(e){return e&&e.__esModule?e:{default:e}}const m=({tokenAddress:e})=>{const t=(0,o.useI18nContext)(),[n,a]=(0,i.useCopyToClipboard)();return r.default.createElement(s.default,{display:c.DISPLAY.INLINE_FLEX,className:"detected-token-address"},r.default.createElement(p.Text,{variant:c.TextVariant.bodySm,as:"h6",color:c.TextColor.textDefault},`${t("tokenAddress")}:`),r.default.createElement(p.Text,{variant:c.TextVariant.bodySm,as:"h6",color:c.TextColor.primaryDefault,marginLeft:2,marginRight:2},(0,d.shortenAddress)(e)),r.default.createElement(u.default,{position:"bottom",title:t(n?"copiedExclamation":"copyToClipboard")},r.default.createElement(l.default,{type:"link",className:"detected-token-address__copy-link",onClick:()=>{a(e)}},r.default.createElement("i",{className:"fa fa-copy"}))))};m.propTypes={tokenAddress:a.default.string};var h=m;n.default=h}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token-address/detected-token-address.js"}],[3547,{"../../../../helpers/constants/design-system":4096,"../../../../hooks/useI18nContext":4157,"../../../component-library":3846,"../../../ui/box":3927,"../../../ui/button":3931,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=c(e("prop-types")),o=e("../../../../hooks/useI18nContext"),i=c(e("../../../ui/box")),s=c(e("../../../ui/button")),l=e("../../../../helpers/constants/design-system"),u=e("../../../component-library");function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const p=({aggregators:e})=>{const t=(0,o.useI18nContext)(),n=parseInt(e.length,10)-2,[a,c]=(0,r.useState)(!1);return r.default.createElement(i.default,{display:l.DISPLAY.INLINE_FLEX,className:"detected-token-aggregators"},r.default.createElement(u.Text,{variant:l.TextVariant.bodySm,as:"h6",fontWeight:l.FontWeight.Normal},t("fromTokenLists",[n>0&&!a?r.default.createElement(u.Text,{variant:l.TextVariant.bodySm,as:"h6",fontWeight:l.FontWeight.Normal,key:"detected-token-aggrgators-with-more"},`${e.slice(0,2).join(", ")}`,r.default.createElement(s.default,{type:"link",className:"detected-token-aggregators__link",onClick:()=>c(!0),key:"detected-token-aggrgators-link"},t("plusXMore",[n]))):r.default.createElement(u.Text,{variant:l.TextVariant.bodySm,as:"h6",fontWeight:l.FontWeight.Normal,key:"detected-token-aggrgators-without-more"},`${e.join(", ")}.`)])))};p.propTypes={aggregators:a.default.array.isRequired};var f=p;n.default=f}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token-aggregators/detected-token-aggregators.js"}],[3548,{"../../../../helpers/constants/design-system":4096,"../../../../selectors":4464,"../../../ui/box":3927,"../../../ui/identicon":3989,"../detected-token-address/detected-token-address":3546,"../detected-token-aggregators/detected-token-aggregators":3547,"../detected-token-values/detected-token-values":3551,"prop-types":3019,react:3206,"react-redux":3159},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=f(e("react")),a=f(e("prop-types")),o=e("react-redux"),i=f(e("../../../ui/box")),s=f(e("../../../ui/identicon")),l=f(e("../detected-token-values/detected-token-values")),u=f(e("../detected-token-address/detected-token-address")),c=f(e("../detected-token-aggregators/detected-token-aggregators")),d=e("../../../../helpers/constants/design-system"),p=e("../../../../selectors");function f(e){return e&&e.__esModule?e:{default:e}}const m=({token:e,handleTokenSelection:t,tokensListDetected:n})=>{var a;const f=(0,o.useSelector)(p.getTokenList)[null===(a=e.address)||void 0===a?void 0:a.toLowerCase()];return r.default.createElement(i.default,{display:d.DISPLAY.FLEX,className:"detected-token-details",marginBottom:4},r.default.createElement(s.default,{className:"detected-token-details__identicon",address:e.address,diameter:40}),r.default.createElement(i.default,{display:d.DISPLAY.GRID,marginLeft:2,className:"detected-token-details__data"},r.default.createElement(l.default,{token:e,handleTokenSelection:t,tokensListDetected:n}),r.default.createElement(u.default,{tokenAddress:e.address}),(null==f?void 0:f.aggregators.length)>0&&r.default.createElement(c.default,{aggregators:null==f?void 0:f.aggregators})))};m.propTypes={token:a.default.shape({address:a.default.string.isRequired,decimals:a.default.number,symbol:a.default.string,iconUrl:a.default.string,aggregators:a.default.array}),handleTokenSelection:a.default.func.isRequired,tokensListDetected:a.default.object};var h=m;n.default=h}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token-details/detected-token-details.js"}],[3549,{"../../../../helpers/constants/design-system":4096,"../../../../hooks/useI18nContext":4157,"../../../component-library":3846,"../../../ui/button":3931,"../../../ui/popover":4026,classnames:1943,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=d(e("react")),a=d(e("prop-types")),o=d(e("classnames")),i=e("../../../../hooks/useI18nContext"),s=d(e("../../../ui/popover")),l=d(e("../../../ui/button")),u=e("../../../../helpers/constants/design-system"),c=e("../../../component-library");function d(e){return e&&e.__esModule?e:{default:e}}const p=({partiallyIgnoreDetectedTokens:e,onCancelIgnore:t,handleClearTokensSelection:n})=>{const a=(0,i.useI18nContext)(),d=r.default.createElement(r.default.Fragment,null,r.default.createElement(l.default,{className:"detected-token-ignored-popover__ignore-button",type:"secondary",onClick:t},a("cancel")),r.default.createElement(l.default,{className:"detected-token-ignored-popover__import-button",type:"primary",onClick:n},a("confirm")));return r.default.createElement(s.default,{title:a(e?"importSelectedTokens":"areYouSure"),className:(0,o.default)("detected-token-ignored-popover",{"detected-token-ignored-popover--import":e,"detected-token-ignored-popover--ignore":!e}),footer:d},r.default.createElement(c.Text,{variant:u.TextVariant.bodySm,as:"h6",marginTop:0,marginRight:5,marginBottom:7,marginLeft:5},a(e?"importSelectedTokensDescription":"ignoreTokenWarning")))};p.propTypes={partiallyIgnoreDetectedTokens:a.default.bool.isRequired,onCancelIgnore:a.default.func.isRequired,handleClearTokensSelection:a.default.func.isRequired};var f=p;n.default=f}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token-ignored-popover/detected-token-ignored-popover.js"}],[3550,{"../../../../../shared/constants/metametrics":3408,"../../../../contexts/metametrics":4074,"../../../../hooks/useI18nContext":4157,"../../../../selectors":4464,"../../../ui/box":3927,"../../../ui/button":3931,"../../../ui/popover":4026,"../detected-token-details/detected-token-details":3548,"prop-types":3019,react:3206,"react-redux":3159},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=m(e("prop-types")),o=e("react-redux"),i=e("../../../../hooks/useI18nContext"),s=e("../../../../contexts/metametrics"),l=e("../../../../../shared/constants/metametrics"),u=e("../../../../selectors"),c=m(e("../../../ui/popover")),d=m(e("../../../ui/box")),p=m(e("../../../ui/button")),f=m(e("../detected-token-details/detected-token-details"));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g=({tokensListDetected:e,handleTokenSelection:t,onImport:n,onIgnoreAll:a,setShowDetectedTokens:m,sortingBasedOnTokenSelection:h})=>{const g=(0,i.useI18nContext)(),y=(0,r.useContext)(s.MetaMetricsContext),v=(0,o.useSelector)(u.getCurrentChainId),b=(0,o.useSelector)(u.getDetectedTokensInCurrentNetwork),{selected:_=[]}=h(e),E=_.length===b.length?"All":`(${_.length})`,T=r.default.createElement(r.default.Fragment,null,r.default.createElement(p.default,{className:"detected-token-selection-popover__ignore-button",type:"secondary",onClick:()=>a()},g("ignoreAll")),r.default.createElement(p.default,{className:"detected-token-selection-popover__import-button",type:"primary",onClick:n,disabled:0===_.length},g("importWithCount",[E])));return r.default.createElement(c.default,{className:"detected-token-selection-popover",title:1===b.length?g("tokenFoundTitle"):g("tokensFoundTitle",[b.length]),onClose:()=>{m(!1);const e=b.map((({address:e,symbol:t})=>`${t} - ${e}`));y({event:l.MetaMetricsEventName.TokenImportCanceled,category:l.MetaMetricsEventCategory.Wallet,properties:{source_connection_method:l.MetaMetricsTokenEventSource.Detected,chain_id:v,tokens:e}})},footer:T},r.default.createElement(d.default,{margin:3},b.map(((n,a)=>r.default.createElement(f.default,{key:a,token:n,handleTokenSelection:t,tokensListDetected:e})))))};g.propTypes={tokensListDetected:a.default.object,handleTokenSelection:a.default.func.isRequired,onIgnoreAll:a.default.func.isRequired,onImport:a.default.func.isRequired,setShowDetectedTokens:a.default.func.isRequired,sortingBasedOnTokenSelection:a.default.func.isRequired};var y=g;n.default=y}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token-selection-popover/detected-token-selection-popover.js"}],[3551,{"../../../../helpers/constants/design-system":4096,"../../../../hooks/useTokenFiatAmount":4172,"../../../../hooks/useTokenTracker":4173,"../../../../selectors":4464,"../../../component-library":3846,"../../../ui/box":3927,"../../../ui/check-box":3937,"prop-types":3019,react:3206,"react-redux":3159},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=f(e("prop-types")),o=e("react-redux"),i=f(e("../../../ui/box")),s=f(e("../../../ui/check-box")),l=e("../../../../helpers/constants/design-system"),u=e("../../../../hooks/useTokenTracker"),c=e("../../../../hooks/useTokenFiatAmount"),d=e("../../../../selectors"),p=e("../../../component-library");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const h=({token:e,handleTokenSelection:t,tokensListDetected:n})=>{var a;const[f,m]=(0,r.useState)((()=>{var t;return null===(t=n[e.address])||void 0===t?void 0:t.selected})),{tokensWithBalances:h}=(0,u.useTokenTracker)([e]),g=null===(a=h[0])||void 0===a?void 0:a.string,y=(0,c.useTokenFiatAmount)(e.address,g,e.symbol),v=(0,o.useSelector)(d.getUseCurrencyRateCheck);(0,r.useEffect)((()=>{var t;m(null===(t=n[e.address])||void 0===t?void 0:t.selected)}),[n,e.address,f,m]);return r.default.createElement(i.default,{display:l.DISPLAY.INLINE_FLEX,className:"detected-token-values"},r.default.createElement(i.default,{marginBottom:1},r.default.createElement(p.Text,{variant:l.TextVariant.bodyLgMedium,as:"h4"},`${g||"0"} ${e.symbol}`),r.default.createElement(p.Text,{variant:l.TextVariant.bodySm,as:"h6",color:l.TextColor.textAlternative},v?y||"$0":y)),r.default.createElement(i.default,{className:"detected-token-values__checkbox"},r.default.createElement(s.default,{checked:f,onClick:()=>{m(!f),t(e)}})))};h.propTypes={token:a.default.shape({address:a.default.string.isRequired,decimals:a.default.number,symbol:a.default.string,iconUrl:a.default.string,aggregators:a.default.array}),handleTokenSelection:a.default.func.isRequired,tokensListDetected:a.default.object};var g=h;n.default=g}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token-values/detected-token-values.js"}],[3552,{"../../../../shared/constants/metametrics":3408,"../../../../shared/constants/transaction":3418,"../../../contexts/metametrics":4074,"../../../selectors":4464,"../../../store/actions":4471,"./detected-token-ignored-popover/detected-token-ignored-popover":3549,"./detected-token-selection-popover/detected-token-selection-popover":3550,lodash:2918,"prop-types":3019,react:3206,"react-redux":3159},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=m(e("prop-types")),o=e("react-redux"),i=e("lodash"),s=e("../../../store/actions"),l=e("../../../selectors"),u=e("../../../contexts/metametrics"),c=e("../../../../shared/constants/transaction"),d=e("../../../../shared/constants/metametrics"),p=m(e("./detected-token-selection-popover/detected-token-selection-popover")),f=m(e("./detected-token-ignored-popover/detected-token-ignored-popover"));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g=e=>(0,i.chain)(e).values().groupBy((e=>e.selected?"selected":"deselected")).mapValues((e=>e.map((({token:e})=>{const{address:t,symbol:n,decimals:r,aggregators:a}=e;return{address:t,symbol:n,decimals:r,aggregators:a}})))).value(),y=({setShowDetectedTokens:e})=>{const t=(0,o.useDispatch)(),n=(0,r.useContext)(u.MetaMetricsContext),a=(0,o.useSelector)(l.getCurrentChainId),i=(0,o.useSelector)(l.getDetectedTokensInCurrentNetwork),[m,h]=(0,r.useState)((()=>i.reduce(((e,t)=>(e[t.address]={token:t,selected:!0},e)),{}))),[y,v]=(0,r.useState)(!1),[b,_]=(0,r.useState)(!1),E=async e=>{e.forEach((e=>{n({event:d.MetaMetricsEventName.TokenAdded,category:d.MetaMetricsEventCategory.Wallet,sensitiveProperties:{token_symbol:e.symbol,token_contract_address:e.address,token_decimal_precision:e.decimals,source_connection_method:d.MetaMetricsTokenEventSource.Detected,token_standard:c.TokenStandard.ERC20,asset_type:c.AssetType.token,token_added_type:"detected",chain_id:a}})})),await t((0,s.addImportedTokens)(e));const r=e.map((({symbol:e})=>e));t((0,s.setNewTokensImported)(r.join(", ")))};return r.default.createElement(r.default.Fragment,null,y&&r.default.createElement(f.default,{onCancelIgnore:()=>{v(!1),_(!1)},handleClearTokensSelection:async()=>{const{selected:r=[],deselected:a=[]}=g(m);a.length<i.length&&await E(r);const o=a.map((({symbol:e,address:t})=>`${e} - ${t}`));n({event:d.MetaMetricsEventName.TokenHidden,category:d.MetaMetricsEventCategory.Wallet,sensitiveProperties:{tokens:o,location:d.MetaMetricsEventLocation.TokenDetection,token_standard:c.TokenStandard.ERC20,asset_type:c.AssetType.token}});const l=a.map((({address:e})=>e));await t((0,s.ignoreTokens)({tokensToIgnore:l,dontShowLoadingIndicator:!0})),e(!1),_(!1)},partiallyIgnoreDetectedTokens:b}),i.length>0&&r.default.createElement(p.default,{detectedTokens:i,tokensListDetected:m,handleTokenSelection:e=>{h((t=>({...t,[e.address]:{...t[e.address],selected:!t[e.address].selected}})))},onImport:async()=>{const{selected:t=[]}=g(m);t.length<i.length?(v(!0),_(!0)):(await E(t),e(!1))},onIgnoreAll:()=>{const e={...m};for(const t of Object.keys(m))e[t].selected=!1;h(e),v(!0)},setShowDetectedTokens:e,sortingBasedOnTokenSelection:g}))};y.propTypes={setShowDetectedTokens:a.default.func.isRequired};var v=y;n.default=v}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token.js"}],[3553,{"../menu-droppo":3592,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DropdownMenuItem=n.Dropdown=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=i(e("prop-types")),o=i(e("../menu-droppo"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}class l extends r.Component{render(){const{containerClassName:e,isOpen:t,onClickOutside:n,style:a,innerStyle:i,children:s,useCssTransition:l}=this.props,u={borderRadius:"4px",padding:"8px 16px",background:"var(--color-background-default)",boxShadow:"var(--shadow-size-sm) var(--color-shadow-default)",...i};return r.default.createElement(o.default,{containerClassName:e,useCssTransition:l,isOpen:t,zIndex:55,onClickOutside:n,style:a,innerStyle:u},r.default.createElement("style",null,"\n            li.dropdown-menu-item:hover {\n              color:var(--color-text-default);\n              background-color: var(--color-background-default-hover);\n              border-radius: 4px;\n            }\n          "),s)}}n.Dropdown=l,l.defaultProps={useCssTransition:!1},l.propTypes={isOpen:a.default.bool.isRequired,children:a.default.node,style:a.default.object.isRequired,onClickOutside:a.default.func,innerStyle:a.default.object,useCssTransition:a.default.bool,containerClassName:a.default.string};class u extends r.Component{render(){const{onClick:e,closeMenu:t,children:n,style:a}=this.props;return r.default.createElement("li",{className:"dropdown-menu-item","data-testid":"dropdown-menu-item",onClick:()=>{e(),t()},onKeyPress:n=>{"Enter"===n.key&&(e(),t())},style:{listStyle:"none",padding:"8px 0px",fontSize:"18px",fontStyle:"normal",cursor:"pointer",display:"flex",justifyContent:"flex-start",alignItems:"center",...a},tabIndex:"0"},n)}}n.DropdownMenuItem=u,u.propTypes={closeMenu:a.default.func.isRequired,onClick:a.default.func.isRequired,children:a.default.node,style:a.default.object}}}},{package:"$root$",file:"ui/components/app/dropdowns/dropdown.js"}],[3554,{"../../../../app/scripts/lib/util":81,"../../../../shared/constants/app":3401,"../../../../shared/constants/metametrics":3408,"../../../../shared/constants/network":3409,"../../../../shared/modules/network.utils":3438,"../../../ducks/alerts/invalid-custom-network":4078,"../../../ducks/metamask/metamask":4088,"../../../helpers/constants/design-system":4096,"../../../helpers/constants/routes":4100,"../../../selectors":4464,"../../../store/actions":4471,"../../component-library":3846,"../../ui/button":3931,"../../ui/color-indicator":3942,"./dropdown":3553,lodash:2918,"prop-types":3019,react:3206,"react-redux":3159,"react-router-dom":3179,redux:3223},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=P(e("prop-types")),a=x(e("react")),o=e("react-redux"),i=e("react-router-dom"),s=e("redux"),l=e("lodash"),u=P(e("../../ui/button")),c=x(e("../../../store/actions")),d=e("../../../ducks/alerts/invalid-custom-network"),p=e("../../../ducks/metamask/metamask"),f=e("../../../../shared/constants/network"),m=e("../../../../shared/modules/network.utils"),h=P(e("../../ui/color-indicator")),g=e("../../../helpers/constants/design-system"),y=e("../../../selectors"),v=e("../../../../app/scripts/lib/util"),b=e("../../../../shared/constants/app"),_=e("../../../../shared/constants/metametrics"),E=e("../../../helpers/constants/routes"),T=e("../../component-library"),w=e("./dropdown");function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function x(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function P(e){return e&&e.__esModule?e:{default:e}}function O(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const C=["menu-icon","network-name","network-indicator","network-caret","network-component","modal-container__footer-button"],M={fontSize:"16px",lineHeight:"20px",padding:"16px"};class S extends a.Component{handleClick(e){const{providerConfig:{type:t},setProviderType:n}=this.props,{trackEvent:r}=this.context;r({category:_.MetaMetricsEventCategory.Navigation,event:_.MetaMetricsEventName.NavNetworkSwitched,properties:{from_network:t,to_network:e}}),n(e)}renderAddCustomButton(){const{onAddClick:e}=this.props;return a.default.createElement("div",{className:"network__add-network-button"},a.default.createElement(u.default,{type:"secondary",onClick:()=>{e?e():(0,v.getEnvironmentType)()===b.ENVIRONMENT_TYPE_POPUP?global.platform.openExtensionInBrowser(E.ADD_POPULAR_CUSTOM_NETWORK):this.props.history.push(E.ADD_POPULAR_CUSTOM_NETWORK),this.props.hideNetworkDropdown()}},this.context.t("addNetwork")))}renderCustomRpcList(e,t,n={}){return Object.entries(e).map((([e,r])=>{const{rpcUrl:o,chainId:i,nickname:s="",id:l}=r,u=t.type===f.NETWORK_TYPES.RPC&&o===t.rpcUrl;return a.default.createElement(w.DropdownMenuItem,{key:`common${o}`,closeMenu:()=>this.props.hideNetworkDropdown(),onClick:()=>{(0,m.isPrefixedFormattedHexString)(i)?this.props.setActiveNetwork(e):this.props.displayInvalidCustomNetworkAlert(s||o)},style:{fontSize:"16px",lineHeight:"20px",padding:"16px"}},u?a.default.createElement(T.Icon,{name:T.IconName.Check,color:g.IconColor.successDefault}):a.default.createElement("div",{className:"network-check__transparent"},"✓"),a.default.createElement(h.default,{color:n.isLocalHost?"localhost":g.IconColor.iconMuted,size:g.Size.LG,type:h.default.TYPES.FILLED}),a.default.createElement("span",{className:"network-name-item","data-testid":`${s}-network-item`,style:{color:u?"var(--color-text-default)":"var(--color-text-alternative)"}},s||o),u?null:a.default.createElement(T.ButtonIcon,{className:"delete",iconName:T.IconName.Close,size:T.IconSize.Sm,ariaLabel:this.context.t("delete"),onClick:e=>{e.stopPropagation(),this.props.showConfirmDeleteNetworkModal({target:l,onConfirm:()=>undefined})}}))}))}renderNetworkEntry(e){const{providerConfig:{type:t}}=this.props;return a.default.createElement(w.DropdownMenuItem,{key:e,closeMenu:this.props.hideNetworkDropdown,onClick:()=>this.handleClick(e),style:M},t===e?a.default.createElement(T.Icon,{name:T.IconName.Check,color:g.IconColor.successDefault}):a.default.createElement("div",{className:"network-check__transparent"},"✓"),a.default.createElement(h.default,{color:e,size:g.Size.LG,type:h.default.TYPES.FILLED}),a.default.createElement("span",{className:"network-name-item","data-testid":`${e}-network-item`,style:{color:t===e?"var(--color-text-default)":"var(--color-text-alternative)"}},this.context.t(e)))}renderNonInfuraDefaultNetwork(e,t){const{providerConfig:n,setActiveNetwork:r,upsertNetworkConfiguration:o}=this.props,{chainId:i,ticker:s,blockExplorerUrl:u}=f.BUILT_IN_NETWORKS[t],c=f.NETWORK_TO_NAME_MAP[t],d=f.CHAIN_ID_TO_RPC_URL_MAP[i],p=n.type===f.NETWORK_TYPES.RPC&&d===n.rpcUrl;return a.default.createElement(w.DropdownMenuItem,{key:t,closeMenu:this.props.hideNetworkDropdown,onClick:async()=>{let t=null;(0,l.pickBy)(e,(e=>e.rpcUrl===f.CHAIN_ID_TO_RPC_URL_MAP[i]))&&(t=await o({rpcUrl:d,ticker:s,chainId:i,nickname:c,rpcPrefs:{blockExplorerUrl:u}},{setActive:!0,source:_.MetaMetricsNetworkEventSource.CustomNetworkForm})),r(t)},style:M},p?a.default.createElement(T.Icon,{name:T.IconName.Check,color:g.IconColor.successDefault}):a.default.createElement("div",{className:"network-check__transparent"},"✓"),a.default.createElement(h.default,{color:t,size:g.Size.LG,type:h.default.TYPES.FILLED}),a.default.createElement("span",{className:"network-name-item","data-testid":`${t}-network-item`,style:{color:n.type===t?"var(--color-text-default)":"var(--color-text-alternative)"}},this.context.t(t)))}render(){const{history:e,hideElementsForOnboarding:t,hideNetworkDropdown:n,shouldShowTestNetworks:r,showTestnetMessageInDropdown:o,hideTestNetMessage:i,networkConfigurations:s}=this.props,c=(0,l.pickBy)(s,(e=>e.rpcUrl!==f.LOCALHOST_RPC_URL&&e.rpcUrl!==f.LINEA_TESTNET_RPC_URL)),d=(0,l.pickBy)(s,(e=>e.rpcUrl===f.LOCALHOST_RPC_URL)),p=this.props.networkDropdownOpen,{t:m}=this.context;return a.default.createElement(w.Dropdown,{isOpen:p,onClickOutside:e=>{const{classList:t}=e.target;-1===C.findIndex((e=>t.contains(e)))&&(e.stopPropagation(),n())},containerClassName:"network-droppo",zIndex:55,style:this.props.dropdownStyles||{position:"absolute",top:"58px",width:"309px",zIndex:"55"},innerStyle:{padding:"16px 0"}},a.default.createElement("div",{className:"network-dropdown-header"},t?null:a.default.createElement("div",{className:"network-dropdown-title"},m("networks")),t?null:a.default.createElement("div",{className:"network-dropdown-divider"}),o&&!t?a.default.createElement("div",{className:"network-dropdown-content"},m("toggleTestNetworks",[a.default.createElement("a",{href:"#",key:"advancedSettingsLink",className:"network-dropdown-content--link",onClick:t=>{t.preventDefault(),n(),e.push(`${E.ADVANCED_ROUTE}#show-testnets`)}},m("showHide"))]),a.default.createElement(u.default,{onClick:i,className:"network-dropdown-content--dismiss"},m("dismiss"))):null),a.default.createElement("div",{className:"network-dropdown-list"},this.renderNetworkEntry(f.NETWORK_TYPES.MAINNET),this.renderCustomRpcList(c,this.props.providerConfig),r&&a.default.createElement(a.default.Fragment,null,this.renderNetworkEntry(f.NETWORK_TYPES.GOERLI),this.renderNetworkEntry(f.NETWORK_TYPES.SEPOLIA),f.SHOULD_SHOW_LINEA_TESTNET_NETWORK&&a.default.createElement(a.default.Fragment,null,this.renderNonInfuraDefaultNetwork(s,f.NETWORK_TYPES.LINEA_TESTNET)),this.renderCustomRpcList(d,this.props.providerConfig,{isLocalHost:!0}))),this.renderAddCustomButton())}}O(S,"contextTypes",{t:r.default.func,trackEvent:r.default.func}),O(S,"propTypes",{providerConfig:r.default.shape({nickname:r.default.string,rpcUrl:r.default.string,type:r.default.string,ticker:r.default.string}).isRequired,setProviderType:r.default.func.isRequired,setActiveNetwork:r.default.func.isRequired,hideNetworkDropdown:r.default.func.isRequired,networkConfigurations:r.default.object.isRequired,shouldShowTestNetworks:r.default.bool,networkDropdownOpen:r.default.bool.isRequired,displayInvalidCustomNetworkAlert:r.default.func.isRequired,showConfirmDeleteNetworkModal:r.default.func.isRequired,showTestnetMessageInDropdown:r.default.bool.isRequired,hideTestNetMessage:r.default.func.isRequired,history:r.default.object,dropdownStyles:r.default.object,hideElementsForOnboarding:r.default.bool,onAddClick:r.default.func,upsertNetworkConfiguration:r.default.func.isRequired});var N=(0,s.compose)(i.withRouter,(0,o.connect)((function(e){return{providerConfig:(0,p.getProviderConfig)(e),shouldShowTestNetworks:(0,y.getShowTestNetworks)(e),networkConfigurations:e.metamask.networkConfigurations,networkDropdownOpen:e.appState.networkDropdownOpen,showTestnetMessageInDropdown:e.metamask.showTestnetMessageInDropdown}}),(function(e){return{setProviderType:t=>{e(c.setProviderType(t))},setActiveNetwork:t=>{e(c.setActiveNetwork(t))},upsertNetworkConfiguration:(...t)=>e(c.upsertNetworkConfiguration(...t)),hideNetworkDropdown:()=>e(c.hideNetworkDropdown()),displayInvalidCustomNetworkAlert:t=>{e((0,d.openAlert)(t))},showConfirmDeleteNetworkModal:({target:t,onConfirm:n})=>e(c.showModal({name:"CONFIRM_DELETE_NETWORK",target:t,onConfirm:n})),hideTestNetMessage:()=>c.hideTestNetMessage()}})))(S);n.default=N}}},{package:"$root$",file:"ui/components/app/dropdowns/network-dropdown.js"}],[3555,{"../../../../shared/constants/gas":3404,"../../../contexts/i18n":4073,"../../../helpers/constants/design-system":4096,"../../../helpers/utils/confirm-tx.util":4116,"../../component-library":3846,"../../ui/actionable-message/actionable-message":3923,"../../ui/button":3931,"../../ui/error-message":3959,"../../ui/info-tooltip":3990,"../advanced-gas-controls/advanced-gas-controls.component":3454,"bignumber.js":1810,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=g(e("prop-types")),o=g(e("bignumber.js")),i=e("../../../../shared/constants/gas"),s=g(e("../../ui/button")),l=e("../../../helpers/constants/design-system"),u=e("../../component-library"),c=e("../../../helpers/utils/confirm-tx.util"),d=g(e("../../ui/info-tooltip")),p=g(e("../../ui/error-message")),f=g(e("../advanced-gas-controls/advanced-gas-controls.component")),m=g(e("../../ui/actionable-message/actionable-message")),h=e("../../../contexts/i18n");function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function v({mode:e=i.EditGasModes.modifyInPlace,estimatedMinimumNative:t,transaction:n,gasPrice:a,setGasPrice:g,gasLimit:y,setGasLimit:v,properGasLimit:b,dappSuggestedGasFeeAcknowledged:_,setDappSuggestedGasFeeAcknowledged:E,onManualChange:T,minimumGasLimit:w,balanceError:k,gasErrors:x,txParamsHaveBeenCustomized:P}){const O=(0,r.useContext)(h.I18nContext),C=(0,r.useRef)(null),M=(0,c.areDappSuggestedAndTxParamGasFeesTheSame)(n),S=Boolean((null==n?void 0:n.dappSuggestedGasFees)&&!_&&M);let N;y!==undefined&&b!==undefined&&new o.default(y).lessThan(new o.default(b))&&(N=O("gasLimitRecommended",[b]));const j=k&&P;let I;return k&&(I="insufficientFunds"),r.default.createElement("div",{className:"edit-gas-display"},r.default.createElement("div",{className:"edit-gas-display__content"},j&&r.default.createElement("div",{className:"edit-gas-display__warning"},r.default.createElement(p.default,{errorKey:I})),N&&r.default.createElement("div",{className:"edit-gas-display__warning"},r.default.createElement(m.default,{className:"actionable-message--warning",message:N,iconFillColor:"var(--color-warning-default)",useIcon:!0})),S&&r.default.createElement("div",{className:"edit-gas-display__dapp-acknowledgement-warning"},r.default.createElement(m.default,{className:"actionable-message--warning",message:O("gasDisplayDappWarning",[n.origin]),iconFillColor:"var(--color-warning-default)",useIcon:!0})),e===i.EditGasModes.speedUp&&r.default.createElement("div",{className:"edit-gas-display__top-tooltip"},r.default.createElement(u.Text,{color:l.TextColor.textDefault,variant:l.TextVariant.bodySm,as:"h6",fontWeight:l.FontWeight.Bold},O("speedUpTooltipText")," ",r.default.createElement(d.default,{position:"top",contentText:O("speedUpExplanation")}))),r.default.createElement(u.Text,{color:l.TextColor.textDefault,variant:l.TextVariant.displayMd,as:"h1",textAlign:l.TextAlign.Center},t),S&&r.default.createElement(s.default,{className:"edit-gas-display__dapp-acknowledgement-button",onClick:()=>E(!0)},O("gasDisplayAcknowledgeDappButtonText")),!S&&r.default.createElement(f.default,{gasLimit:y,setGasLimit:v,gasPrice:a,setGasPrice:g,onManualChange:T,minimumGasLimit:w,gasErrors:x})),r.default.createElement("div",{ref:C,className:"edit-gas-display__scroll-bottom"}))}v.propTypes={mode:a.default.oneOf(Object.values(i.EditGasModes)),estimatedMinimumNative:a.default.string,gasPrice:a.default.string,setGasPrice:a.default.func,gasLimit:a.default.number,setGasLimit:a.default.func,properGasLimit:a.default.number,dappSuggestedGasFeeAcknowledged:a.default.bool,setDappSuggestedGasFeeAcknowledged:a.default.func,transaction:a.default.object,onManualChange:a.default.func,minimumGasLimit:a.default.string,balanceError:a.default.bool,gasErrors:a.default.object,txParamsHaveBeenCustomized:a.default.bool}}}},{package:"$root$",file:"ui/components/app/edit-gas-display/edit-gas-display.component.js"}],[3556,{"./edit-gas-display.component":3555},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./edit-gas-display.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/edit-gas-display/index.js"}],[3557,{"../../../../shared/constants/gas":3404,"../../../contexts/gasFee":4072,"../../../contexts/transaction-modal":4075,"../../../helpers/constants/design-system":4096,"../../../helpers/constants/gas":4098,"../../../hooks/useI18nContext":4157,"../../../hooks/useTransactionEventFragment":4176,"../../component-library":3846,"../../ui/info-tooltip/info-tooltip":3992,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=h;var r=m(e("react")),a=m(e("prop-types")),o=e("../../../../shared/constants/gas"),i=e("../../../helpers/constants/design-system"),s=e("../../../helpers/constants/gas"),l=e("../../../contexts/gasFee"),u=e("../../../hooks/useI18nContext"),c=e("../../../hooks/useTransactionEventFragment"),d=e("../../../contexts/transaction-modal"),p=m(e("../../ui/info-tooltip/info-tooltip")),f=e("../../component-library");function m(e){return e&&e.__esModule?e:{default:e}}function h({userAcknowledgedGasMissing:e}){const t=(0,u.useI18nContext)(),{editGasMode:n,gasLimit:a,hasSimulationError:m,estimateUsed:h,maxFeePerGas:g,maxPriorityFeePerGas:y,supportsEIP1559:v,transaction:b}=(0,l.useGasFeeContext)(),{updateTransactionEventFragment:_}=(0,c.useTransactionEventFragment)(),{openModal:E}=(0,d.useTransactionModalContext)();if(!v||!h||!(!m||!0===e))return null;let T=h,w=h;h===o.PriorityLevels.high&&n===o.EditGasModes.swaps?(T="swapSuggested",w="swapSuggested"):h===o.PriorityLevels.tenPercentIncreased&&(T=undefined,w="tenPercentIncreased");return r.default.createElement("div",{className:"edit-gas-fee-button"},r.default.createElement("button",{onClick:()=>{_({gas_edit_attempted:"basic"}),E("editGasFee")},"data-testid":"edit-gas-fee-button"},T&&r.default.createElement("span",{className:"edit-gas-fee-button__icon"},s.PRIORITY_LEVEL_ICON_MAP[T]),r.default.createElement("span",{className:"edit-gas-fee-button__label"},t(w)),r.default.createElement(f.Icon,{name:f.IconName.ArrowRight,color:i.Color.primaryDefault,size:f.IconSize.Xs})),"custom"===h&&r.default.createElement("button",{onClick:()=>{_({gas_edit_attempted:"advanced"}),E("advancedGasFee")}},t("edit")),"dappSuggested"===h&&r.default.createElement(p.default,{contentText:r.default.createElement("div",{className:"edit-gas-fee-button__tooltip"},(null==b?void 0:b.origin)&&r.default.createElement(f.Text,{variant:i.TextVariant.bodySm,as:"h6",color:i.TextColor.textAlternative},t("dappSuggestedTooltip",[b.origin])),r.default.createElement(f.Text,{variant:i.TextVariant.bodySm,as:"h6"},r.default.createElement("b",null,t("maxBaseFee"))," ",g),r.default.createElement(f.Text,{variant:i.TextVariant.bodySm,as:"h6"},r.default.createElement("b",null,t("maxPriorityFee"))," ",y),r.default.createElement(f.Text,{variant:i.TextVariant.bodySm,as:"h6"},r.default.createElement("b",null,t("gasLimit"))," ",a)),position:"top"}))}h.propTypes={userAcknowledgedGasMissing:a.default.bool}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-button/edit-gas-fee-button.js"}],[3558,{"./edit-gas-fee-button":3557},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./edit-gas-fee-button"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-button/index.js"}],[3559,{"../../../../shared/constants/gas":3404,"../../../contexts/gasFee":4072,"../../../contexts/transaction-modal":4075,"../../../helpers/constants/design-system":4096,"../../../helpers/constants/error-keys":4097,"../../../helpers/constants/zendesk-url":4103,"../../../hooks/useI18nContext":4157,"../../component-library":3846,"../../ui/box":3927,"../../ui/error-message":3959,"../../ui/popover":4026,"../app-loading-spinner":3486,"./edit-gas-item":3561,"./network-statistics":3566,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=v(e("react")),a=e("../../../../shared/constants/gas"),o=e("../../../hooks/useI18nContext"),i=e("../../../contexts/transaction-modal"),s=v(e("../../ui/box")),l=v(e("../../ui/error-message")),u=v(e("../../ui/popover")),c=e("../../../helpers/constants/design-system"),d=e("../../../helpers/constants/error-keys"),p=e("../../../contexts/gasFee"),f=v(e("../app-loading-spinner")),m=v(e("../../../helpers/constants/zendesk-url")),h=e("../../component-library"),g=v(e("./edit-gas-item")),y=v(e("./network-statistics"));function v(e){return e&&e.__esModule?e:{default:e}}var b=()=>{const{balanceError:e,editGasMode:t}=(0,p.useGasFeeContext)(),n=(0,o.useI18nContext)(),{closeAllModals:v,closeModal:b,currentModal:_,openModalCount:E}=(0,i.useTransactionModalContext)();if("editGasFee"!==_)return null;let T="editGasFeeModalTitle";return t===a.EditGasModes.cancel?T="editCancellationGasFeeModalTitle":t===a.EditGasModes.speedUp&&(T="editSpeedUpEditGasFeeModalTitle"),r.default.createElement(u.default,{title:n(T),onBack:1===E?undefined:()=>b(["editGasFee"]),onClose:v,className:"edit-gas-fee-popover"},r.default.createElement(r.default.Fragment,null,r.default.createElement(f.default,null),r.default.createElement("div",{className:"edit-gas-fee-popover__wrapper"},r.default.createElement("div",{className:"edit-gas-fee-popover__content"},r.default.createElement(s.default,null,e&&r.default.createElement(l.default,{errorKey:d.INSUFFICIENT_FUNDS_ERROR_KEY}),r.default.createElement("div",{className:"edit-gas-fee-popover__content__header"},r.default.createElement("span",{className:"edit-gas-fee-popover__content__header-option"},n("gasOption")),r.default.createElement("span",{className:"edit-gas-fee-popover__content__header-time"},t!==a.EditGasModes.swaps&&n("time")),r.default.createElement("span",{className:"edit-gas-fee-popover__content__header-max-fee"},n("maxFee"))),(t===a.EditGasModes.cancel||t===a.EditGasModes.speedUp)&&r.default.createElement(g.default,{priorityLevel:a.PriorityLevels.tenPercentIncreased}),t===a.EditGasModes.modifyInPlace&&r.default.createElement(g.default,{priorityLevel:a.PriorityLevels.low}),r.default.createElement(g.default,{priorityLevel:a.PriorityLevels.medium}),r.default.createElement(g.default,{priorityLevel:a.PriorityLevels.high}),r.default.createElement("div",{className:"edit-gas-fee-popover__content__separator"}),t===a.EditGasModes.modifyInPlace&&r.default.createElement(g.default,{priorityLevel:a.PriorityLevels.dAppSuggested}),r.default.createElement(g.default,{priorityLevel:a.PriorityLevels.custom})),r.default.createElement(s.default,null,r.default.createElement(y.default,null),r.default.createElement(h.Text,{className:"edit-gas-fee-popover__know-more",align:"center",color:c.TextColor.textAlternative,tag:c.TextVariant.bodyMd,variant:c.TextVariant.bodySm,as:"h6"},n("learnMoreAboutGas",[r.default.createElement("a",{key:"learnMoreLink",target:"_blank",rel:"noopener noreferrer",href:m.default.USER_GUIDE_GAS},n("learnMore"))])))))))};n.default=b}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/edit-gas-fee-popover.js"}],[3560,{"../../../../../shared/constants/gas":3404,"../../../../contexts/gasFee":4072,"../../../../contexts/transaction-modal":4075,"../../../../helpers/constants/common":4094,"../../../../helpers/constants/gas":4098,"../../../../helpers/utils/util":4135,"../../../../hooks/useI18nContext":4157,"../../../../hooks/useTransactionEventFragment":4176,"../../../ui/info-tooltip":3990,"../../../ui/loading-heartbeat":3997,"../../user-preferenced-currency-display":3776,"../edit-gas-tooltip/edit-gas-tooltip":3564,"./useGasItemFeeDetails":3563,classnames:1943,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=b(e("classnames")),a=b(e("prop-types")),o=b(e("react")),i=e("../../../../../shared/constants/gas"),s=e("../../../../helpers/constants/gas"),l=e("../../../../helpers/constants/common"),u=e("../../../../helpers/utils/util"),c=e("../../../../contexts/gasFee"),d=e("../../../../hooks/useI18nContext"),p=e("../../../../hooks/useTransactionEventFragment"),f=e("../../../../contexts/transaction-modal"),m=b(e("../../../ui/info-tooltip")),h=b(e("../../../ui/loading-heartbeat")),g=b(e("../../user-preferenced-currency-display")),y=b(e("../edit-gas-tooltip/edit-gas-tooltip")),v=e("./useGasItemFeeDetails");function b(e){return e&&e.__esModule?e:{default:e}}const _=({priorityLevel:e})=>{const{editGasMode:t,estimateUsed:n,gasLimit:a,updateTransactionToTenPercentIncreasedGasFee:b,updateTransactionUsingDAPPSuggestedValues:_,updateTransactionUsingEstimate:E,transaction:T}=(0,c.useGasFeeContext)(),{updateTransactionEventFragment:w}=(0,p.useTransactionEventFragment)(),k=(0,d.useI18nContext)(),{closeModal:x,openModal:P}=(0,f.useTransactionModalContext)(),{dappSuggestedGasFees:O}=T,{estimateGreaterThanGasUse:C,hexMaximumTransactionFee:M,maxFeePerGas:S,maxPriorityFeePerGas:N,minWaitTime:j}=(0,v.useGasItemFeeDetails)(e);if(!(e!==i.PriorityLevels.dAppSuggested||null!=O&&O.maxFeePerGas||null!=O&&O.gasPrice))return null;const{title:I,icon:R}=((e,t)=>{let n=e,r=e;return e===i.PriorityLevels.dAppSuggested?r="dappSuggestedShortLabel":e===i.PriorityLevels.tenPercentIncreased?(n=null,r="tenPercentIncreased"):e===i.PriorityLevels.high&&t===i.EditGasModes.swaps&&(n="swapSuggested",r="swapSuggested"),{title:r,icon:n}})(e,t);return o.default.createElement("button",{className:(0,r.default)("edit-gas-item",{"edit-gas-item--selected":e===n,"edit-gas-item--disabled":C}),onClick:()=>{e===i.PriorityLevels.custom?(w({properties:{gas_edit_attempted:"advanced"}}),P("advancedGasFee")):(w({properties:{gas_edit_type:"basic"}}),x(["editGasFee"]),e===i.PriorityLevels.tenPercentIncreased?b():e===i.PriorityLevels.dAppSuggested?_():E(e))},"aria-label":e,autoFocus:e===n,disabled:C,"data-testid":`edit-gas-fee-item-${e}`},o.default.createElement("span",{className:"edit-gas-item__name"},R&&o.default.createElement("span",{className:`edit-gas-item__icon edit-gas-item__icon-${e}`},s.PRIORITY_LEVEL_ICON_MAP[R]),k(I)),o.default.createElement("span",{className:`edit-gas-item__time-estimate edit-gas-item__time-estimate-${e}`},t!==i.EditGasModes.swaps&&(j?(0,u.toHumanReadableTime)(k,j):"--")),o.default.createElement("span",{className:`edit-gas-item__fee-estimate edit-gas-item__fee-estimate-${e}`},M?o.default.createElement("div",{className:"edit-gas-item__maxfee"},o.default.createElement(h.default,{backgroundColor:e===n?"var(--color-background-alternative)":"var(--color-background-default)",estimateUsed:e}),o.default.createElement(g.default,{key:"editGasSubTextFeeAmount",type:l.PRIMARY,value:M})):"--"),o.default.createElement("span",{className:"edit-gas-item__tooltip","data-testid":"gas-tooltip"},o.default.createElement(m.default,{contentText:o.default.createElement(y.default,{t:k,priorityLevel:e,maxFeePerGas:S,maxPriorityFeePerGas:N,editGasMode:t,gasLimit:a,transaction:T,estimateGreaterThanGasUse:C}),position:"top"})))};_.propTypes={priorityLevel:a.default.string};var E=_;n.default=E}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/edit-gas-item/edit-gas-item.js"}],[3561,{"./edit-gas-item":3560},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./edit-gas-item"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/edit-gas-item/index.js"}],[3562,{"../../../../../shared/constants/gas":3404,"../../../../ducks/metamask/metamask":4088,"../../../../store/actions":4471,"bignumber.js":1810,react:3206,"react-redux":3159},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCustomTimeEstimate=void 0;var r,a=e("react"),o=e("react-redux"),i=(r=e("bignumber.js"))&&r.__esModule?r:{default:r},s=e("../../../../../shared/constants/gas"),l=e("../../../../ducks/metamask/metamask"),u=e("../../../../store/actions");n.useCustomTimeEstimate=({gasFeeEstimates:e,maxFeePerGas:t,maxPriorityFeePerGas:n})=>{const r=(0,o.useSelector)(l.getGasEstimateType),c=(0,o.useSelector)(l.getIsGasEstimatesLoading),[d,p]=(0,a.useState)(null),f=c||r!==s.GasEstimateTypes.feeMarket||!n,m=(null==e?void 0:e.low)&&Number(n)<Number(e.low.suggestedMaxPriorityFeePerGas);if((0,a.useEffect)((()=>{!c&&r===s.GasEstimateTypes.feeMarket&&n&&m&&(0,u.getGasFeeTimeEstimate)(new i.default(n,10).toString(10),new i.default(t,10).toString(10)).then((e=>{p(e)}))}),[r,m,c,t,n,f]),f)return{};const{low:h={},medium:g={},high:y={}}=e;let v="";return v=m&&d&&"unknown"!==d&&"unknown"!==(null==d?void 0:d.upperTimeBound)?Number(null==d?void 0:d.upperTimeBound):Number(n)>=Number(g.suggestedMaxPriorityFeePerGas)?y.minWaitTimeEstimate:h.maxWaitTimeEstimate,{waitTimeEstimate:v}}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/edit-gas-item/useCustomTimeEstimate.js"}],[3563,{"../../../../../shared/constants/gas":3404,"../../../../../shared/modules/conversion.utils":3432,"../../../../../shared/modules/gas.utils":3435,"../../../../contexts/gasFee":4072,"../../../../helpers/utils/gas":4119,"../../../../selectors":4464,"./useCustomTimeEstimate":3562,react:3206,"react-redux":3159},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasItemFeeDetails=void 0;var r=e("react"),a=e("react-redux"),o=e("../../../../../shared/constants/gas"),i=e("../../../../../shared/modules/gas.utils"),s=e("../../../../helpers/utils/gas"),l=e("../../../../selectors"),u=e("../../../../contexts/gasFee"),c=e("../../../../../shared/modules/conversion.utils"),d=e("./useCustomTimeEstimate");n.useGasItemFeeDetails=e=>{const{editGasMode:t,estimateUsed:n,gasFeeEstimates:p,gasLimit:f,maxFeePerGas:m,maxPriorityFeePerGas:h,transaction:g}=(0,u.useGasFeeContext)(),[y,v]=(0,r.useState)(!1),b=(0,a.useSelector)(l.getAdvancedGasFeeValues);let _,E,T;const{dappSuggestedGasFees:w}=g;if(null!=p&&p[e])_=p[e].suggestedMaxFeePerGas,E=p[e].suggestedMaxPriorityFeePerGas;else if(e===o.PriorityLevels.dAppSuggested&&w)_=(0,c.hexWEIToDecGWEI)(w.maxFeePerGas||w.gasPrice),E=(0,c.hexWEIToDecGWEI)(w.maxPriorityFeePerGas||_);else if(e===o.PriorityLevels.custom)n===o.PriorityLevels.custom?(_=m,E=h):b&&t!==o.EditGasModes.swaps&&(_=b.maxBaseFee,E=b.priorityFee);else if(e===o.PriorityLevels.tenPercentIncreased&&g.previousGas){var k,x;_=(0,c.hexWEIToDecGWEI)((0,s.addTenPercentAndRound)(null===(k=g.previousGas)||void 0===k?void 0:k.maxFeePerGas)),E=(0,c.hexWEIToDecGWEI)((0,s.addTenPercentAndRound)(null===(x=g.previousGas)||void 0===x?void 0:x.maxPriorityFeePerGas))}const{waitTimeEstimate:P}=(0,d.useCustomTimeEstimate)({gasFeeEstimates:p,maxFeePerGas:_,maxPriorityFeePerGas:E});T=p[e]?e===o.PriorityLevels.high?null==p?void 0:p.high.minWaitTimeEstimate:null==p?void 0:p.low.maxWaitTimeEstimate:P;const O=_?(0,i.getMaximumGasTotalInHexWei)({gasLimit:(0,c.decimalToHex)(f),maxFeePerGas:(0,c.decGWEIToHexWEI)(_)}):null;return(0,r.useEffect)((()=>{if(!(t!==o.EditGasModes.cancel&&t!==o.EditGasModes.speedUp||e!==o.PriorityLevels.medium&&e!==o.PriorityLevels.high)){const t=!(0,s.gasEstimateGreaterThanGasUsedPlusTenPercent)(g.previousGas||g.txParams,p,e);v(t)}}),[t,p,e,g]),{estimateGreaterThanGasUse:y,maxFeePerGas:_,maxPriorityFeePerGas:E,minWaitTime:T,hexMaximumTransactionFee:O}}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/edit-gas-item/useGasItemFeeDetails.js"}],[3564,{"../../../../../shared/constants/gas":3404,"../../../../helpers/constants/design-system":4096,"../../../../helpers/utils/gas":4119,"../../../../helpers/utils/util":4135,"../../../component-library":3846,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),o=(r=e("prop-types"))&&r.__esModule?r:{default:r},i=e("../../../../../shared/constants/gas"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../helpers/utils/gas"),u=e("../../../../helpers/utils/util"),c=e("../../../component-library");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const p=({editGasMode:e,estimateGreaterThanGasUse:t,gasLimit:n,priorityLevel:r,maxFeePerGas:o,maxPriorityFeePerGas:d,transaction:p,t:f})=>{const m=(0,a.useMemo)((()=>{switch(r){case i.PriorityLevels.low:return f("lowGasSettingToolTipMessage",[a.default.createElement("span",{key:r},a.default.createElement("b",null,f("low")))]);case i.PriorityLevels.medium:return t?f("disabledGasOptionToolTipMessage",[a.default.createElement("span",{key:`disabled-priority-level-${r}`},f(r))]):f("mediumGasSettingToolTipMessage",[a.default.createElement("span",{key:r},a.default.createElement("b",null,f("medium")))]);case i.PriorityLevels.high:return t?f("disabledGasOptionToolTipMessage",[a.default.createElement("span",{key:`disabled-priority-level-${r}`},f(r))]):e===i.EditGasModes.swaps?f("swapSuggestedGasSettingToolTipMessage"):f("highGasSettingToolTipMessage",[a.default.createElement("span",{key:r},a.default.createElement("b",null,f("high")))]);case i.PriorityLevels.custom:return f("customGasSettingToolTipMessage",[a.default.createElement("span",{key:r},a.default.createElement("b",null,f("custom")))]);case i.PriorityLevels.dAppSuggested:return null!=p&&p.origin?f("dappSuggestedGasSettingToolTipMessage",[a.default.createElement("span",{key:null==p?void 0:p.origin},null==p?void 0:p.origin)]):null;default:return""}}),[e,t,r,p,f]);let h;r===i.PriorityLevels.low?h=f("curveLowGasEstimate"):r===i.PriorityLevels.medium?h=f("curveMediumGasEstimate"):r===i.PriorityLevels.high&&(h=f("curveHighGasEstimate"));const g=(0,l.isMetamaskSuggestedGasEstimate)(r)&&!(r===i.PriorityLevels.high&&e===i.EditGasModes.swaps)&&!t;return a.default.createElement("div",{className:"edit-gas-tooltip__container"},g?a.default.createElement("img",{alt:h,src:`./images/curve-${r}.svg`}):null,m&&a.default.createElement("div",{className:"edit-gas-tooltip__container__message"},a.default.createElement(c.Text,{variant:s.TextVariant.bodySm,as:"h6"},m)),r===i.PriorityLevels.custom||t?null:a.default.createElement("div",{className:"edit-gas-tooltip__container__values"},a.default.createElement("div",null,a.default.createElement(c.Text,{variant:s.TextVariant.bodySm,as:"h6",fontWeight:s.FontWeight.Bold,className:"edit-gas-tooltip__container__label"},f("maxBaseFee")),o&&a.default.createElement(c.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative,className:"edit-gas-tooltip__container__value"},(0,u.roundToDecimalPlacesRemovingExtraZeroes)(o,4))),a.default.createElement("div",null,a.default.createElement(c.Text,{variant:s.TextVariant.bodySm,as:"h6",fontWeight:s.FontWeight.Bold,className:"edit-gas-tooltip__container__label"},f("priorityFeeProperCase")),d&&a.default.createElement(c.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative,className:"edit-gas-tooltip__container__value"},(0,u.roundToDecimalPlacesRemovingExtraZeroes)(d,4))),a.default.createElement("div",null,a.default.createElement(c.Text,{variant:s.TextVariant.bodySm,as:"h6",fontWeight:s.FontWeight.Bold,className:"edit-gas-tooltip__container__label"},f("gasLimit")),n&&a.default.createElement(c.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative,className:"edit-gas-tooltip__container__value"},(0,u.roundToDecimalPlacesRemovingExtraZeroes)(n,4)))))};p.propTypes={estimateGreaterThanGasUse:o.default.bool,priorityLevel:o.default.string,maxFeePerGas:o.default.oneOfType([o.default.number,o.default.string]),maxPriorityFeePerGas:o.default.oneOfType([o.default.number,o.default.string]),t:o.default.func,editGasMode:o.default.string,gasLimit:o.default.number,transaction:o.default.object};var f=p;n.default=f}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/edit-gas-tooltip/edit-gas-tooltip.js"}],[3565,{"./edit-gas-fee-popover":3559},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./edit-gas-fee-popover"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/index.js"}],[3566,{"./network-statistics":3567},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./network-statistics"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/network-statistics/index.js"}],[3567,{"../../../../contexts/gasFee":4072,"../../../../contexts/i18n":4073,"../../../../helpers/constants/design-system":4096,"../../../../helpers/utils/gas":4119,"../../../../helpers/utils/util":4135,"../../../component-library":3846,"./status-slider":3568,"./tooltips":3570,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),o=e("../../../../helpers/constants/design-system"),i=e("../../../../helpers/utils/util"),s=e("../../../../helpers/utils/gas"),l=e("../../../../contexts/i18n"),u=e("../../../../contexts/gasFee"),c=e("../../../component-library"),d=e("./tooltips"),p=(r=e("./status-slider"))&&r.__esModule?r:{default:r};function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var m=()=>{const e=(0,a.useContext)(l.I18nContext),{gasFeeEstimates:t}=(0,u.useGasFeeContext)(),n=(0,s.formatGasFeeOrFeeRange)(null==t?void 0:t.estimatedBaseFee,{precision:0}),r=(0,s.formatGasFeeOrFeeRange)(null==t?void 0:t.latestPriorityFeeRange,{precision:[1,0]}),f=null==t?void 0:t.networkCongestion;return a.default.createElement("div",{className:"network-statistics"},a.default.createElement(c.Text,{color:o.TextColor.textAlternative,fontWeight:o.FontWeight.Bold,marginTop:3,marginBottom:3,variant:o.TextVariant.bodyXs,as:"h6"},e("networkStatus")),a.default.createElement("div",{className:"network-statistics__info"},(0,i.isNullish)(n)?null:a.default.createElement("div",{className:"network-statistics__field","data-testid":"formatted-latest-base-fee"},a.default.createElement(d.BaseFeeTooltip,null,a.default.createElement("span",{className:"network-statistics__field-data"},n),a.default.createElement("span",{className:"network-statistics__field-label"},e("baseFee")))),(0,i.isNullish)(r)?null:a.default.createElement("div",{className:"network-statistics__field","data-testid":"formatted-latest-priority-fee-range"},a.default.createElement(d.PriorityFeeTooltip,null,a.default.createElement("span",{className:"network-statistics__field-data"},r),a.default.createElement("span",{className:"network-statistics__field-label"},e("priorityFee")))),(0,i.isNullish)(f)?null:a.default.createElement("div",{className:"network-statistics__field"},a.default.createElement(p.default,null))))};n.default=m}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/network-statistics/network-statistics.js"}],[3568,{"./status-slider":3569},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./status-slider"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/network-statistics/status-slider/index.js"}],[3569,{"../../../../../../shared/constants/gas":3404,"../../../../../contexts/gasFee":4072,"../../../../../hooks/useI18nContext":4157,"../tooltips":3570,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=(r=e("react"))&&r.__esModule?r:{default:r},o=e("../../../../../../shared/constants/gas"),i=e("../../../../../contexts/gasFee"),s=e("../../../../../hooks/useI18nContext"),l=e("../tooltips");const u=["#037DD6","#1876C8","#2D70BA","#4369AB","#57629E","#6A5D92","#805683","#9A4D71","#B44561","#C54055","#D73A49"];var c=()=>{const e=(0,s.useI18nContext)(),{gasFeeEstimates:t}=(0,i.useGasFeeContext)(),n=(e=>{const t=e??.5,n=Math.round(10*t),r=u[n],a=10*n;return t>=o.NetworkCongestionThresholds.busy?{statusLabel:"busy",tooltipLabel:"highLowercase",color:r,sliderTickValue:a}:t>=o.NetworkCongestionThresholds.stable?{statusLabel:"stable",tooltipLabel:"stableLowercase",color:r,sliderTickValue:a}:{statusLabel:"notBusy",tooltipLabel:"lowLowercase",color:r,sliderTickValue:a}})(t.networkCongestion);return a.default.createElement(l.NetworkStabilityTooltip,{color:n.color,tooltipLabel:n.tooltipLabel},a.default.createElement("div",{className:"status-slider"},a.default.createElement("div",{className:"status-slider__arrow-container"},a.default.createElement("div",{className:"status-slider__arrow-border",style:{marginLeft:`${n.sliderTickValue}%`},"data-testid":"status-slider-arrow-border"},a.default.createElement("div",{className:"status-slider__arrow",style:{borderTopColor:n.color},"data-testid":"status-slider-arrow"}))),a.default.createElement("div",{className:"status-slider__line"}),a.default.createElement("div",{className:"status-slider__label",style:{color:n.color},"data-testid":"status-slider-label"},e(n.statusLabel))))};n.default=c}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/network-statistics/status-slider/status-slider.js"}],[3570,{"../../../../helpers/constants/design-system":4096,"../../../../hooks/useI18nContext":4157,"../../../ui/box":3927,"../../../ui/tooltip":4061,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PriorityFeeTooltip=n.NetworkStabilityTooltip=n.BaseFeeTooltip=void 0;var r=u(e("react")),a=u(e("prop-types")),o=e("../../../../hooks/useI18nContext"),i=u(e("../../../ui/box")),s=u(e("../../../ui/tooltip")),l=e("../../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}const c=({children:e,html:t,title:n})=>r.default.createElement(s.default,{position:"top",html:t,title:n},r.default.createElement(i.default,{display:l.DISPLAY.FLEX,flexDirection:l.FLEX_DIRECTION.COLUMN},e));c.propTypes={children:a.default.node.isRequired,html:a.default.node,title:a.default.string};const d=({children:e})=>{const t=(0,o.useI18nContext)();return r.default.createElement(c,{html:t("networkStatusBaseFeeTooltip",[r.default.createElement("strong",{key:"base_fee_medium_estimate",className:"network-status__tooltip-label"},t("medium")),r.default.createElement("strong",{key:"base_fee_high_estimate",className:"network-status__tooltip-label"},t("high"))])},e)};n.BaseFeeTooltip=d,d.propTypes={children:a.default.node.isRequired};const p=({children:e})=>{const t=(0,o.useI18nContext)();return r.default.createElement(c,{title:t("networkStatusPriorityFeeTooltip")},e)};n.PriorityFeeTooltip=p,p.propTypes={children:a.default.node.isRequired};const f=({children:e,color:t,tooltipLabel:n})=>{const a=(0,o.useI18nContext)();return r.default.createElement(c,{html:a("networkStatusStabilityFeeTooltip",[r.default.createElement("strong",{key:"network-status__tooltip",className:"network-status__tooltip-label",style:{color:t}},a(n))])},e)};n.NetworkStabilityTooltip=f,f.propTypes={children:a.default.node.isRequired,color:a.default.string.isRequired,tooltipLabel:a.default.string.isRequired}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/network-statistics/tooltips.js"}],[3571,{"../../../../shared/constants/gas":3404,"../../../../shared/modules/conversion.utils":3432,"../../../../shared/modules/transaction.utils":3445,"../../../contexts/i18n":4073,"../../../hooks/gasFeeInput/useGasFeeInputs":4141,"../../../hooks/useIncrementedGasFees":4158,"../../../store/actions":4471,"../../ui/button":3931,"../../ui/loading-heartbeat":3997,"../../ui/popover":4026,"../edit-gas-display":3556,"prop-types":3019,react:3206,"react-redux":3159},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=_;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=y(e("prop-types")),o=e("react-redux"),i=e("../../../hooks/gasFeeInput/useGasFeeInputs"),s=e("../../../../shared/modules/transaction.utils"),l=e("../../../../shared/constants/gas"),u=y(e("../../ui/popover")),c=y(e("../../ui/button")),d=y(e("../edit-gas-display")),p=e("../../../contexts/i18n"),f=e("../../../store/actions"),m=y(e("../../ui/loading-heartbeat")),h=e("../../../hooks/useIncrementedGasFees"),g=e("../../../../shared/modules/conversion.utils");function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(this,arguments)}function _({popoverTitle:e="",confirmButtonText:t="",editGasDisplayProps:n={},transaction:a,mode:y,onClose:v,minimumGasLimit:_=l.GAS_LIMITS.SIMPLE}){const E=(0,r.useContext)(p.I18nContext),T=(0,o.useDispatch)(),[w,k]=(0,r.useState)(!1),x=(0,g.hexToDecimal)(_),P=(0,h.useIncrementedGasFees)(a);let O=a;y!==l.EditGasModes.speedUp&&y!==l.EditGasModes.cancel||(O={...a,userFeeLevel:l.CUSTOM_GAS_ESTIMATE,txParams:{...a.txParams,...P}});const{estimatedMinimumNative:C,gasPrice:M,setGasPrice:S,gasLimit:N,setGasLimit:j,properGasLimit:I,estimateToUse:R,hasGasErrors:D,gasErrors:L,onManualChange:A,balanceError:W}=(0,i.useGasFeeInputs)(l.GasRecommendations.medium,O,_,y),q=R===l.CUSTOM_GAS_ESTIMATE||(0,s.txParamsAreDappSuggested)(O),F=(0,r.useCallback)((()=>{v?v():T((0,f.hideModal)())}),[v,T]),$=(0,r.useCallback)((async()=>{O&&y||F();const e={gas:(0,g.decimalToHex)(N),gasLimit:(0,g.decimalToHex)(N),estimateUsed:R,gasPrice:(0,g.decGWEIToHexWEI)(M)},t={...O.txParams},n={...O,userEditedGasLimit:N!==Number(a.originalGasEstimate),userFeeLevel:R||l.CUSTOM_GAS_ESTIMATE,txParams:{...t,...e}};switch(y){case l.EditGasModes.cancel:T((0,f.createCancelTransaction)(O.id,e));break;case l.EditGasModes.speedUp:T((0,f.createSpeedUpTransaction)(O.id,e));break;case l.EditGasModes.modifyInPlace:e.userEditedGasLimit=n.userEditedGasLimit,e.userFeeLevel=n.userFeeLevel,T((0,f.showLoadingIndication)()),await T((0,f.updateTransactionGasFees)(n.id,e)),T((0,f.hideLoadingIndication)())}F()}),[O,y,T,F,N,M,a.originalGasEstimate,R]);let B=E("editGasTitle");e?B=e:y===l.EditGasModes.speedUp?B=E("speedUpPopoverTitle"):y===l.EditGasModes.cancel&&(B=E("cancelPopoverTitle"));const G=t||E("save");return r.default.createElement(u.default,{title:B,onClose:F,className:"edit-gas-popover__wrapper",footer:r.default.createElement(c.default,{type:"primary",onClick:$,disabled:D||W||!q},G)},r.default.createElement("div",{style:{padding:"0 20px 20px 20px",position:"relative"}},r.default.createElement(m.default,null),r.default.createElement(d.default,b({dappSuggestedGasFeeAcknowledged:w,setDappSuggestedGasFeeAcknowledged:k,estimatedMinimumNative:C,gasPrice:M,setGasPrice:S,gasLimit:N,setGasLimit:j,properGasLimit:I,mode:y,transaction:O,onManualChange:A,minimumGasLimit:x,balanceError:W,txParamsHaveBeenCustomized:q,gasErrors:L},n))))}_.propTypes={popoverTitle:a.default.string,editGasDisplayProps:a.default.object,confirmButtonText:a.default.string,onClose:a.default.func,transaction:a.default.object,mode:a.default.oneOf(Object.values(l.EditGasModes)),minimumGasLimit:a.default.string}}}},{package:"$root$",file:"ui/components/app/edit-gas-popover/edit-gas-popover.component.js"}],[3572,{"./edit-gas-popover.component":3571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./edit-gas-popover.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/edit-gas-popover/index.js"}],[3573,{"../../../../helpers/constants/design-system":4096,"../../../../hooks/useI18nContext":4157,"../../../../selectors":4464,"../../../component-library":3846,"../../../ui/box":3927,"../../../ui/info-tooltip/info-tooltip":3992,react:3206,"react-redux":3159},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=d(e("react")),a=e("react-redux"),o=e("../../../../helpers/constants/design-system"),i=e("../../../../hooks/useI18nContext"),s=e("../../../../selectors"),l=d(e("../../../ui/box")),u=d(e("../../../ui/info-tooltip/info-tooltip")),c=e("../../../component-library");function d(e){return e&&e.__esModule?e:{default:e}}var p=()=>{const e=(0,i.useI18nContext)(),t=(0,a.useSelector)(s.getIsMainnet);return r.default.createElement(l.default,{display:"flex"},r.default.createElement(l.default,{marginRight:1},e("gas")),r.default.createElement("span",{className:"gas-details-item-title__estimate"},"(",e("transactionDetailGasInfoV2"),")"),r.default.createElement(u.default,{contentText:r.default.createElement(r.default.Fragment,null,r.default.createElement(c.Text,{variant:o.TextVariant.bodySm,as:"h6"},e("transactionDetailGasTooltipIntro",[t?e("networkNameEthereum"):""])),r.default.createElement(c.Text,{variant:o.TextVariant.bodySm,as:"h6"},e("transactionDetailGasTooltipExplanation")),r.default.createElement(c.Text,{variant:o.TextVariant.bodySm,as:"h6"},r.default.createElement("a",{href:"https://community.metamask.io/t/what-is-gas-why-do-transactions-take-so-long/3172",target:"_blank",rel:"noopener noreferrer"},e("transactionDetailGasTooltipConversion")))),position:"bottom"}))};n.default=p}}},{package:"$root$",file:"ui/components/app/gas-details-item/gas-details-item-title/gas-details-item-title.js"}],[3574,{"./gas-details-item-title":3573},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./gas-details-item-title"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/gas-details-item/gas-details-item-title/index.js"}],[3575,{"../../../../shared/modules/conversion.utils":3432,"../../../contexts/gasFee":4072,"../../../ducks/send":4090,"../../../helpers/constants/common":4094,"../../../helpers/constants/design-system":4096,"../../../hooks/useDraftTransactionWithTxParams":4153,"../../../hooks/useI18nContext":4157,"../../../selectors":4464,"../../ui/box":3927,"../../ui/loading-heartbeat":3997,"../gas-timing/gas-timing.component":3577,"../transaction-detail-item/transaction-detail-item.component":3762,"../user-preferenced-currency-display":3776,"./gas-details-item-title":3574,classnames:1943,"prop-types":3019,react:3206,"react-redux":3159},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=E(e("react")),a=E(e("prop-types")),o=E(e("classnames")),i=e("react-redux"),s=e("../../../helpers/constants/design-system"),l=e("../../../helpers/constants/common"),u=e("../../../selectors"),c=e("../../../ducks/send"),d=e("../../../contexts/gasFee"),p=e("../../../hooks/useI18nContext"),f=E(e("../../ui/box")),m=E(e("../../ui/loading-heartbeat")),h=E(e("../gas-timing/gas-timing.component")),g=E(e("../transaction-detail-item/transaction-detail-item.component")),y=E(e("../user-preferenced-currency-display")),v=e("../../../../shared/modules/conversion.utils"),b=e("../../../hooks/useDraftTransactionWithTxParams"),_=E(e("./gas-details-item-title"));function E(e){return e&&e.__esModule?e:{default:e}}const T=({userAcknowledgedGasMissing:e=!1})=>{var t,n;const a=(0,p.useI18nContext)(),E=(0,i.useSelector)(c.getCurrentDraftTransaction),T=(0,b.useDraftTransactionWithTxParams)(),{hexMinimumTransactionFee:w,hexMaximumTransactionFee:k}=(0,i.useSelector)((e=>(0,u.transactionFeeSelector)(e,T))),{estimateUsed:x,hasSimulationError:P,maximumCostInHexWei:O,minimumCostInHexWei:C,maxPriorityFeePerGas:M,maxFeePerGas:S}=(0,d.useGasFeeContext)(),{useNativeCurrencyAsPrimaryCurrency:N}=(0,i.useSelector)(u.getPreferences),j=(0,i.useSelector)(u.getUseCurrencyRateCheck);if(P&&!e)return null;const I=(M??(0,v.hexWEIToDecGWEI)((null===(t=T.txParams)||void 0===t?void 0:t.maxPriorityFeePerGas)??"0x0")).toString(),R=(S??(0,v.hexWEIToDecGWEI)((null===(n=T.txParams)||void 0===n?void 0:n.maxFeePerGas)??"0x0")).toString();return r.default.createElement(g.default,{key:"gas-details-item",detailTitle:r.default.createElement(_.default,null),detailTitleColor:s.TextColor.textDefault,detailText:j&&0===Object.keys(E).length&&r.default.createElement("div",{className:"gas-details-item__currency-container"},r.default.createElement(m.default,{estimateUsed:x}),r.default.createElement(y.default,{type:l.SECONDARY,value:C,hideLabel:Boolean(N)})),detailTotal:r.default.createElement("div",{className:"gas-details-item__currency-container"},r.default.createElement(m.default,{estimateUsed:x}),r.default.createElement(y.default,{type:l.PRIMARY,value:C||w,hideLabel:!N})),subText:r.default.createElement(r.default.Fragment,null,r.default.createElement(f.default,{key:"editGasSubTextFeeLabel",display:"inline-flex",className:(0,o.default)("gas-details-item__gasfee-label",{"gas-details-item__gas-fee-warning":"high"===x})},r.default.createElement(m.default,{estimateUsed:x}),r.default.createElement(f.default,{marginRight:1},r.default.createElement("strong",null,"high"===x&&"⚠ ",a("editGasSubTextFeeLabel"))),r.default.createElement("div",{key:"editGasSubTextFeeValue",className:"gas-details-item__currency-container"},r.default.createElement(m.default,{estimateUsed:x}),r.default.createElement(y.default,{key:"editGasSubTextFeeAmount",type:l.PRIMARY,value:O||k,hideLabel:!N})))),subTitle:r.default.createElement(h.default,{maxPriorityFeePerGas:I,maxFeePerGas:R})})};T.propTypes={userAcknowledgedGasMissing:a.default.bool};var w=T;n.default=w}}},{package:"$root$",file:"ui/components/app/gas-details-item/gas-details-item.js"}],[3576,{"./gas-details-item":3575},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./gas-details-item"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/gas-details-item/index.js"}],[3577,{"../../../../shared/constants/gas":3404,"../../../contexts/gasFee":4072,"../../../contexts/i18n":4073,"../../../ducks/metamask/metamask":4088,"../../../helpers/constants/design-system":4096,"../../../helpers/constants/gas":4098,"../../../hooks/usePrevious":4161,"../../../store/actions":4471,"../../ui/typography/typography":4066,"bignumber.js":1810,classnames:1943,"prop-types":3019,react:3206,"react-redux":3159},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=_;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=e("react-redux"),o=y(e("prop-types")),i=y(e("classnames")),s=y(e("bignumber.js")),l=e("../../../../shared/constants/gas"),u=e("../../../hooks/usePrevious"),c=e("../../../contexts/i18n"),d=e("../../../contexts/gasFee"),p=e("../../../ducks/metamask/metamask"),f=y(e("../../ui/typography/typography")),m=e("../../../helpers/constants/design-system"),h=e("../../../store/actions"),g=e("../../../helpers/constants/gas");function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}const b=(e=1,t)=>{const n=Math.ceil(e/1e3);return n<=90?t("gasTimingSeconds",[n]):t("gasTimingMinutes",[Math.ceil(n/60)])};function _({maxFeePerGas:e=0,maxPriorityFeePerGas:t=0,gasWarnings:n}){const o=(0,a.useSelector)(p.getGasEstimateType),y=(0,a.useSelector)(p.getGasFeeEstimates),v=(0,a.useSelector)(p.getIsGasEstimatesLoading),[_,E]=(0,r.useState)(null),T=(0,r.useContext)(c.I18nContext),{estimateUsed:w}=(0,d.useGasFeeContext)(),k=(null==y?void 0:y.low)&&Number(t)<Number(y.low.suggestedMaxPriorityFeePerGas),x=(0,u.usePrevious)(e),P=(0,u.usePrevious)(t),O=(0,u.usePrevious)(k);if((0,r.useEffect)((()=>{const n=t,r=e;(k||n&&n!==P||r&&r!==x)&&(0,h.getGasFeeTimeEstimate)(new s.default(n,10).toString(10),new s.default(r,10).toString(10)).then((a=>{e===r&&t===n&&E(a)})),!1!==k&&!0===O&&E(null)}),[t,e,k,x,P,O]),(null==n?void 0:n.maxPriorityFee)===g.GAS_FORM_ERRORS.MAX_PRIORITY_FEE_TOO_LOW||(null==n?void 0:n.maxFee)===g.GAS_FORM_ERRORS.MAX_FEE_TOO_LOW)return r.default.createElement(f.default,{variant:m.TypographyVariant.H7,fontWeight:m.FONT_WEIGHT.BOLD,className:(0,i.default)("gas-timing","gas-timing--negative")},T("editGasTooLow"));if(v||o!==l.GasEstimateTypes.feeMarket)return null;const{low:C={},medium:M={},high:S={}}=y;let N="",j="positive";return Number(t)>=Number(M.suggestedMaxPriorityFeePerGas)?N=Number(t)<Number(S.suggestedMaxPriorityFeePerGas)?T("gasTimingPositive",[b(C.maxWaitTimeEstimate,T)]):T("gasTimingVeryPositive",[b(S.minWaitTimeEstimate,T)]):("low"===w&&(j="negative"),N=k?_&&"unknown"!==_&&"unknown"!==(null==_?void 0:_.upperTimeBound)?T("gasTimingNegative",[b(Number(null==_?void 0:_.upperTimeBound),T)]):T("editGasTooLow"):T("gasTimingNegative",[b(C.maxWaitTimeEstimate,T)])),r.default.createElement(f.default,{variant:m.TypographyVariant.H7,className:(0,i.default)("gas-timing",{[`gas-timing--${j}`]:j})},N)}_.propTypes={maxPriorityFeePerGas:o.default.string,maxFeePerGas:o.default.string,gasWarnings:o.default.object}}}},{package:"$root$",file:"ui/components/app/gas-timing/gas-timing.component.js"}],[3578,{"../../../../shared/constants/metametrics":3408,"../../../contexts/i18n":4073,"../../../contexts/metametrics":4074,"../../../helpers/constants/design-system":4096,"../../component-library":3846,"../../ui/box":3927,classnames:1943,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=g;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=p(e("prop-types")),o=p(e("classnames")),i=e("../../../contexts/i18n"),s=e("../../component-library"),l=p(e("../../ui/box")),u=e("../../../helpers/constants/design-system"),c=e("../../../contexts/metametrics"),d=e("../../../../shared/constants/metametrics");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const m=14,h=m-1;function g({buttonText:e,onLongPressed:t}){const n=(0,r.useContext)(i.I18nContext),a=(0,r.useRef)(!1),[p,f]=(0,r.useState)(!1),[g,y]=(0,r.useState)(!1),v=(0,r.useContext)(c.MetaMetricsContext),b=e=>{e.stopPropagation()},_=()=>{a.current&&f(!0)},E=(0,r.useCallback)((e=>{v({category:d.MetaMetricsEventCategory.Keys,event:d.MetaMetricsEventName.SrpHoldToRevealCompleted,properties:{key_type:d.MetaMetricsEventKeyType.Srp}}),v({category:d.MetaMetricsEventCategory.Keys,event:d.MetaMetricsEventName.SrpRevealViewed,properties:{key_type:d.MetaMetricsEventKeyType.Srp}}),t(),y(!0),b(e)}),[t]),T=()=>{f(!1),y(!1)},w=(0,r.useCallback)((()=>r.default.createElement(l.default,{className:(0,o.default)("hold-to-reveal-button__absolute-fill",{"hold-to-reveal-button__absolute-fill":p,"hold-to-reveal-button__main-icon-show":g})},r.default.createElement(l.default,{className:"hold-to-reveal-button__absolute-fill"},r.default.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},r.default.createElement("circle",{className:"hold-to-reveal-button__circle-background",cx:m,cy:m,r:h}))),r.default.createElement(l.default,{className:"hold-to-reveal-button__absolute-fill"},r.default.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},r.default.createElement("circle",{"aria-label":n("holdToRevealLockedLabel"),onTransitionEnd:_,className:"hold-to-reveal-button__circle-foreground",cx:m,cy:m,r:h}))),r.default.createElement(l.default,{display:u.DISPLAY.FLEX,alignItems:u.AlignItems.center,justifyContent:u.JustifyContent.center,className:"hold-to-reveal-button__lock-icon-container"},r.default.createElement("img",{src:"images/lock-icon.svg",alt:n("padlock"),className:"hold-to-reveal-button__lock-icon"})))),[p,g,n]),k=(0,r.useCallback)((()=>p?r.default.createElement("div",{className:(0,o.default)("hold-to-reveal-button__absolute-fill",{"hold-to-reveal-button__unlock-icon-hide":g}),onAnimationEnd:T},r.default.createElement("div",{onAnimationEnd:b,className:"hold-to-reveal-button__absolute-fill hold-to-reveal-button__circle-static-outer-container"},r.default.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},r.default.createElement("circle",{className:"hold-to-reveal-button__circle-static-outer",cx:14,cy:14,r:14}))),r.default.createElement("div",{onAnimationEnd:b,className:"hold-to-reveal-button__absolute-fill hold-to-reveal-button__circle-static-inner-container"},r.default.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},r.default.createElement("circle",{className:"hold-to-reveal-button__circle-static-inner",cx:14,cy:14,r:12}))),r.default.createElement("div",{"aria-label":n("holdToRevealUnlockedLabel"),className:"hold-to-reveal-button__unlock-icon-container",onAnimationEnd:E},r.default.createElement("img",{src:"images/unlock-icon.svg",alt:n("padlock"),className:"hold-to-reveal-button__unlock-icon"}))):null),[p,g,E,n]);return r.default.createElement(s.Button,{onMouseDown:()=>{a.current=!0,v({category:d.MetaMetricsEventCategory.Keys,event:d.MetaMetricsEventName.SrpHoldToRevealClickStarted,properties:{key_type:d.MetaMetricsEventKeyType.Srp}})},onMouseUp:()=>{a.current=!1},className:"hold-to-reveal-button__button-hold",textProps:{display:u.DISPLAY.FLEX,alignItems:u.AlignItems.center}},r.default.createElement(l.default,{className:"hold-to-reveal-button__icon-container",marginRight:2},w(),k()),e)}g.propTypes={buttonText:a.default.string.isRequired,onLongPressed:a.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/hold-to-reveal-button/hold-to-reveal-button.js"}],[3579,{"./hold-to-reveal-button":3578},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./hold-to-reveal-button"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/hold-to-reveal-button/index.js"}],[3580,{"../../../helpers/constants/design-system":4096,"../../component-library":3846,"../../ui/button":3931,"../../ui/check-box":3937,"../../ui/tooltip":4061,classnames:1943,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=d(e("classnames")),o=d(e("prop-types")),i=d(e("../../ui/button")),s=d(e("../../ui/check-box")),l=d(e("../../ui/tooltip")),u=e("../../component-library"),c=e("../../../helpers/constants/design-system");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f=({acceptText:e,checkboxText:t,checkboxTooltipText:n,classNames:o=[],descriptionText:d,ignoreText:p,infoText:f,onAccept:m,onIgnore:h})=>{const[g,y]=(0,r.useState)(!1),v=t&&r.default.createElement(s.default,{id:"homeNotification_checkbox",checked:g,className:"home-notification__checkbox",onClick:()=>y((e=>!e))});return r.default.createElement("div",{className:(0,a.default)("home-notification",...o)},r.default.createElement("div",{className:"home-notification__content"},r.default.createElement("div",{className:"home-notification__content-container"},r.default.createElement("div",{className:"home-notification__text"},d)),f?r.default.createElement(l.default,{position:"top",title:f,wrapperClassName:"home-notification__tooltip-wrapper"},r.default.createElement(u.Icon,{name:u.IconName.Info,color:c.IconColor.iconDefault})):null),r.default.createElement("div",{className:"home-notification__buttons"},m&&e?r.default.createElement(i.default,{type:"primary",className:"home-notification__accept-button",onClick:m},e):null,h&&p?r.default.createElement(i.default,{type:"secondary",className:"home-notification__ignore-button",onClick:()=>h(g)},p):null,t?r.default.createElement("div",{className:"home-notification__checkbox-wrapper"},n?r.default.createElement(l.default,{position:"top",title:n,wrapperClassName:"home-notification__checkbox-label-tooltip"},v):v,r.default.createElement("label",{className:"home-notification__checkbox-label",htmlFor:"homeNotification_checkbox"},t)):null))};f.propTypes={acceptText:o.default.node,checkboxText:o.default.node,checkboxTooltipText:o.default.node,classNames:o.default.array,descriptionText:o.default.node.isRequired,ignoreText:o.default.node,infoText:o.default.node,onAccept:o.default.func,onIgnore:o.default.func};var m=f;n.default=m}}},{package:"$root$",file:"ui/components/app/home-notification/home-notification.component.js"}],[3581,{"./home-notification.component":3580},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./home-notification.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/home-notification/index.js"}],[3582,{"../../../../shared/constants/metametrics":3408,"../../../contexts/metametrics":4074,"../../../helpers/constants/design-system":4096,"../../../helpers/constants/routes":4100,"../../../hooks/useI18nContext":4157,"../../../selectors":4464,"../../../store/actions":4471,"../../ui/box/box":3926,"../../ui/button":3931,react:3206,"react-redux":3159,"react-router-dom":3179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,r.useContext)(p.MetaMetricsContext),t=(0,i.useI18nContext)(),n=(0,o.useHistory)(),h=(0,a.useSelector)(m.getIsTokenDetectionSupported),g=(0,a.useSelector)(m.getIsTokenDetectionInactiveOnMainnet),y=h||g||Boolean(!1);return r.default.createElement(u.default,{className:"import-token-link",textAlign:c.TextAlign.Center},y&&r.default.createElement(r.default.Fragment,null,r.default.createElement(l.default,{className:"import-token-link__link","data-testid":"refresh-list-button",type:"link",onClick:()=>(0,d.detectNewTokens)()},t("refreshList")),t("or")),r.default.createElement(l.default,{className:"import-token-link__link","data-testid":"import-token-button",type:"link",onClick:()=>{n.push(s.IMPORT_TOKEN_ROUTE),e({event:f.MetaMetricsEventName.TokenImportButtonClicked,category:f.MetaMetricsEventCategory.Navigation,properties:{location:"Home"}})}},y?t("importTokens"):t("importTokens").charAt(0).toUpperCase()+t("importTokens").slice(1)))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=e("react-redux"),o=e("react-router-dom"),i=e("../../../hooks/useI18nContext"),s=e("../../../helpers/constants/routes"),l=h(e("../../ui/button")),u=h(e("../../ui/box/box")),c=e("../../../helpers/constants/design-system"),d=e("../../../store/actions"),p=e("../../../contexts/metametrics"),f=e("../../../../shared/constants/metametrics"),m=e("../../../selectors");function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/app/import-token-link/import-token-link.component.js"}],[3583,{"./import-token-link.component":3582},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./import-token-link.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/import-token-link/index.js"}],[3584,{"./ledger-instruction-field":3585},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./ledger-instruction-field"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/ledger-instruction-field/index.js"}],[3585,{"../../../../app/scripts/lib/util":81,"../../../../shared/constants/app":3401,"../../../../shared/constants/hardware-wallets":3405,"../../../ducks/app/app":4080,"../../../ducks/metamask/metamask":4088,"../../../helpers/constants/design-system":4096,"../../../hooks/useI18nContext":4157,"../../../store/actions":4471,"../../component-library":3846,"prop-types":3019,react:3206,"react-redux":3159},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),o=e("react-redux"),i=(r=e("prop-types"))&&r.__esModule?r:{default:r},s=e("../../../../shared/constants/hardware-wallets"),l=e("../../../../shared/constants/app"),u=e("../../../ducks/app/app"),c=e("../../component-library"),d=e("../../../hooks/useI18nContext"),p=e("../../../helpers/constants/design-system"),f=e("../../../../app/scripts/lib/util"),m=e("../../../ducks/metamask/metamask"),h=e("../../../store/actions");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}const y=(e,t=!0,n=p.TextColor.textDefault)=>t&&a.default.createElement(c.Text,{color:n,as:"h6"},e);function v({showDataInstruction:e}){const t=(0,d.useI18nContext)(),n=(0,o.useDispatch)(),r=(0,o.useSelector)(u.getLedgerWebHidConnectedStatus),i=(0,o.useSelector)(m.getLedgerTransportType),g=(0,o.useSelector)(u.getLedgerTransportStatus),v=(0,f.getEnvironmentType)()===l.ENVIRONMENT_TYPE_FULLSCREEN;(0,a.useEffect)((()=>{(async()=>{if(i===s.LedgerTransportTypes.webhid&&r===s.WebHIDConnectedStatuses.connected&&g===s.HardwareTransportStates.none)try{const e=await(0,h.attemptLedgerTransportCreation)();n((0,u.setLedgerTransportStatus)(e?s.HardwareTransportStates.verified:s.HardwareTransportStates.unknownFailure))}catch(e){e.message.match("Failed to open the device")?n((0,u.setLedgerTransportStatus)(s.HardwareTransportStates.deviceOpenFailure)):e.message.match("the device is already open")?n((0,u.setLedgerTransportStatus)(s.HardwareTransportStates.verified)):n((0,u.setLedgerTransportStatus)(s.HardwareTransportStates.unknownFailure))}})(),(async()=>{if(i===s.LedgerTransportTypes.webhid&&r!==s.WebHIDConnectedStatuses.connected){var e,t;const r=await(null===(e=window.navigator)||void 0===e||null===(t=e.hid)||void 0===t?void 0:t.getDevices()),a=null==r?void 0:r.some((e=>e.vendorId===Number(s.LEDGER_USB_VENDOR_ID)));n((0,u.setLedgerWebHidConnectedStatus)(a?s.WebHIDConnectedStatuses.connected:s.WebHIDConnectedStatuses.notConnected))}})()}),[n,i,r,g]),(0,a.useEffect)((()=>()=>{n((0,u.setLedgerTransportStatus)(s.HardwareTransportStates.none))}),[n]);const b=i===s.LedgerTransportTypes.live,_=i===s.LedgerTransportTypes.webhid,E=(0,f.getPlatform)()===l.PLATFORM_FIREFOX;return a.default.createElement("div",null,a.default.createElement("div",{className:"confirm-detail-row"},a.default.createElement(c.BannerAlert,{severity:p.SEVERITIES.INFO},a.default.createElement("div",{className:"ledger-live-dialog"},y(t("ledgerConnectionInstructionHeader")),y(`• ${t("ledgerConnectionInstructionStepOne")}`,!E&&b),y(`• ${t("ledgerConnectionInstructionStepTwo")}`,!E&&b),y(`• ${t("ledgerConnectionInstructionStepThree")}`),y(`• ${t("ledgerConnectionInstructionStepFour")}`,e),y(a.default.createElement("span",null,a.default.createElement(c.ButtonLink,{textAlign:p.TextAlign.Left,onClick:async()=>{v?window.location.reload():global.platform.openExtensionInBrowser(null,null,!0)}},t("ledgerConnectionInstructionCloseOtherApps"))),g===s.HardwareTransportStates.deviceOpenFailure),y(a.default.createElement("span",null,a.default.createElement(c.ButtonLink,{textAlign:p.TextAlign.Left,onClick:async()=>{if(v){const e=(await window.navigator.hid.requestDevice({filters:[{vendorId:s.LEDGER_USB_VENDOR_ID}]})).some((e=>e.vendorId===Number(s.LEDGER_USB_VENDOR_ID)));n((0,u.setLedgerWebHidConnectedStatus)({webHidConnectedStatus:e?s.WebHIDConnectedStatuses.connected:s.WebHIDConnectedStatuses.notConnected}))}else global.platform.openExtensionInBrowser(null,null,!0)}},t(v?"clickToConnectLedgerViaWebHID":"openFullScreenForLedgerWebHid"))),_&&r===s.WebHIDConnectedStatuses.notConnected,p.TextColor.WARNING_DEFAULT)))))}v.propTypes={showDataInstruction:i.default.bool}}}},{package:"$root$",file:"ui/components/app/ledger-instruction-field/ledger-instruction-field.js"}],[3586,{"./loading-network-screen.container":3588},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./loading-network-screen.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/loading-network-screen/index.js"}],[3587,{"../../../../shared/constants/network":3409,"../../../../shared/constants/time":3416,"../../../helpers/constants/design-system":4096,"../../component-library":3846,"../../ui/box/box":3926,"../../ui/loading-screen":4e3,"../../ui/popover/popover.component":4027,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=p(e("prop-types")),o=p(e("../../ui/loading-screen")),i=e("../../../../shared/constants/time"),s=e("../../../../shared/constants/network"),l=p(e("../../ui/popover/popover.component")),u=e("../../component-library"),c=e("../../../helpers/constants/design-system"),d=p(e("../../ui/box/box"));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends r.PureComponent{constructor(...e){super(...e),m(this,"state",{showErrorScreen:!1}),m(this,"componentDidMount",(()=>{this.cancelCallTimeout=setTimeout(this.cancelCall,this.props.cancelTime||15*i.SECOND)})),m(this,"getConnectingLabel",(function(e){if(e)return e;const{providerConfig:t,providerId:n}=this.props,r=t.type,{t:a}=this.context;switch(r){case s.NETWORK_TYPES.MAINNET:return a("connectingToMainnet");case s.NETWORK_TYPES.GOERLI:return a("connectingToGoerli");case s.NETWORK_TYPES.SEPOLIA:return a("connectingToSepolia");case s.NETWORK_TYPES.LINEA_TESTNET:return a("connectingToLineaTestnet");default:return a("connectingTo",[n])}})),m(this,"renderConnectionFailureNotification",((e,t=!1)=>{const{showNetworkDropdown:n,setProviderArgs:a,setProviderType:o}=this.props;return r.default.createElement(l.default,{onClose:()=>{window.clearTimeout(this.cancelCallTimeout),this.setState({showErrorScreen:!1})},centerTitle:!0,title:r.default.createElement(u.Icon,{name:u.IconName.Danger,size:u.IconSize.Xl,color:c.IconColor.warningDefault})},r.default.createElement(u.Text,{variant:c.TextVariant.bodyLgMedium,textAlign:c.TextAlign.Center,margin:[0,4,4,4]},e),r.default.createElement(d.default,{display:c.DISPLAY.FLEX,padding:4,gap:2},r.default.createElement(u.ButtonSecondary,{onClick:()=>{window.clearTimeout(this.cancelCallTimeout),this.setState({showErrorScreen:!1}),n()},variant:c.TextVariant.bodySm,block:!0},this.context.t("switchNetworks")),t?r.default.createElement(u.ButtonPrimary,{onClick:()=>{this.setState({showErrorScreen:!1}),o(...a),window.clearTimeout(this.cancelCallTimeout),this.cancelCallTimeout=setTimeout(this.cancelCall,this.props.cancelTime||15*i.SECOND)},variant:c.TextVariant.bodySm,block:!0},this.context.t("tryAgain")):null))})),m(this,"renderDeprecatedRpcUrlWarning",(()=>this.renderConnectionFailureNotification(this.context.t("currentRpcUrlDeprecated"),!1))),m(this,"renderErrorScreenContent",(()=>{const{providerConfig:e}=this.props;return this.renderConnectionFailureNotification(this.context.t("networkSwitchConnectionError",[e.nickname]),!0)})),m(this,"cancelCall",(()=>{const{isNetworkLoading:e}=this.props;e&&this.setState({showErrorScreen:!0})})),m(this,"componentDidUpdate",(e=>{const{providerConfig:t}=this.props,{providerConfig:n}=e;t.type!==n.type&&(window.clearTimeout(this.cancelCallTimeout),this.setState({showErrorScreen:!1}),this.cancelCallTimeout=setTimeout(this.cancelCall,this.props.cancelTime||15*i.SECOND))})),m(this,"componentWillUnmount",(()=>{window.clearTimeout(this.cancelCallTimeout)}))}render(){const{rollbackToPreviousProvider:e,showDeprecatedRpcUrlWarning:t}=this.props;let n;return n=this.state.showErrorScreen?this.renderErrorScreenContent():t?this.renderDeprecatedRpcUrlWarning():this.getConnectingLabel(this.props.loadingMessage),r.default.createElement(o.default,{header:r.default.createElement("div",{className:"page-container__header-close",onClick:e}),showLoadingSpinner:!this.state.showErrorScreen,loadingMessage:n})}}n.default=h,m(h,"contextTypes",{t:a.default.func}),m(h,"propTypes",{loadingMessage:a.default.string,cancelTime:a.default.number,providerConfig:a.default.object,providerId:a.default.oneOfType([a.default.string,a.default.number]),showNetworkDropdown:a.default.func,setProviderArgs:a.default.array,setProviderType:a.default.func,rollbackToPreviousProvider:a.default.func,isNetworkLoading:a.default.bool,showDeprecatedRpcUrlWarning:a.default.bool})}}},{package:"$root$",file:"ui/components/app/loading-network-screen/loading-network-screen.component.js"}],[3588,{"../../../../shared/constants/network":3409,"../../../ducks/metamask/metamask":4088,"../../../selectors":4464,"../../../store/actions":4471,"./loading-network-screen.component":3587,"react-redux":3159},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=e("react-redux"),o=e("../../../../shared/constants/network"),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("../../../store/actions")),s=e("../../../selectors"),l=e("../../../ducks/metamask/metamask"),u=(r=e("./loading-network-screen.component"))&&r.__esModule?r:{default:r};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const d=["0x3","0x2a","0x4"];var p=(0,a.connect)((e=>{const{loadingMessage:t}=e.appState,n=(0,l.getProviderConfig)(e),{rpcUrl:r,chainId:a,ticker:i,nickname:u,type:c}=n,p=c===o.NETWORK_TYPES.RPC?[r,a,i,u]:[c],f=a,m=d.includes(f),h=r&&new URL(r).host.endsWith(".infura.io"),g=m&&h;let y=u;if(y===undefined){const t=(0,s.getAllEnabledNetworks)(e).find((e=>e.chainId===a));t&&(y=t.nickname)}return{isNetworkLoading:(0,s.isNetworkLoading)(e),loadingMessage:t,setProviderArgs:p,providerConfig:{...n,nickname:y},providerId:(0,s.getNetworkIdentifier)(e),showDeprecatedRpcUrlWarning:g}}),(e=>({setProviderType:t=>{e(i.setProviderType(t))},rollbackToPreviousProvider:()=>e(i.rollbackToPreviousProvider()),showNetworkDropdown:()=>e(i.showNetworkDropdown())})))(u.default);n.default=p}}},{package:"$root$",file:"ui/components/app/loading-network-screen/loading-network-screen.container.js"}],[3589,{"../../../../app/scripts/lib/util":81,"../../../../shared/constants/app":3401,"../../../../shared/constants/keyring":3406,"../../../../shared/constants/metametrics":3408,"../../../contexts/metametrics":4074,"../../../helpers/constants/routes":4100,"../../../helpers/utils/util":4135,"../../../hooks/useI18nContext":4157,"../../../selectors":4464,"../../../store/actions":4471,"../../component-library":3846,"../../ui/menu":4008,"@metamask/etherscan-link":1183,"prop-types":3019,react:3206,"react-redux":3159,"react-router-dom":3179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=T;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),o=(r=e("prop-types"))&&r.__esModule?r:{default:r},i=e("react-router-dom"),s=e("react-redux"),l=e("@metamask/etherscan-link"),u=e("../../../store/actions"),c=e("../../../helpers/constants/routes"),d=e("../../../helpers/utils/util"),p=e("../../ui/menu"),f=e("../../../selectors"),m=e("../../../hooks/useI18nContext"),h=e("../../../../app/scripts/lib/util"),g=e("../../../../shared/constants/app"),y=e("../../../../shared/constants/keyring"),v=e("../../../../shared/constants/metametrics"),b=e("../../../contexts/metametrics"),_=e("../../component-library");function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function T({anchorElement:e,onClose:t}){const n=(0,m.useI18nContext)(),r=(0,s.useDispatch)(),o=(0,i.useHistory)(),E=(0,s.useSelector)(f.getCurrentKeyring),T=(0,s.useSelector)(f.getCurrentChainId),w=(0,s.useSelector)(f.getRpcPrefsForCurrentProvider),k=(0,s.useSelector)(f.getSelectedIdentity),{address:x}=k,P=(0,l.getAccountLink)(x,T,w),{blockExplorerUrl:O}=w,C=(0,d.getURLHostName)(O),M=(0,a.useContext)(b.MetaMetricsContext),S=(0,s.useSelector)(f.getBlockExplorerLinkText),N=E.type!==y.KeyringType.hdKeyTree;return a.default.createElement(p.Menu,{anchorElement:e,className:"account-options-menu",onHide:t},a.default.createElement(p.MenuItem,{onClick:"addBlockExplorer"===S.firstPart?()=>{o.push(`${c.NETWORKS_ROUTE}#blockExplorerUrl`)}:()=>{M({event:v.MetaMetricsEventName.ExternalLinkClicked,category:v.MetaMetricsEventCategory.Navigation,properties:{link_type:v.MetaMetricsEventLinkType.AccountTracker,location:"Account Options",url_domain:(0,d.getURLHostName)(P)}}),global.platform.openTab({url:P}),t()},subtitle:C?a.default.createElement("span",{className:"account-options-menu__explorer-origin"},C):null,iconName:_.IconName.Export},n(S.firstPart,""===S.secondPart?null:[n(S.secondPart)])),(0,h.getEnvironmentType)()===g.ENVIRONMENT_TYPE_FULLSCREEN?null:a.default.createElement(p.MenuItem,{onClick:()=>{M({event:v.MetaMetricsEventName.AppWindowExpanded,category:v.MetaMetricsEventCategory.Navigation,properties:{location:"Account Options"}}),global.platform.openExtensionInBrowser(),t()},iconName:_.IconName.Expand},n("expandView")),a.default.createElement(p.MenuItem,{"data-testid":"account-options-menu__account-details",onClick:()=>{r((0,u.showModal)({name:"ACCOUNT_DETAILS"})),M({event:v.MetaMetricsEventName.NavAccountDetailsOpened,category:v.MetaMetricsEventCategory.Navigation,properties:{location:"Account Options"}}),t()},iconName:_.IconName.ScanBarcode},n("accountDetails")),a.default.createElement(p.MenuItem,{"data-testid":"account-options-menu__connected-sites",onClick:()=>{M({event:v.MetaMetricsEventName.NavConnectedSitesOpened,category:v.MetaMetricsEventCategory.Navigation,properties:{location:"Account Options"}}),o.push(c.CONNECTED_ROUTE),t()},iconName:_.IconName.Connect},n("connectedSites")),N?a.default.createElement(p.MenuItem,{"data-testid":"account-options-menu__remove-account",onClick:()=>{r((0,u.showModal)({name:"CONFIRM_REMOVE_ACCOUNT",identity:k})),t()},iconName:_.IconName.Trash},n("removeAccount")):null)}T.propTypes={anchorElement:o.default.instanceOf(window.Element),onClose:o.default.func.isRequired},T.defaultProps={anchorElement:undefined}}}},{package:"$root$",file:"ui/components/app/menu-bar/account-options-menu.js"}],[3590,{"./menu-bar":3591},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./menu-bar"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/menu-bar/index.js"}],[3591,{"../../../../app/scripts/lib/util":81,"../../../../shared/constants/app":3401,"../../../../shared/constants/metametrics":3408,"../../../contexts/metametrics":4074,"../../../helpers/constants/routes":4100,"../../../hooks/useI18nContext":4157,"../../../selectors":4464,"../../component-library":3846,"../connected-status-indicator":3536,"../selected-account":3695,"./account-options-menu":3589,react:3206,"react-redux":3159,"react-router-dom":3179,"webextension-polyfill":3385},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,f.useI18nContext)(),t=(0,r.useContext)(h.MetaMetricsContext),n=(0,o.useHistory)(),[v,b]=(0,r.useState)(!1),_=(0,i.useSelector)(m.getOriginOfCurrentTab),E=(0,r.useRef)(!1),T=(0,u.getEnvironmentType)()===c.ENVIRONMENT_TYPE_POPUP&&_&&_!==a.default.runtime.id;return r.default.createElement("div",{className:"menu-bar"},T?r.default.createElement(l.default,{onClick:()=>n.push(p.CONNECTED_ACCOUNTS_ROUTE)}):null,r.default.createElement(s.default,null),r.default.createElement("span",{style:{display:"inherit"},ref:E},r.default.createElement(g.ButtonIcon,{iconName:g.IconName.MoreVertical,className:"menu-bar__account-options","data-testid":"account-options-menu-button",ariaLabel:e("accountOptions"),onClick:()=>{t({event:d.MetaMetricsEventName.NavAccountMenuOpened,category:d.MetaMetricsEventCategory.Navigation,properties:{location:"Home"}}),b(!0)}})),v&&r.default.createElement(y.default,{anchorElement:E.current,onClose:()=>b(!1)}))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=v(e("webextension-polyfill")),o=e("react-router-dom"),i=e("react-redux"),s=v(e("../selected-account")),l=v(e("../connected-status-indicator")),u=e("../../../../app/scripts/lib/util"),c=e("../../../../shared/constants/app"),d=e("../../../../shared/constants/metametrics"),p=e("../../../helpers/constants/routes"),f=e("../../../hooks/useI18nContext"),m=e("../../../selectors"),h=e("../../../contexts/metametrics"),g=e("../../component-library"),y=v(e("./account-options-menu"));function v(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/app/menu-bar/menu-bar.js"}],[3592,{"prop-types":3019,react:3206,"react-dom":3095,"react-transition-group/CSSTransitionGroup":3192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=l(e("prop-types")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),o=e("react-dom"),i=l(e("react-transition-group/CSSTransitionGroup"));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends a.Component{constructor(...e){super(...e),u(this,"globalClickOccurred",(e=>{const{target:t}=e,n=(0,o.findDOMNode)(this);var r,a;this.props.isOpen&&t!==n&&!this.container.contains(e.target)&&(null===(r=(a=this.props).onClickOutside)||void 0===r||r.call(a,e))}))}renderPrimary(){const{isOpen:e}=this.props;if(!e)return null;const t=this.props.innerStyle||{};return a.default.createElement("div",{className:"menu-droppo",key:"menu-droppo-drawer","data-testid":"menu-droppo",style:t},this.props.children)}componentDidMount(){if(this&&document.body){document.body.addEventListener("click",this.globalClickOccurred);const e=(0,o.findDOMNode)(this);this.container=e}}componentWillUnmount(){this&&document.body&&document.body.removeEventListener("click",this.globalClickOccurred)}render(){const{containerClassName:e="",style:t}=this.props,n=this.props.speed||"300ms",{useCssTransition:r}=this.props,o={position:"fixed",...t,zIndex:"zIndex"in this.props?this.props.zIndex:0};return a.default.createElement("div",{style:o,className:`menu-droppo-container ${e}`,"data-testid":e},a.default.createElement("style",null,`\n          .menu-droppo-enter {\n            transition: transform ${n} ease-in-out;\n            transform: translateY(-200%);\n          }\n\n          .menu-droppo-enter.menu-droppo-enter-active {\n            transition: transform ${n} ease-in-out;\n            transform: translateY(0%);\n          }\n\n          .menu-droppo-leave {\n            transition: transform ${n} ease-in-out;\n            transform: translateY(0%);\n          }\n\n          .menu-droppo-leave.menu-droppo-leave-active {\n            transition: transform ${n} ease-in-out;\n            transform: translateY(-200%);\n          }\n        `),r?a.default.createElement(i.default,{className:"css-transition-group",transitionName:"menu-droppo",transitionEnterTimeout:parseInt(n,10),transitionLeaveTimeout:parseInt(n,10)},this.renderPrimary()):this.renderPrimary())}}n.default=c,u(c,"propTypes",{isOpen:r.default.bool.isRequired,innerStyle:r.default.object,children:r.default.node.isRequired,onClickOutside:r.default.func,containerClassName:r.default.string,zIndex:r.default.number,style:r.default.object.isRequired,useCssTransition:r.default.bool,speed:r.default.string})}}},{package:"$root$",file:"ui/components/app/menu-droppo.js"}],[3593,{"./metamask-template-renderer":3594,"./section-shape":3596},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SectionShape",{enumerable:!0,get:function(){return o.SectionShape}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./metamask-template-renderer"))&&r.__esModule?r:{default:r},o=e("./section-shape")}}},{package:"$root$",file:"ui/components/app/metamask-template-renderer/index.js"}],[3594,{"./safe-component-list":3595,"./section-shape":3596,lodash:2918,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=e("lodash"),o=e("./safe-component-list"),i=e("./section-shape");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function u(e){const{element:t}=e,n=o.safeComponentList[t];if(!n)throw new Error(`${t} is not in the safe component list for MetaMask template renderer`);return n}const c=({sections:e})=>{if(!e)return null;if("string"==typeof e)return e;if(e&&"object"==typeof e&&!Array.isArray(e)){const t=u(e);return r.default.createElement(t,e.props,"object"==typeof e.children?r.default.createElement(c,{sections:e.children}):null==e?void 0:e.children)}return r.default.createElement(r.default.Fragment,null,e.reduce(((e,t)=>{if(!0===(null==t?void 0:t.hide))return e;if("string"==typeof t)e.push(t);else{if(!t.key)throw new Error("When using array syntax in MetaMask Template Language, you must specify a key for each child of the array");if("object"==typeof(null==t?void 0:t.children))e.push(r.default.createElement(c,{sections:t,key:t.key}));else{const n=u(t);e.push(r.default.createElement(n,l({key:t.key},t.props),null==t?void 0:t.children))}}return e}),[]))};c.propTypes={sections:i.ValidChildren};var d=(0,r.memo)(c,((e,t)=>(0,a.isEqual)(e.sections,t.sections)));n.default=d}}},{package:"$root$",file:"ui/components/app/metamask-template-renderer/metamask-template-renderer.js"}],[3595,{"../../../pages/confirmation/components/confirmation-network-switch":4229,"../../ui/box":3927,"../../ui/button":3931,"../../ui/chip":3940,"../../ui/definition-list":3949,"../../ui/popover":4026,"../../ui/text-field":4050,"../../ui/textarea/textarea":4053,"../../ui/tooltip/tooltip":4062,"../../ui/truncated-definition-list":4063,"../../ui/typography":4065,"../../ui/url-icon":4070,"../metamask-translation":3597,"../network-display":3658},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.safeComponentList=void 0;var r=y(e("../../ui/button")),a=y(e("../../ui/chip")),o=y(e("../../ui/definition-list")),i=y(e("../../ui/truncated-definition-list")),s=y(e("../../ui/popover")),l=y(e("../../ui/typography")),u=y(e("../../ui/box")),c=y(e("../metamask-translation")),d=y(e("../network-display")),p=y(e("../../ui/textarea/textarea")),f=y(e("../../ui/text-field")),m=y(e("../../../pages/confirmation/components/confirmation-network-switch")),h=y(e("../../ui/url-icon")),g=y(e("../../ui/tooltip/tooltip"));function y(e){return e&&e.__esModule?e:{default:e}}const v={a:"a",b:"b",i:"i",p:"p",div:"div",span:"span",Box:u.default,Button:r.default,Chip:a.default,ConfirmationNetworkSwitch:m.default,DefinitionList:o.default,MetaMaskTranslation:c.default,NetworkDisplay:d.default,Popover:s.default,TextArea:p.default,TextField:f.default,Tooltip:g.default,TruncatedDefinitionList:i.default,Typography:l.default,UrlIcon:h.default};n.safeComponentList=v}}},{package:"$root$",file:"ui/components/app/metamask-template-renderer/safe-component-list.js"}],[3596,{"prop-types":3019},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ValidChildren=n.SectionShape=void 0;var r,a=(r=e("prop-types"))&&r.__esModule?r:{default:r};const o={props:a.default.object,element:a.default.string,key:a.default.string};n.SectionShape=o;const i=a.default.oneOfType([a.default.string,a.default.shape(o),a.default.arrayOf(a.default.oneOfType([a.default.shape(o),a.default.string]))]);n.ValidChildren=i,o.children=i}}},{package:"$root$",file:"ui/components/app/metamask-template-renderer/section-shape.js"}],[3597,{"./metamask-translation":3598},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./metamask-translation"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/metamask-translation/index.js"}],[3598,{"../../../hooks/useI18nContext":4157,"../metamask-template-renderer":3593,"../metamask-template-renderer/section-shape":3596,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var r=l(e("react")),a=l(e("prop-types")),o=e("../../../hooks/useI18nContext"),i=l(e("../metamask-template-renderer")),s=e("../metamask-template-renderer/section-shape");function l(e){return e&&e.__esModule?e:{default:e}}function u({translationKey:e,variables:t}){return(0,o.useI18nContext)()(e,null==t?void 0:t.map((t=>{if("object"==typeof t&&!Array.isArray(t)&&t.element){var n,a,o,s;if(!t.key)throw new Error(`When using MetaMask Template Language in a MetaMaskTranslation variable, you must provide a key for the section regardless of syntax.\n            Section with element '${t.element}' for translationKey: '${e}' has no key property`);if(t.children&&Array.isArray(t.children)&&t.children.length>2)throw new Error("MetaMaskTranslation only renders templates with a single section and maximum two children");if((null===(n=t.children)||void 0===n||null===(a=n[0])||void 0===a?void 0:a.children)!==undefined&&"string"!=typeof t.children[0].children||(null===(o=t.children)||void 0===o||null===(s=o[1])||void 0===s?void 0:s.children)!==undefined&&"string"!=typeof t.children[1].children)throw new Error("MetaMaskTranslation does not allow for component trees of non trivial depth");return r.default.createElement(i.default,{key:`${e}-${t.key}`,sections:t})}return t})))}u.propTypes={translationKey:a.default.string.isRequired,variables:a.default.arrayOf(a.default.oneOfType([a.default.string,a.default.number,a.default.shape(s.SectionShape)]))}}}},{package:"$root$",file:"ui/components/app/metamask-translation/metamask-translation.js"}],[3599,{"./modal-content":3600,"./modal.component":3602},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ModalContent",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=o(e("./modal.component")),a=o(e("./modal-content"));function o(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/app/modal/index.js"}],[3600,{"./modal-content.component":3601},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./modal-content.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modal/modal-content/index.js"}],[3601,{"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),o=(r=e("prop-types"))&&r.__esModule?r:{default:r};function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}class s extends a.PureComponent{render(){const{title:e,description:t}=this.props;return a.default.createElement("div",{className:"modal-content"},e?a.default.createElement("div",{className:"modal-content__title"},e):null,t&&a.default.createElement("div",{className:"modal-content__description"},t))}}n.default=s,function(e,t,n){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(s,"propTypes",{title:o.default.string,description:o.default.string})}}},{package:"$root$",file:"ui/components/app/modal/modal-content/modal-content.component.js"}],[3602,{"../../ui/button":3931,classnames:1943,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=s(e("prop-types")),o=s(e("classnames")),i=s(e("../../ui/button"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends r.PureComponent{render(){const{children:e,headerText:t,onClose:n,onSubmit:a,submitType:s,submitText:l,submitDisabled:u,onCancel:c,cancelType:d,cancelText:p,contentClass:f,containerClass:m,hideFooter:h}=this.props;return r.default.createElement("div",{className:(0,o.default)("modal-container",m)},t&&r.default.createElement("div",{className:"modal-container__header"},r.default.createElement("div",{className:"modal-container__header-text"},t),r.default.createElement("div",{className:"modal-container__header-close","data-testid":"modal-header-close",onClick:n})),r.default.createElement("div",{className:(0,o.default)("modal-container__content",f)},e),h?null:r.default.createElement("div",{className:"modal-container__footer"},c&&r.default.createElement(i.default,{type:d,onClick:c,className:"modal-container__footer-button"},p),r.default.createElement(i.default,{type:s,onClick:a,disabled:u,className:"modal-container__footer-button"},l)))}}n.default=c,u(c,"propTypes",{children:a.default.node,contentClass:a.default.string,containerClass:a.default.string,headerText:a.default.string,onClose:a.default.func,onSubmit:a.default.func,submitType:a.default.string,submitText:a.default.string,submitDisabled:a.default.bool,hideFooter:a.default.bool,onCancel:a.default.func,cancelType:a.default.string,cancelText:a.default.string}),u(c,"defaultProps",{submitType:"primary",cancelType:"secondary"})}}},{package:"$root$",file:"ui/components/app/modal/modal.component.js"}],[3603,{"../../../../../shared/constants/metametrics":3408,"../../../../helpers/constants/routes":4100,"../../../../helpers/utils/hardware":4120,"../../../../helpers/utils/util":4135,"../../../ui/button":3931,"../../../ui/editable-label":3957,"../../../ui/qr-code":4030,"../account-modal-container":3608,"@metamask/etherscan-link":1183,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=m(e("prop-types")),o=e("@metamask/etherscan-link"),i=m(e("../account-modal-container")),s=m(e("../../../ui/qr-code")),l=m(e("../../../ui/editable-label")),u=m(e("../../../ui/button")),c=e("../../../../helpers/utils/util"),d=e("../../../../helpers/utils/hardware"),p=e("../../../../../shared/constants/metametrics"),f=e("../../../../helpers/constants/routes");function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends r.Component{render(){const{selectedIdentity:e,chainId:t,showExportPrivateKeyModal:n,setAccountLabel:a,keyrings:m,rpcPrefs:h,history:g,hideModal:y,blockExplorerLinkText:v}=this.props,{name:b,address:_}=e,E=m.find((e=>e.accounts.includes(_)));let T=!0;(0,d.isHardwareKeyring)(null==E?void 0:E.type)&&(T=!1);return r.default.createElement(i.default,{className:"account-details-modal"},r.default.createElement(l.default,{className:"account-details-modal__name",defaultValue:b,onSubmit:e=>a(_,e),accounts:this.props.accounts}),r.default.createElement(s.default,{Qr:{data:_}}),r.default.createElement("div",{className:"account-details-modal__divider"}),r.default.createElement(u.default,{type:"secondary",className:"account-details-modal__button",onClick:"addBlockExplorer"===v.firstPart?()=>{y(),g.push(`${f.NETWORKS_ROUTE}#blockExplorerUrl`)}:()=>{const e=(0,o.getAccountLink)(_,t,h);this.context.trackEvent({category:p.MetaMetricsEventCategory.Navigation,event:p.MetaMetricsEventName.ExternalLinkClicked,properties:{link_type:p.MetaMetricsEventLinkType.AccountTracker,location:"Account Details Modal",url_domain:(0,c.getURLHostName)(e)}}),global.platform.openTab({url:e})}},this.context.t(v.firstPart,[v.secondPart])),T&&r.default.createElement(u.default,{type:"secondary",className:"account-details-modal__button",onClick:()=>{this.context.trackEvent({category:p.MetaMetricsEventCategory.Accounts,event:p.MetaMetricsEventName.KeyExportSelected,properties:{key_type:p.MetaMetricsEventKeyType.Pkey,location:"Account Details Modal"}}),n()}},this.context.t("exportPrivateKey")))}}n.default=y,g(y,"propTypes",{selectedIdentity:a.default.object,chainId:a.default.string,showExportPrivateKeyModal:a.default.func,setAccountLabel:a.default.func,keyrings:a.default.array,rpcPrefs:a.default.object,accounts:a.default.array,history:a.default.object,hideModal:a.default.func,blockExplorerLinkText:a.default.object}),g(y,"contextTypes",{t:a.default.func,trackEvent:a.default.func})}}},{package:"$root$",file:"ui/components/app/modals/account-details-modal/account-details-modal.component.js"}],[3604,{"../../../../selectors":4464,"../../../../store/actions":4471,"./account-details-modal.component":3603,"react-redux":3159,"react-router-dom":3179,redux:3223},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=e("react-redux"),o=e("redux"),i=e("react-router-dom"),s=e("../../../../store/actions"),l=e("../../../../selectors"),u=(r=e("./account-details-modal.component"))&&r.__esModule?r:{default:r};var c=(0,o.compose)(i.withRouter,(0,a.connect)((e=>({chainId:(0,l.getCurrentChainId)(e),selectedIdentity:(0,l.getSelectedIdentity)(e),keyrings:e.metamask.keyrings,rpcPrefs:(0,l.getRpcPrefsForCurrentProvider)(e),accounts:(0,l.getMetaMaskAccountsOrdered)(e),blockExplorerLinkText:(0,l.getBlockExplorerLinkText)(e,!0)})),(e=>({showExportPrivateKeyModal:()=>e((0,s.showModal)({name:"EXPORT_PRIVATE_KEY"})),setAccountLabel:(t,n)=>e((0,s.setAccountLabel)(t,n)),hideModal:()=>{e((0,s.hideModal)())}}))))(u.default);n.default=c}}},{package:"$root$",file:"ui/components/app/modals/account-details-modal/account-details-modal.container.js"}],[3605,{"./account-details-modal.container":3604},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./account-details-modal.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/account-details-modal/index.js"}],[3606,{"../../../ui/identicon":3989,classnames:1943,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=l;var r=s(e("prop-types")),a=s(e("react")),o=s(e("classnames")),i=s(e("../../../ui/identicon"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){const{className:n,selectedIdentity:r,showBackButton:s,backButtonAction:l,hideModal:u,children:c}=e;return a.default.createElement("div",{className:(0,o.default)(n,"account-modal"),style:{borderRadius:"4px"}},a.default.createElement("div",{className:"account-modal__container"},a.default.createElement("div",null,a.default.createElement(i.default,{address:r.address,diameter:64})),s&&a.default.createElement("div",{className:"account-modal__back",onClick:l},a.default.createElement("i",{className:"fa fa-angle-left fa-lg"}),a.default.createElement("span",{className:"account-modal__back-text"},t.t("back"))),a.default.createElement("button",{className:"account-modal__close",onClick:u}),c))}l.contextTypes={t:r.default.func},l.defaultProps={showBackButton:!1,children:null,backButtonAction:undefined},l.propTypes={className:r.default.string,selectedIdentity:r.default.object.isRequired,showBackButton:r.default.bool,backButtonAction:r.default.func,hideModal:r.default.func.isRequired,children:r.default.node}}}},{package:"$root$",file:"ui/components/app/modals/account-modal-container/account-modal-container.component.js"}],[3607,{"../../../../selectors":4464,"../../../../store/actions":4471,"./account-modal-container.component":3606,"react-redux":3159},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=e("react-redux"),o=e("../../../../store/actions"),i=e("../../../../selectors"),s=(r=e("./account-modal-container.component"))&&r.__esModule?r:{default:r};var l=(0,a.connect)((function(e,t){return{selectedIdentity:t.selectedIdentity||(0,i.getSelectedIdentity)(e)}}),(function(e){return{hideModal:()=>{e((0,o.hideModal)())}}}))(s.default);n.default=l}}},{package:"$root$",file:"ui/components/app/modals/account-modal-container/account-modal-container.container.js"}],[3608,{"./account-modal-container.container":3607},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./account-modal-container.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/account-modal-container/index.js"}],[3609,{"../../modal":3599,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=l(e("react")),o=(r=e("prop-types"))&&r.__esModule?r:{default:r},i=l(e("../../modal"));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends a.PureComponent{constructor(...e){super(...e),u(this,"handleDelete",(()=>{this.props.removeNetworkConfiguration(this.props.target).then((()=>{this.props.onConfirm(),this.props.hideModal()}))}))}render(){const{t:e}=this.context;return a.default.createElement(i.default,{onSubmit:this.handleDelete,onCancel:()=>this.props.hideModal(),submitText:e("delete"),cancelText:e("cancel"),submitType:"danger-primary"},a.default.createElement(i.ModalContent,{title:e("deleteNetwork"),description:e("deleteNetworkDescription")}))}}n.default=c,u(c,"propTypes",{hideModal:o.default.func.isRequired,removeNetworkConfiguration:o.default.func.isRequired,onConfirm:o.default.func.isRequired,target:o.default.string.isRequired}),u(c,"contextTypes",{t:o.default.func})}}},{package:"$root$",file:"ui/components/app/modals/confirm-delete-network/confirm-delete-network.component.js"}],[3610,{"../../../../helpers/higher-order-components/with-modal-props":4111,"../../../../store/actions":4471,"./confirm-delete-network.component":3609,"react-redux":3159,redux:3223},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("react-redux"),a=e("redux"),o=l(e("../../../../helpers/higher-order-components/with-modal-props")),i=e("../../../../store/actions"),s=l(e("./confirm-delete-network.component"));function l(e){return e&&e.__esModule?e:{default:e}}var u=(0,a.compose)(o.default,(0,r.connect)(null,(e=>({removeNetworkConfiguration:t=>e((0,i.removeNetworkConfiguration)(t))}))))(s.default);n.default=u}}},{package:"$root$",file:"ui/components/app/modals/confirm-delete-network/confirm-delete-network.container.js"}],[3611,{"./confirm-delete-network.container":3610},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./confirm-delete-network.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/confirm-delete-network/index.js"}],[3612,{"../../../../../shared/constants/metametrics":3408,"../../../../helpers/constants/zendesk-url":4103,"../../../../helpers/utils/util":4135,"../../../ui/identicon":3989,"../../modal":3599,"@metamask/etherscan-link":1183,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=d(e("prop-types")),o=e("@metamask/etherscan-link"),i=d(e("../../modal")),s=e("../../../../helpers/utils/util"),l=d(e("../../../ui/identicon")),u=e("../../../../../shared/constants/metametrics"),c=d(e("../../../../helpers/constants/zendesk-url"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends r.Component{constructor(...e){super(...e),f(this,"handleRemove",(()=>{this.props.removeAccount(this.props.identity.address).then((()=>this.props.hideModal()))})),f(this,"handleCancel",(()=>{this.props.hideModal()}))}renderSelectedAccount(){const{t:e}=this.context,{identity:t,rpcPrefs:n,chainId:a}=this.props;return r.default.createElement("div",{className:"confirm-remove-account__account"},r.default.createElement("div",{className:"confirm-remove-account__account__identicon"},r.default.createElement(l.default,{address:t.address,diameter:32})),r.default.createElement("div",{className:"confirm-remove-account__account__name"},r.default.createElement("span",{className:"confirm-remove-account__account__label"},e("name")),r.default.createElement("span",{className:"account_value"},t.name)),r.default.createElement("div",{className:"confirm-remove-account__account__address"},r.default.createElement("span",{className:"confirm-remove-account__account__label"},e("publicAddress")),r.default.createElement("span",{className:"account_value"},(0,s.addressSummary)(t.address,4,4))),r.default.createElement("div",{className:"confirm-remove-account__account__link"},r.default.createElement("a",{onClick:()=>{const e=(0,o.getAccountLink)(t.address,a,n);this.context.trackEvent({category:u.MetaMetricsEventCategory.Accounts,event:"Clicked Block Explorer Link",properties:{link_type:"Account Tracker",action:"Remove Account",block_explorer_domain:(0,s.getURLHostName)(e)}}),global.platform.openTab({url:e})},target:"_blank",rel:"noopener noreferrer",title:e("etherscanView")},r.default.createElement("i",{className:"fa fa-share-square",style:{color:"var(--color-icon-muted)"},title:e("etherscanView")}))))}render(){const{t:e}=this.context;return r.default.createElement(i.default,{headerText:`${e("removeAccount")}?`,onClose:this.handleCancel,onSubmit:this.handleRemove,onCancel:this.handleCancel,submitText:e("remove"),cancelText:e("nevermind")},r.default.createElement("div",null,this.renderSelectedAccount(),r.default.createElement("div",{className:"confirm-remove-account__description"},e("removeAccountDescription"),r.default.createElement("a",{className:"confirm-remove-account__link",rel:"noopener noreferrer",target:"_blank",href:c.default.IMPORTED_ACCOUNTS},e("learnMore")))))}}n.default=m,f(m,"propTypes",{hideModal:a.default.func.isRequired,removeAccount:a.default.func.isRequired,identity:a.default.object.isRequired,chainId:a.default.string.isRequired,rpcPrefs:a.default.object.isRequired}),f(m,"contextTypes",{t:a.default.func,trackEvent:a.default.func})}}},{package:"$root$",file:"ui/components/app/modals/confirm-remove-account/confirm-remove-account.component.js"}],[3613,{"../../../../helpers/higher-order-components/with-modal-props":4111,"../../../../selectors":4464,"../../../../store/actions":4471,"./confirm-remove-account.component":3612,"react-redux":3159,redux:3223},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("react-redux"),a=e("redux"),o=u(e("../../../../helpers/higher-order-components/with-modal-props")),i=e("../../../../selectors"),s=e("../../../../store/actions"),l=u(e("./confirm-remove-account.component"));function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,a.compose)(o.default,(0,r.connect)((e=>({chainId:(0,i.getCurrentChainId)(e),rpcPrefs:(0,i.getRpcPrefsForCurrentProvider)(e)})),(e=>({removeAccount:t=>e((0,s.removeAccount)(t))}))))(l.default);n.default=c}}},{package:"$root$",file:"ui/components/app/modals/confirm-remove-account/confirm-remove-account.container.js"}],[3614,{"./confirm-remove-account.container":3613},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./confirm-remove-account.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/confirm-remove-account/index.js"}],[3615,{"../../modal":3599,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=l(e("react")),o=(r=e("prop-types"))&&r.__esModule?r:{default:r},i=l(e("../../modal"));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends a.PureComponent{constructor(...e){super(...e),u(this,"handleReset",(()=>{this.props.resetAccount().then((()=>this.props.hideModal()))}))}render(){const{t:e}=this.context;return a.default.createElement(i.default,{onSubmit:this.handleReset,onCancel:()=>this.props.hideModal(),submitText:e("clear"),cancelText:e("nevermind"),submitType:"danger-primary"},a.default.createElement(i.ModalContent,{title:`${e("clearActivity")}?`,description:e("clearActivityDescription")}))}}n.default=c,u(c,"propTypes",{hideModal:o.default.func.isRequired,resetAccount:o.default.func.isRequired}),u(c,"contextTypes",{t:o.default.func})}}},{package:"$root$",file:"ui/components/app/modals/confirm-reset-account/confirm-reset-account.component.js"}],[3616,{"../../../../helpers/higher-order-components/with-modal-props":4111,"../../../../store/actions":4471,"./confirm-reset-account.component":3615,"react-redux":3159,redux:3223},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("react-redux"),a=e("redux"),o=l(e("../../../../helpers/higher-order-components/with-modal-props")),i=e("../../../../store/actions"),s=l(e("./confirm-reset-account.component"));function l(e){return e&&e.__esModule?e:{default:e}}var u=(0,a.compose)(o.default,(0,r.connect)(null,(e=>({resetAccount:()=>e((0,i.resetAccount)())}))))(s.default);n.default=u}}},{package:"$root$",file:"ui/components/app/modals/confirm-reset-account/confirm-reset-account.container.js"}],[3617,{"./confirm-reset-account.container":3616},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./confirm-reset-account.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/confirm-reset-account/index.js"}],[3618,{"../../../../../shared/constants/transaction":3418,"../../../../helpers/constants/design-system":4096,"../../../../hooks/useCopyToClipboard":4150,"../../../../hooks/useI18nContext":4157,"../../../../pages/send/send.utils":4340,"../../../../selectors":4464,"../../../component-library":3846,"../../../ui/box":3927,"../../../ui/button/button.component":3930,"../../../ui/identicon":3989,"../../../ui/nft-collection-image/nft-collection-image":4015,"../../../ui/popover":4026,"../../../ui/tooltip/tooltip":4062,"@metamask/etherscan-link":1183,"prop-types":3019,react:3206,"react-redux":3159},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=E;var r=_(e("react")),a=_(e("prop-types")),o=e("@metamask/etherscan-link"),i=e("react-redux"),s=_(e("../../../ui/box")),l=_(e("../../../ui/button/button.component")),u=_(e("../../../ui/tooltip/tooltip")),c=e("../../../../hooks/useI18nContext"),d=_(e("../../../ui/identicon")),p=e("../../../../pages/send/send.utils"),f=_(e("../../../ui/popover")),m=e("../../../../helpers/constants/design-system"),h=e("../../../../hooks/useCopyToClipboard"),g=e("../../../../selectors"),y=e("../../../../../shared/constants/transaction"),v=_(e("../../../ui/nft-collection-image/nft-collection-image")),b=e("../../../component-library");function _(e){return e&&e.__esModule?e:{default:e}}function E({onClose:e,tokenName:t,tokenAddress:n,toAddress:a,chainId:_,rpcPrefs:E,tokenId:T,assetName:w,assetStandard:k,isContractRequestingSignature:x}){var P,O;const C=(0,c.useI18nContext)(),[M,S]=(0,h.useCopyToClipboard)(),[N,j]=(0,h.useCopyToClipboard)(),I=(0,i.useSelector)((e=>({data:(0,g.getAddressBookEntry)(e,a)}))),R=k===y.TokenStandard.ERC721||k===y.TokenStandard.ERC1155||w&&T||t&&T;return r.default.createElement(f.default,{className:"contract-details-modal"},r.default.createElement(s.default,{paddingTop:6,paddingRight:4,paddingBottom:8,paddingLeft:4,className:"contract-details-modal__content"},r.default.createElement(b.Text,{fontWeight:m.FontWeight.Bold,variant:m.TextVariant.bodyMd,as:"h5",display:m.DISPLAY.FLEX,boxProps:{marginTop:0,marginBottom:0}},C("contractTitle")),r.default.createElement(b.Text,{variant:m.TextVariant.bodySm,as:"h6",display:m.DISPLAY.FLEX,color:m.TextColor.textAlternative,boxProps:{marginTop:2,marginBottom:0}},C("contractDescription")),!x&&r.default.createElement(r.default.Fragment,null,r.default.createElement(b.Text,{variant:m.TextVariant.bodySm,as:"h6",display:m.DISPLAY.FLEX,marginTop:4,marginBottom:2},C(R?"contractNFT":"contractToken")),r.default.createElement(s.default,{display:m.DISPLAY.FLEX,borderRadius:m.Size.SM,borderStyle:m.BorderStyle.solid,borderColor:m.BorderColor.borderDefault,className:"contract-details-modal__content__contract"},R?r.default.createElement(s.default,{margin:4},r.default.createElement(v.default,{assetName:w,tokenAddress:n})):r.default.createElement(d.default,{className:"contract-details-modal__content__contract__identicon",address:n,diameter:24}),r.default.createElement(s.default,{"data-testid":"recipient"},r.default.createElement(b.Text,{fontWeight:m.FontWeight.Bold,variant:m.TextVariant.bodyMd,as:"h5",marginTop:4},t||(0,p.ellipsify)(n)),t&&r.default.createElement(b.Text,{variant:m.TextVariant.bodySm,as:"h6",display:m.DISPLAY.FLEX,color:m.TextColor.textAlternative,marginTop:0,marginBottom:4},(0,p.ellipsify)(n))),r.default.createElement(s.default,{alignItems:m.AlignItems.center,marginLeft:"auto",marginRight:4,gap:2},r.default.createElement(u.default,{position:"top",title:C(M?"copiedExclamation":"copyToClipboard")},r.default.createElement(b.ButtonIcon,{display:m.DISPLAY.FLEX,iconName:M?b.IconName.CopySuccess:b.IconName.Copy,onClick:()=>S(n),color:m.Color.iconMuted,ariaLabel:C(M?"copiedExclamation":"copyToClipboard")})),r.default.createElement(u.default,{position:"top",title:C("openInBlockExplorer")},r.default.createElement(b.ButtonIcon,{display:m.DISPLAY.FLEX,iconName:b.IconName.Export,color:m.Color.iconMuted,onClick:()=>{const e=(0,o.getAccountLink)(n,_,{blockExplorerUrl:(null==E?void 0:E.blockExplorerUrl)??null},null);global.platform.openTab({url:e})},ariaLabel:C("openInBlockExplorer")}))))),r.default.createElement(b.Text,{variant:m.TextVariant.bodySm,as:"h6",display:m.DISPLAY.FLEX,marginTop:4,marginBottom:2},R&&C("contractRequestingAccess"),x&&C("contractRequestingSignature"),!R&&!x&&C("contractRequestingSpendingCap")),r.default.createElement(s.default,{display:m.DISPLAY.FLEX,borderRadius:m.Size.SM,borderStyle:m.BorderStyle.solid,borderColor:m.BorderColor.borderDefault,className:"contract-details-modal__content__contract"},r.default.createElement(d.default,{className:"contract-details-modal__content__contract__identicon",diameter:24,address:a}),r.default.createElement(s.default,{"data-testid":"recipient"},r.default.createElement(b.Text,{fontWeight:m.FontWeight.Bold,variant:m.TextVariant.bodyMd,as:"h5",marginTop:4},(null==I||null===(P=I.data)||void 0===P?void 0:P.name)||(0,p.ellipsify)(a)),(null==I||null===(O=I.data)||void 0===O?void 0:O.name)&&r.default.createElement(b.Text,{variant:m.TextVariant.bodySm,as:"h6",display:m.DISPLAY.FLEX,color:m.TextColor.textAlternative,marginTop:0,marginBottom:4},(0,p.ellipsify)(a))),r.default.createElement(s.default,{alignItems:m.AlignItems.center,marginLeft:"auto",marginRight:4,gap:2},r.default.createElement(u.default,{position:"top",title:C(N?"copiedExclamation":"copyToClipboard")},r.default.createElement(b.ButtonIcon,{display:m.DISPLAY.FLEX,iconName:N?b.IconName.CopySuccess:b.IconName.Copy,onClick:()=>j(a),color:m.Color.iconMuted,ariaLabel:C(M?"copiedExclamation":"copyToClipboard")})),r.default.createElement(u.default,{position:"top",title:C("openInBlockExplorer")},r.default.createElement(b.ButtonIcon,{display:m.DISPLAY.FLEX,iconName:b.IconName.Export,color:m.Color.iconMuted,onClick:()=>{const e=(0,o.getAccountLink)(a,_,{blockExplorerUrl:(null==E?void 0:E.blockExplorerUrl)??null},null);global.platform.openTab({url:e})},ariaLabel:C("openInBlockExplorer")}))))),r.default.createElement(s.default,{display:m.DISPLAY.FLEX,paddingTop:6,paddingRight:4,paddingBottom:6,paddingLeft:4},r.default.createElement(l.default,{type:"primary",onClick:()=>e()},C("recoveryPhraseReminderConfirm"))))}E.propTypes={onClose:a.default.func,tokenName:a.default.string,tokenAddress:a.default.string,toAddress:a.default.string,chainId:a.default.string,rpcPrefs:a.default.object,tokenId:a.default.string,assetStandard:a.default.string,assetName:a.default.string,isContractRequestingSignature:a.default.bool}}}},{package:"$root$",file:"ui/components/app/modals/contract-details-modal/contract-details-modal.js"}],[3619,{"../../../../../shared/modules/string-utils":3443,"../../../../ducks/metamask/metamask":4088,"../../../../helpers/constants/design-system":4096,"../../../../helpers/constants/routes":4100,"../../../../helpers/higher-order-components/with-modal-props":4111,"../../../../hooks/useI18nContext":4157,"../../../../store/actions":4471,"../../../ui/typography":4065,"../../modal":3599,"prop-types":3019,react:3206,"react-redux":3159,"react-router-dom":3179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=g(e("react")),a=g(e("prop-types")),o=e("react-router-dom"),i=e("react-redux"),s=g(e("../../modal")),l=g(e("../../../ui/typography")),u=e("../../../../helpers/constants/design-system"),c=g(e("../../../../helpers/higher-order-components/with-modal-props")),d=e("../../../../hooks/useI18nContext"),p=e("../../../../helpers/constants/routes"),f=e("../../../../ducks/metamask/metamask"),m=e("../../../../store/actions"),h=e("../../../../../shared/modules/string-utils");function g(e){return e&&e.__esModule?e:{default:e}}const y=({hideModal:e,tokenAddress:t})=>{const n=(0,o.useHistory)(),a=(0,d.useI18nContext)(),c=(0,i.useDispatch)(),g=(0,i.useSelector)(f.getNfts).find((({address:e})=>(0,h.isEqualCaseInsensitive)(e,t)));return r.default.createElement(s.default,{onSubmit:async()=>{if(g){await c((0,m.ignoreTokens)({tokensToIgnore:t,dontShowLoadingIndicator:!0}));const{tokenId:e}=g;n.push({pathname:`${p.ASSET_ROUTE}/${t}/${e}`})}else n.push({pathname:p.ADD_NFT_ROUTE,state:{tokenAddress:t}});e()},submitText:a("yes"),onCancel:()=>e(),cancelText:a("cancel")},r.default.createElement("div",{className:"convert-token-to-nft-modal"},r.default.createElement(l.default,{variant:u.TypographyVariant.H6,boxProps:{marginTop:2}},a(g?"convertTokenToNFTExistDescription":"convertTokenToNFTDescription"))))};y.propTypes={hideModal:a.default.func.isRequired,tokenAddress:a.default.string};var v=(0,c.default)(y);n.default=v}}},{package:"$root$",file:"ui/components/app/modals/convert-token-to-nft-modal/convert-token-to-nft-modal.js"}],[3620,{"../../../../helpers/constants/design-system":4096,"../../../../helpers/constants/zendesk-url":4103,"../../../../helpers/higher-order-components/with-modal-props":4111,"../../../../hooks/useI18nContext":4157,"../../../component-library":3846,"../../../ui/box":3927,"../../../ui/button":3931,"../../../ui/text-field":4050,"../../modal":3599,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=m(e("prop-types")),o=m(e("../../modal")),i=m(e("../../../ui/text-field")),s=m(e("../../../ui/button")),l=e("../../../../helpers/constants/design-system"),u=m(e("../../../ui/box")),c=m(e("../../../../helpers/higher-order-components/with-modal-props")),d=e("../../../../hooks/useI18nContext"),p=m(e("../../../../helpers/constants/zendesk-url")),f=e("../../../component-library");function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g=({hideModal:e,customNonceValue:t,nextNonce:n,updateCustomNonce:a,getNextNonce:c})=>{const[m,h]=(0,r.useState)(""),g=(0,d.useI18nContext)();return r.default.createElement(o.default,{onSubmit:()=>{a(""===m?t:m),c(),e()},submitText:g("save"),onCancel:()=>e(),cancelText:g("cancel"),contentClass:"customize-nonce-modal-content",containerClass:"customize-nonce-modal-container"},r.default.createElement("div",{className:"customize-nonce-modal"},r.default.createElement("div",{className:"customize-nonce-modal__main-header"},r.default.createElement(f.Text,{className:"customize-nonce-modal__main-title",variant:l.TextVariant.headingSm,as:"h4",fontWeight:l.FontWeight.Bold},g("editNonceField")),r.default.createElement(f.ButtonIcon,{iconName:f.IconName.Close,className:"customize-nonce-modal__close",size:f.ButtonIconSize.Sm,ariaLabel:g("close"),onClick:e})),r.default.createElement(u.default,{marginTop:2,display:l.DISPLAY.INLINE_FLEX,alignItems:l.AlignItems.center},r.default.createElement(f.Text,{variant:l.TextVariant.bodySm,as:"h6",fontWeight:l.FontWeight.Normal},g("editNonceMessage"),r.default.createElement(s.default,{type:"link",className:"customize-nonce-modal__link",rel:"noopener noreferrer",target:"_blank",href:p.default.CUSTOMIZE_NONCE},g("learnMoreUpperCase")))),r.default.createElement(u.default,{marginTop:3},r.default.createElement(u.default,{alignItems:l.AlignItems.center,display:l.DISPLAY.FLEX},r.default.createElement(f.Text,{variant:l.TextVariant.bodySm,as:"h6",fontWeight:l.FontWeight.Bold,boxProps:{width:l.BLOCK_SIZES.FIVE_SIXTHS}},g("editNonceField")),r.default.createElement(u.default,{width:l.BLOCK_SIZES.ONE_SIXTH},r.default.createElement(s.default,{type:"link",className:"customize-nonce-modal__reset","data-testid":"customize-nonce-reset",onClick:()=>{h(n)}},g("reset")))),r.default.createElement("div",{className:"customize-nonce-modal__input"},r.default.createElement(i.default,{type:"number","data-testid":"custom-nonce-input",min:"0",placeholder:t||"number"==typeof n&&n.toString(),onChange:e=>{h(e.target.value)},fullWidth:!0,margin:"dense",value:m,id:"custom-nonce-id"})))))};g.propTypes={hideModal:a.default.func.isRequired,customNonceValue:a.default.string,nextNonce:a.default.number,updateCustomNonce:a.default.func,getNextNonce:a.default.func};var y=(0,c.default)(g);n.default=y}}},{package:"$root$",file:"ui/components/app/modals/customize-nonce/customize-nonce.component.js"}],[3621,{"./customize-nonce.component":3620},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./customize-nonce.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/customize-nonce/index.js"}],[3622,{"../../../../../shared/lib/transactions-controller-utils":3426,"../../../component-library":3846,"../../../ui/identicon":3989,"../../../ui/text-field":4050,"../../modal":3599,"bignumber.js":1810,classnames:1943,loglevel:2930,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=f(e("prop-types")),o=f(e("loglevel")),i=f(e("classnames")),s=f(e("bignumber.js")),l=f(e("../../modal")),u=f(e("../../../ui/identicon")),c=f(e("../../../ui/text-field")),d=e("../../../../../shared/lib/transactions-controller-utils"),p=e("../../../component-library");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=new s.default(2).pow(256).minus(1).toString(10);class y extends r.PureComponent{constructor(...e){super(...e),h(this,"state",{customSpendLimit:this.props.customTokenAmount||"",selectedOptionIsUnlimited:!this.props.customTokenAmount})}renderModalContent(e){const{t:t}=this.context,{hideModal:n,selectedIdentity:a,tokenAmount:o,tokenSymbol:l,tokenBalance:f,customTokenAmount:m,origin:h}=this.props,{name:y,address:v}=a||{},{selectedOptionIsUnlimited:b}=this.state;return r.default.createElement("div",{className:"edit-approval-permission"},r.default.createElement("div",{className:"edit-approval-permission__header"},r.default.createElement("div",{className:"edit-approval-permission__title"},t("editPermission")),r.default.createElement(p.ButtonIcon,{iconName:p.IconName.Close,size:p.ButtonIconSize.Lg,className:"edit-approval-permission__header__close",onClick:n})),r.default.createElement("div",{className:"edit-approval-permission__account-info"},r.default.createElement("div",{className:"edit-approval-permission__account-info__account"},r.default.createElement(u.default,{address:v,diameter:32}),r.default.createElement("div",{className:"edit-approval-permission__name-and-balance-container"},r.default.createElement("div",{className:"edit-approval-permission__account-info__name"},y),r.default.createElement("div",null,t("balance")))),r.default.createElement("div",{className:"edit-approval-permission__account-info__balance"},`${(0,d.toPrecisionWithoutTrailingZeros)(f,9)} ${l}`)),r.default.createElement("div",{className:"edit-approval-permission__edit-section"},r.default.createElement("div",{className:"edit-approval-permission__edit-section__title"},t("spendLimitPermission")),r.default.createElement("div",{className:"edit-approval-permission__edit-section__description"},t("allowWithdrawAndSpend",[h])),r.default.createElement("div",{className:"edit-approval-permission__edit-section__option"},r.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button",onClick:()=>this.setState({selectedOptionIsUnlimited:!0})},r.default.createElement("div",{className:(0,i.default)({"edit-approval-permission__edit-section__radio-button-outline":!b,"edit-approval-permission__edit-section__radio-button-outline--selected":b})}),r.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-fill"}),b&&r.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-dot"})),r.default.createElement("div",{className:"edit-approval-permission__edit-section__option-text"},r.default.createElement("div",{className:(0,i.default)({"edit-approval-permission__edit-section__option-label":!b,"edit-approval-permission__edit-section__option-label--selected":b})},new s.default(o).equals(new s.default(g))?t("unlimited"):t("proposedApprovalLimit")),r.default.createElement("div",{className:"edit-approval-permission__edit-section__option-description"},t("spendLimitRequestedBy",[h])),r.default.createElement("div",{className:"edit-approval-permission__edit-section__option-value"},`${Number(o)} ${l}`))),r.default.createElement("div",{className:"edit-approval-permission__edit-section__option"},r.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button",onClick:()=>this.setState({selectedOptionIsUnlimited:!1})},r.default.createElement("div",{className:(0,i.default)({"edit-approval-permission__edit-section__radio-button-outline":b,"edit-approval-permission__edit-section__radio-button-outline--selected":!b})}),r.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-fill"}),!b&&r.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-dot"})),r.default.createElement("div",{className:"edit-approval-permission__edit-section__option-text"},r.default.createElement("div",{className:(0,i.default)({"edit-approval-permission__edit-section__option-label":b,"edit-approval-permission__edit-section__option-label--selected":!b})},t("customSpendLimit")),r.default.createElement("div",{className:"edit-approval-permission__edit-section__option-description"},t("enterMaxSpendLimit")),r.default.createElement("div",{className:"edit-approval-permission__edit-section__option-input"},r.default.createElement(c.default,{type:"number",placeholder:`${Number(m||o)} ${l}`,onChange:e=>{this.setState({customSpendLimit:e.target.value}),b&&this.setState({selectedOptionIsUnlimited:!1})},fullWidth:!0,margin:"dense",value:this.state.customSpendLimit,error:e}))))))}validateSpendLimit(){const{t:e}=this.context,{decimals:t,requiredMinimum:n}=this.props,{selectedOptionIsUnlimited:r,customSpendLimit:a}=this.state;if(r||!a)return undefined;let i;try{i=new s.default(a)}catch(t){return o.default.debug(`Error converting '${a}' to BigNumber:`,t),e("spendLimitInvalid")}if(i.isNegative())return e("spendLimitInvalid");const l=(0,d.calcTokenAmount)(g,t);return i.greaterThan(l)?e("spendLimitTooLarge"):n!==undefined&&i.lessThan(n)?e("spendLimitInsufficient"):undefined}render(){const{t:e}=this.context,{setCustomAmount:t,hideModal:n,customTokenAmount:a}=this.props,{selectedOptionIsUnlimited:o,customSpendLimit:i}=this.state,s=this.validateSpendLimit(),u=Boolean(i===a&&!o||s);return r.default.createElement(l.default,{onSubmit:()=>{t(o?"":i),n()},submitText:e("save"),contentClass:"edit-approval-permission-modal-content",containerClass:"edit-approval-permission-modal-container",submitDisabled:u},this.renderModalContent(s))}}n.default=y,h(y,"propTypes",{decimals:a.default.number,hideModal:a.default.func.isRequired,selectedIdentity:a.default.object,tokenAmount:a.default.string,customTokenAmount:a.default.string,tokenSymbol:a.default.string,tokenBalance:a.default.string,setCustomAmount:a.default.func,origin:a.default.string.isRequired,requiredMinimum:a.default.instanceOf(s.default)}),h(y,"contextTypes",{t:a.default.func})}}},{package:"$root$",file:"ui/components/app/modals/edit-approval-permission/edit-approval-permission.component.js"}],[3623,{"../../../../helpers/higher-order-components/with-modal-props":4111,"../../../../selectors":4464,"./edit-approval-permission.component":3622,"react-redux":3159,redux:3223},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("react-redux"),a=e("redux"),o=l(e("../../../../helpers/higher-order-components/with-modal-props")),i=e("../../../../selectors"),s=l(e("./edit-approval-permission.component"));function l(e){return e&&e.__esModule?e:{default:e}}var u=(0,a.compose)(o.default,(0,r.connect)((e=>{const t=e.appState.modal.modalState.props||{};return{selectedIdentity:(0,i.getSelectedIdentity)(e),...t}})))(s.default);n.default=u}}},{package:"$root$",file:"ui/components/app/modals/edit-approval-permission/edit-approval-permission.container.js"}],[3624,{"./edit-approval-permission.container":3623},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./edit-approval-permission.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/edit-approval-permission/index.js"}],[3625,{"../../../../../shared/constants/metametrics":3408,"../../../../contexts/metametrics":4074,"../../../../helpers/constants/design-system":4096,"../../../../helpers/higher-order-components/with-modal-props":4111,"../../../../hooks/useI18nContext":4157,"../../../../selectors":4464,"../../../../store/actions":4471,"../../../component-library":3846,"../../../ui/box":3927,"../../../ui/check-box":3937,"prop-types":3019,react:3206,"react-redux":3159},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=g(e("prop-types")),o=e("react-redux"),i=g(e("../../../../helpers/higher-order-components/with-modal-props")),s=g(e("../../../ui/box")),l=e("../../../component-library"),u=e("../../../../helpers/constants/design-system"),c=e("../../../../hooks/useI18nContext"),d=g(e("../../../ui/check-box")),p=e("../../../../store/actions"),f=e("../../../../selectors"),m=e("../../../../../shared/constants/metametrics"),h=e("../../../../contexts/metametrics");function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}const v=({hideModal:e})=>{const[t,n]=(0,r.useState)(!1),[a,i]=(0,r.useState)(!1),[g,y]=(0,r.useState)(""),v=(0,o.useSelector)(f.getDisabledRpcMethodPreferences),b=(0,c.useI18nContext)(),_=(0,o.useDispatch)(),E=(0,r.useContext)(h.MetaMetricsContext),T=g===b("toggleEthSignModalFormValidation");return r.default.createElement(s.default,{className:"eth-sign-modal",display:u.DISPLAY.FLEX,flexDirection:u.FLEX_DIRECTION.COLUMN,justifyContent:u.JustifyContent.flexStart,padding:4},r.default.createElement(s.default,{display:u.DISPLAY.FLEX,flexDirection:u.FLEX_DIRECTION.ROW,marginBottom:4,justifyContent:u.JustifyContent.center},r.default.createElement(l.Icon,{className:"eth-sign-modal__warning-icon",name:l.IconName.Danger,color:u.IconColor.errorDefault,size:l.IconSize.Lg}),r.default.createElement(l.ButtonIcon,{className:"eth-sign-modal__close",iconName:l.IconName.Close,size:u.Size.SM,onClick:()=>e(),ariaLabel:b("close")})),r.default.createElement(l.Text,{variant:u.TextVariant.headingMd,textAlign:u.TextAlign.Center,marginBottom:6},b("toggleEthSignModalTitle")),r.default.createElement(l.Text,{variant:u.TextVariant.bodyMd},b("toggleEthSignModalDescription"),r.default.createElement(l.ButtonLink,{href:"https://support.metamask.io/hc/en-us/articles/14764161421467",externalLink:!0},b("learnMoreUpperCase"))),r.default.createElement(l.BannerAlert,{severity:u.SEVERITIES.DANGER,marginTop:6,marginBottom:6},b("toggleEthSignModalBannerText"),b("toggleEthSignModalBannerBoldText")),a?r.default.createElement(l.FormTextField,{id:"enter-eth-sign-text",label:b("toggleEthSignModalFormLabel"),error:g.length>0&&!T,helpText:g.length>0&&!T&&b("toggleEthSignModalFormError"),onChange:e=>y(e.target.value),value:g,onPaste:e=>e.preventDefault()}):r.default.createElement(s.default,{flexDirection:u.FLEX_DIRECTION.ROW,alignItems:u.AlignItems.flexStart,gap:2},r.default.createElement(d.default,{id:"eth-sign__checkbox",className:"eth-sign__checkbox",dataTestId:"eth-sign__checkbox",checked:t,onClick:()=>{n(!t)}}),r.default.createElement(l.Label,{htmlFor:"eth-sign__checkbox"},r.default.createElement(l.Text,{variant:u.TextVariant.bodyMd,as:"span"},b("toggleEthSignModalCheckBox")))),r.default.createElement(s.default,{display:u.DISPLAY.FLEX,flexDirection:u.FLEX_DIRECTION.ROW,justifyContent:u.JustifyContent.spaceBetween,gap:4,marginTop:6},r.default.createElement(l.ButtonSecondary,{onClick:()=>e(),size:u.Size.LG,block:!0},b("cancel")),a?r.default.createElement(l.ButtonPrimary,{danger:!0,block:!0,disabled:!T,onClick:()=>{_((0,p.setDisabledRpcMethodPreference)("eth_sign",!v.eth_sign)),e()},size:u.Size.LG},b("enableSnap")):r.default.createElement(l.ButtonPrimary,{block:!0,disabled:!t,size:u.Size.LG,onClick:()=>{i(!0),E({category:m.MetaMetricsEventCategory.Settings,event:m.MetaMetricsEventName.OnboardingWalletAdvancedSettings,properties:{location:"Settings",enable_eth_sign:!0}})}},b("continue"))))};v.propTypes={hideModal:a.default.func};var b=(0,i.default)(v);n.default=b}}},{package:"$root$",file:"ui/components/app/modals/eth-sign-modal/eth-sign-modal.js"}],[3626,{"../../../../../shared/constants/metametrics":3408,"../../../../../shared/modules/hexstring-utils":3436,"../../../../contexts/metametrics":4074,"../../../../helpers/constants/design-system":4096,"../../../../helpers/higher-order-components/with-modal-props":4111,"../../../../hooks/useI18nContext":4157,"../../../component-library":3846,"../../../ui/box":3927,"../account-modal-container":3608,"../hold-to-reveal-modal/hold-to-reveal-modal":3634,"./password-input":3629,"./private-key":3630,loglevel:2930,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=b(e("loglevel")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),o=b(e("prop-types")),i=b(e("../../../../helpers/higher-order-components/with-modal-props")),s=b(e("../../../ui/box")),l=e("../../../component-library"),u=b(e("../account-modal-container")),c=e("../../../../../shared/modules/hexstring-utils"),d=e("../../../../../shared/constants/metametrics"),p=b(e("../hold-to-reveal-modal/hold-to-reveal-modal")),f=e("../../../../contexts/metametrics"),m=e("../../../../hooks/useI18nContext"),h=e("../../../../helpers/constants/design-system"),g=b(e("./private-key")),y=b(e("./password-input"));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function b(e){return e&&e.__esModule?e:{default:e}}const _=({clearAccountDetails:e,hideWarning:t,exportAccount:n,selectedIdentity:o,showAccountDetailModal:i,hideModal:v,warning:b=null,previousModalState:_})=>{const[E,T]=(0,a.useState)(""),[w,k]=(0,a.useState)(null),[x,P]=(0,a.useState)(!0),[O,C]=(0,a.useState)(!1),M=(0,a.useContext)(f.MetaMetricsContext),S=(0,m.useI18nContext)();(0,a.useEffect)((()=>()=>{e(),t()}),[]);const{name:N,address:j}=o;return O?a.default.createElement(u.default,{className:"export-private-key-modal",selectedIdentity:o,showBackButton:"ACCOUNT_DETAILS"===_,backButtonAction:()=>i()},a.default.createElement(p.default,{onLongPressed:()=>C(!1),willHide:!1,holdToRevealType:"PrivateKey"})):a.default.createElement(u.default,{className:"export-private-key-modal",selectedIdentity:o,showBackButton:"ACCOUNT_DETAILS"===_,backButtonAction:()=>i()},a.default.createElement(l.Text,{as:"span",marginTop:2,variant:h.TextVariant.bodyLgMedium,fontWeight:h.FONT_WEIGHT.NORMAL},N),a.default.createElement(s.default,{className:"ellip-address-wrapper",borderStyle:h.BorderStyle.solid,borderColor:h.BorderColor.borderDefault,borderWidth:1,marginTop:2,padding:[1,2,1,2]},(0,c.toChecksumHexAddress)(j)),a.default.createElement(s.default,{className:"export-private-key-modal__divider",width:h.BLOCK_SIZES.FULL,margin:[5,0,3,0]}),a.default.createElement(l.Text,{variant:h.TextVariant.bodyLgMedium,margin:[4,0,4,0],fontWeight:h.FONT_WEIGHT.NORMAL},S("showPrivateKeys")),w?a.default.createElement(g.default,{privateKey:w}):a.default.createElement(y.default,{setPassword:T}),x&&a.default.createElement(l.Text,{color:h.Color.errorDefault,variant:h.TextVariant.bodySm},b),a.default.createElement(l.BannerAlert,{padding:[1,3,0,3],marginLeft:5,marginRight:5,marginTop:4,severity:"danger"},S("privateKeyWarning")),a.default.createElement(s.default,{display:h.DISPLAY.FLEX,flexDirection:h.FLEX_DIRECTION.ROW,width:h.BLOCK_SIZES.FULL,justifyContent:h.JustifyContent.spaceBetween,marginTop:3,padding:[5,0,5,0]},!w&&a.default.createElement(l.Button,{type:l.BUTTON_VARIANT.SECONDARY,size:l.BUTTON_SIZES.LG,width:h.BLOCK_SIZES.HALF,marginRight:4,onClick:()=>{M({category:d.MetaMetricsEventCategory.Keys,event:d.MetaMetricsEventName.KeyExportCanceled,properties:{key_type:d.MetaMetricsEventKeyType.Pkey}}),v()}},S("cancel")),w?a.default.createElement(l.Button,{type:l.BUTTON_VARIANT.PRIMARY,size:l.BUTTON_SIZES.LG,width:h.BLOCK_SIZES.FULL,onClick:()=>{v()}},S("done")):a.default.createElement(l.Button,{type:l.BUTTON_VARIANT.PRIMARY,size:l.BUTTON_SIZES.LG,width:h.BLOCK_SIZES.HALF,onClick:()=>{M({category:d.MetaMetricsEventCategory.Keys,event:d.MetaMetricsEventName.KeyExportRequested,properties:{key_type:d.MetaMetricsEventKeyType.Pkey}}),(async(e,t)=>{try{const r=await n(e,t);M({category:d.MetaMetricsEventCategory.Keys,event:d.MetaMetricsEventName.KeyExportRevealed,properties:{key_type:d.MetaMetricsEventKeyType.Pkey}},{}),k(r),P(!1),C(!0)}catch(e){M({category:d.MetaMetricsEventCategory.Keys,event:d.MetaMetricsEventName.KeyExportFailed,properties:{key_type:d.MetaMetricsEventKeyType.Pkey,reason:"incorrect_password"}},{}),r.default.error(e)}})(E,j)},disabled:!E},S("confirm"))))};_.propTypes={exportAccount:o.default.func.isRequired,selectedIdentity:o.default.object.isRequired,warning:o.default.node,showAccountDetailModal:o.default.func.isRequired,hideModal:o.default.func.isRequired,hideWarning:o.default.func.isRequired,clearAccountDetails:o.default.func.isRequired,previousModalState:o.default.string};var E=(0,i.default)(_);n.default=E}}},{package:"$root$",file:"ui/components/app/modals/export-private-key-modal/export-private-key-modal.component.js"}],[3627,{"../../../../selectors":4464,"../../../../store/actions":4471,"./export-private-key-modal.component":3626,"react-redux":3159},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=e("react-redux"),o=e("../../../../store/actions"),i=e("../../../../selectors"),s=(r=e("./export-private-key-modal.component"))&&r.__esModule?r:{default:r};var l=(0,a.connect)((function(){let e=null;return function(t){return e=e||(0,i.getSelectedIdentity)(t),{warning:t.appState.warning,privateKey:t.appState.accountDetail.privateKey,selectedIdentity:e,previousModalState:t.appState.modal.previousModalState.name}}}),(function(e){return{exportAccount:(t,n)=>e((0,o.exportAccount)(t,n)).then((t=>(e((0,o.hideWarning)()),t))),showAccountDetailModal:()=>e((0,o.showModal)({name:"ACCOUNT_DETAILS"})),hideModal:()=>e((0,o.hideModal)()),hideWarning:()=>e((0,o.hideWarning)()),clearAccountDetails:()=>e((0,o.clearAccountDetails)())}}))(s.default);n.default=l}}},{package:"$root$",file:"ui/components/app/modals/export-private-key-modal/export-private-key-modal.container.js"}],[3628,{"./export-private-key-modal.container":3627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./export-private-key-modal.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/export-private-key-modal/index.js"}],[3629,{"../../../../helpers/constants/design-system":4096,"../../../../hooks/useI18nContext":4157,"../../../component-library":3846,"../../../ui/box":3927,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=u(e("react")),a=u(e("prop-types")),o=e("../../../../helpers/constants/design-system"),i=u(e("../../../ui/box")),s=e("../../../../hooks/useI18nContext"),l=e("../../../component-library");function u(e){return e&&e.__esModule?e:{default:e}}const c=({setPassword:e})=>{const t=(0,s.useI18nContext)();return r.default.createElement(i.default,{width:o.BLOCK_SIZES.FULL,flexDirection:o.FLEX_DIRECTION.COLUMN,display:o.DISPLAY.FLEX,alignItems:o.AlignItems.flexStart,paddingLeft:5,paddingRight:5},r.default.createElement(l.Label,{color:o.Color.textDefault,marginBottom:2,variant:o.TextVariant.bodySm},t("typePassword")),r.default.createElement(l.TextField,{width:o.BLOCK_SIZES.FULL,placeholder:t("enterPassword"),type:l.TEXT_FIELD_TYPES.PASSWORD,className:"export-private-key-modal__password-input",onChange:t=>e(t.target.value),"data-testid":"password-input"}))};c.propTypes={setPassword:a.default.func.isRequired};var d=c;n.default=d}}},{package:"$root$",file:"ui/components/app/modals/export-private-key-modal/password-input.js"}],[3630,{"../../../../../shared/constants/metametrics":3408,"../../../../contexts/metametrics":4074,"../../../../helpers/constants/design-system":4096,"../../../../hooks/useI18nContext":4157,"../../../component-library":3846,"../../../ui/box":3927,"copy-to-clipboard":1995,"ethereumjs-util":2285,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=m(e("copy-to-clipboard")),a=e("ethereumjs-util"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),i=m(e("prop-types")),s=m(e("../../../ui/box")),l=e("../../../../hooks/useI18nContext"),u=e("../../../../../shared/constants/metametrics"),c=e("../../../../contexts/metametrics"),d=e("../../../../helpers/constants/design-system"),p=e("../../../component-library");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m(e){return e&&e.__esModule?e:{default:e}}const h=({privateKey:e})=>{const t=(0,o.useContext)(c.MetaMetricsContext),n=(0,l.useI18nContext)(),i=(0,a.stripHexPrefix)(e);return o.default.createElement(s.default,{width:d.BLOCK_SIZES.FULL,flexDirection:d.FLEX_DIRECTION.COLUMN,display:d.DISPLAY.FLEX,alignItems:d.AlignItems.flexStart,paddingLeft:4,paddingRight:4},o.default.createElement(p.Label,{color:d.Color.textDefault,marginBottom:2,variant:d.TextVariant.bodySm},n("copyPrivateKey")),o.default.createElement(s.default,{className:"export-private-key-modal__private-key-display",width:d.BLOCK_SIZES.FULL,borderStyle:d.BorderStyle.solid,borderColor:d.BorderColor.borderDefault,borderRadius:d.BorderRadius.XS,borderWidth:1,padding:[2,3,2],color:d.Color.errorDefault,onClick:()=>{(0,r.default)(i),t({category:u.MetaMetricsEventCategory.Keys,event:u.MetaMetricsEventName.KeyExportCopied,properties:{key_type:u.MetaMetricsEventKeyType.Pkey,copy_method:"clipboard"}},{})}},i))};h.propTypes={privateKey:i.default.string.isRequired};var g=h;n.default=g}}},{package:"$root$",file:"ui/components/app/modals/export-private-key-modal/private-key.js"}],[3631,{"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),o=(r=e("prop-types"))&&r.__esModule?r:{default:r};function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let l,u=0;const c=e=>{const t=`anim_${++u}${Number(new Date)}`;let n=`@keyframes ${t} {`;return Object.keys(e).forEach((t=>{n+=`${t} {`,Object.keys(e[t]).forEach((r=>{const a=`:${e[t][r]};`;n+=r+a})),n+="}"})),n+="}",(e=>{l||(l=document.createElement("style"),document.getElementsByTagName("head")[0].appendChild(l),l=l.sheet||l.styleSheet),l.insertRule(e,(l.cssRules||l.rules).length)})(n),t},d={show:{animationDuration:"0.3s",animationTimingFunction:"ease-out"},hide:{animationDuration:"0.3s",animationTimingFunction:"ease-out"},showContentAnimation:c({"0%":{opacity:0},"100%":{opacity:1}}),hideContentAnimation:c({"0%":{opacity:1},"100%":{opacity:0}}),showBackdropAnimation:c({"0%":{opacity:0},"100%":{opacity:.9}}),hideBackdropAnimation:c({"0%":{opacity:.9},"100%":{opacity:0}})},p=["transitionend","animationend"];class f extends a.Component{constructor(...e){super(...e),s(this,"content",null),s(this,"state",{willHide:!0,hidden:!0}),s(this,"addTransitionListener",((e,t)=>{if(e){const n=function(r){r&&r.target!==e||(((e,t)=>{0!==p.length&&p.forEach((function(n){!function(e,t,n){e.removeEventListener(t,n,!1)}(e,n,t)}))})(e,n),t())};((e,t)=>{0!==p.length?p.forEach((function(n){!function(e,t,n){e.addEventListener(t,n,!1)}(e,n,t)})):window.setTimeout(t,0)})(e,n)}})),s(this,"handleBackdropClick",(()=>{this.props.closeOnClick&&this.hide()})),s(this,"hasHidden",(()=>this.state.hidden)),s(this,"leave",(()=>{this.setState({hidden:!0}),this.props.onHide(this.state.hideSource)})),s(this,"enter",(()=>{this.props.onShow()})),s(this,"show",(()=>{this.state.hidden&&(this.setState({willHide:!1,hidden:!1}),setTimeout(function(){this.addTransitionListener(this.content,this.enter)}.bind(this),0))})),s(this,"hide",(()=>{this.hasHidden()||this.setState({willHide:!0})})),s(this,"listenKeyboard",(e=>{"function"==typeof this.props.keyboard?this.props.keyboard(e):this.closeOnEsc(e)})),s(this,"closeOnEsc",(e=>{!this.props.keyboard||"Escape"!==e.key&&27!==e.keyCode||this.hide()})),s(this,"UNSAFE_componentDidMount",(()=>{window.addEventListener("keydown",this.listenKeyboard,!0)})),s(this,"UNSAFE_componentWillUnmount",(()=>{window.removeEventListener("keydown",this.listenKeyboard,!0)}))}render(){if(this.state.hidden)return null;const{willHide:e}=this.state,{modalStyle:t}=this.props,n={animationName:e?d.hideBackdropAnimation:d.showBackdropAnimation,animationTimingFunction:(e?d.hide:d.show).animationTimingFunction,...this.props.backdropStyle},r={animationDuration:(e?d.hide:d.show).animationDuration,animationName:e?d.hideContentAnimation:d.showContentAnimation,animationTimingFunction:(e?d.hide:d.show).animationTimingFunction,...this.props.contentStyle},o=this.props.backdrop?a.default.createElement("div",{className:"modal__backdrop",style:n,onClick:this.props.closeOnClick?this.handleBackdropClick:null}):undefined;return e&&this.addTransitionListener(this.content,this.leave),a.default.createElement("span",null,a.default.createElement("div",{className:"modal",style:t},a.default.createElement("div",{className:"modal__content",ref:e=>this.content=e,tabIndex:"-1",style:r},this.props.children)),o)}}s(f,"propTypes",{backdrop:o.default.bool,backdropStyle:o.default.object,closeOnClick:o.default.bool,contentStyle:o.default.object,keyboard:o.default.bool,modalStyle:o.default.object,onShow:o.default.func,onHide:o.default.func,children:o.default.node}),s(f,"defaultProps",{onShow:()=>undefined,onHide:()=>undefined,keyboard:!0,backdrop:!0,closeOnClick:!0,modalStyle:{},backdropStyle:{},contentStyle:{},children:[]});var m=f;n.default=m}}},{package:"$root$",file:"ui/components/app/modals/fade-modal.js"}],[3632,{"../../../../helpers/constants/routes":4100,"../../../../store/actions":4471,"../../../ui/button":3931,"../../../ui/identicon":3989,"prop-types":3019,react:3206,"react-redux":3159},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=p(e("prop-types")),a=d(e("react")),o=e("react-redux"),i=d(e("../../../../store/actions")),s=p(e("../../../ui/identicon")),l=p(e("../../../ui/button")),u=e("../../../../helpers/constants/routes");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends a.Component{constructor(...e){super(...e),f(this,"state",{})}render(){const{token:e,hideToken:t,hideModal:n,history:r}=this.props,{symbol:o,address:i,image:c}=e;return a.default.createElement("div",{className:"hide-token-confirmation"},a.default.createElement("div",{className:"hide-token-confirmation__container"},a.default.createElement("div",{className:"hide-token-confirmation__title"},this.context.t("hideTokenPrompt")),a.default.createElement(s.default,{className:"hide-token-confirmation__identicon",diameter:45,address:i,image:c}),a.default.createElement("div",{className:"hide-token-confirmation__symbol"},o),a.default.createElement("div",{className:"hide-token-confirmation__copy"},this.context.t("readdToken")),a.default.createElement("div",{className:"hide-token-confirmation__buttons"},a.default.createElement(l.default,{type:"secondary",className:"hide-token-confirmation__button","data-testid":"hide-token-confirmation__cancel",onClick:()=>n()},this.context.t("cancel")),a.default.createElement(l.default,{type:"primary",className:"hide-token-confirmation__button","data-testid":"hide-token-confirmation__hide",onClick:()=>{t(i),r.push(u.DEFAULT_ROUTE)}},this.context.t("hide")))))}}f(m,"contextTypes",{t:r.default.func}),f(m,"propTypes",{hideToken:r.default.func.isRequired,hideModal:r.default.func.isRequired,token:r.default.shape({symbol:r.default.string,address:r.default.string,image:r.default.string}),history:r.default.object});var h=(0,o.connect)((function(e){return{token:e.appState.modal.modalState.props.token,history:e.appState.modal.modalState.props.history}}),(function(e){return{hideModal:()=>e(i.hideModal()),hideToken:t=>{e(i.ignoreTokens({tokensToIgnore:t})).then((()=>{e(i.hideModal())}))}}}))(m);n.default=h}}},{package:"$root$",file:"ui/components/app/modals/hide-token-confirmation-modal/hide-token-confirmation-modal.js"}],[3633,{"./hide-token-confirmation-modal":3632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./hide-token-confirmation-modal"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/hide-token-confirmation-modal/index.js"}],[3634,{"../../../../../shared/constants/metametrics":3408,"../../../../contexts/metametrics":4074,"../../../../helpers/constants/design-system":4096,"../../../../helpers/constants/zendesk-url":4103,"../../../../helpers/higher-order-components/with-modal-props":4111,"../../../../hooks/useI18nContext":4157,"../../../component-library":3846,"../../../ui/box":3927,"../../hold-to-reveal-button":3579,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=h(e("prop-types")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),o=h(e("../../../../helpers/higher-order-components/with-modal-props")),i=h(e("../../../ui/box")),s=e("../../../component-library"),l=e("../../../../helpers/constants/design-system"),u=h(e("../../hold-to-reveal-button")),c=e("../../../../hooks/useI18nContext"),d=h(e("../../../../helpers/constants/zendesk-url")),p=e("../../../../contexts/metametrics"),f=e("../../../../../shared/constants/metametrics");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}const g=({onLongPressed:e,hideModal:t,willHide:n=!0,holdToRevealType:r="SRP"})=>{const o=(0,c.useI18nContext)(),m="SRP"===r?"holdToRevealSRPTitle":"holdToRevealPrivateKeyTitle",h="SRP"===r?"holdToRevealSRP":"holdToRevealPrivateKey",g=(0,a.useContext)(p.MetaMetricsContext);return a.default.createElement(i.default,{className:"hold-to-reveal-modal",display:l.DISPLAY.FLEX,flexDirection:l.FLEX_DIRECTION.COLUMN,justifyContent:l.JustifyContent.flexStart,padding:6},a.default.createElement(i.default,{display:l.DISPLAY.FLEX,flexDirection:l.FLEX_DIRECTION.ROW,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.spaceBetween,marginBottom:6},a.default.createElement(s.Text,{variant:l.TextVariant.headingSm},o(m)),n&&a.default.createElement(s.ButtonIcon,{className:"hold-to-reveal-modal__close",iconName:s.IconName.Close,size:l.Size.SM,onClick:()=>{g({category:f.MetaMetricsEventCategory.Keys,event:f.MetaMetricsEventName.SrpHoldToRevealCloseClicked,properties:{key_type:f.MetaMetricsEventKeyType.Srp}}),t()},ariaLabel:o("close")})),"SRP"===r?a.default.createElement(i.default,{display:l.DISPLAY.FLEX,flexDirection:l.FLEX_DIRECTION.COLUMN,gap:4,marginBottom:6},a.default.createElement(s.Text,{variant:l.TextVariant.bodyMd},o("holdToRevealContent1",[a.default.createElement(s.Text,{key:"hold-to-reveal-2",variant:l.TextVariant.bodyMdBold,as:"span"},o("holdToRevealContent2"))])),a.default.createElement(s.Text,{variant:l.TextVariant.bodyMdBold},o("holdToRevealContent3",[a.default.createElement(s.Text,{key:"hold-to-reveal-4",variant:l.TextVariant.bodyMd,as:"span",display:l.DISPLAY.INLINE},o("holdToRevealContent4")),a.default.createElement(s.Button,{key:"hold-to-reveal-5",variant:s.BUTTON_VARIANT.LINK,size:l.Size.auto,href:d.default.NON_CUSTODIAL_WALLET,target:"_blank",rel:"noopener noreferrer"},o("holdToRevealContent5"))]))):a.default.createElement(i.default,{display:l.DISPLAY.FLEX,flexDirection:l.FLEX_DIRECTION.COLUMN,gap:4,marginBottom:6},a.default.createElement(s.Text,{variant:l.TextVariant.bodyMd},o("holdToRevealContentPrivateKey1",[a.default.createElement(s.Text,{key:"hold-to-reveal-2",variant:l.TextVariant.bodyMdBold,as:"span"},o("holdToRevealContentPrivateKey2"))])),a.default.createElement(s.Text,{variant:l.TextVariant.bodyMdBold},o("holdToRevealContent3",[a.default.createElement(s.Text,{key:"hold-to-reveal-4",variant:l.TextVariant.bodyMd,as:"span",display:l.DISPLAY.INLINE},o("holdToRevealContent4")),a.default.createElement(s.Button,{key:"hold-to-reveal-5",variant:s.BUTTON_VARIANT.LINK,size:s.BUTTON_SIZES.INHERIT,href:d.default.NON_CUSTODIAL_WALLET,target:"_blank",rel:"noopener noreferrer"},o("holdToRevealContent5"))]))),a.default.createElement(u.default,{buttonText:o(h),onLongPressed:()=>{e(),n&&t()},marginLeft:"auto",marginRight:"auto"}))};g.propTypes={onLongPressed:r.default.func.isRequired,hideModal:r.default.func,willHide:r.default.bool,holdToRevealType:r.default.oneOf(["SRP","PrivateKey"]).isRequired};var y=(0,o.default)(g);n.default=y}}},{package:"$root$",file:"ui/components/app/modals/hold-to-reveal-modal/hold-to-reveal-modal.js"}],[3635,{"./hold-to-reveal-modal":3634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./hold-to-reveal-modal"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/hold-to-reveal-modal/index.js"}],[3636,{"./modal":3637},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Modal",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./modal"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/index.js"}],[3637,{"../../../../app/scripts/lib/util":81,"../../../../shared/constants/app":3401,"../../../helpers/utils/is-mobile-view":4124,"../../../pages/onboarding-flow/add-network-modal":4274,"../../../store/actions":4471,"./account-details-modal":3605,"./confirm-delete-network":3611,"./confirm-remove-account":3614,"./confirm-reset-account":3617,"./convert-token-to-nft-modal/convert-token-to-nft-modal":3619,"./customize-nonce":3621,"./edit-approval-permission":3624,"./eth-sign-modal/eth-sign-modal":3625,"./export-private-key-modal":3628,"./fade-modal":3631,"./hide-token-confirmation-modal":3633,"./hold-to-reveal-modal":3635,"./new-account-modal":3638,"./qr-scanner":3643,"./reject-transactions":3646,"./transaction-confirmed":3649,"prop-types":3019,react:3206,"react-redux":3159},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=M(e("prop-types")),a=C(e("react")),o=e("react-redux"),i=C(e("../../../store/actions")),s=M(e("../../../helpers/utils/is-mobile-view")),l=e("../../../../app/scripts/lib/util"),u=e("../../../../shared/constants/app"),c=M(e("../../../pages/onboarding-flow/add-network-modal")),d=M(e("./account-details-modal")),p=M(e("./export-private-key-modal")),f=M(e("./hide-token-confirmation-modal")),m=M(e("./qr-scanner")),h=M(e("./hold-to-reveal-modal")),g=M(e("./confirm-remove-account")),y=M(e("./confirm-reset-account")),v=M(e("./transaction-confirmed")),b=M(e("./fade-modal")),_=M(e("./reject-transactions")),E=M(e("./confirm-delete-network")),T=M(e("./edit-approval-permission")),w=M(e("./new-account-modal")),k=M(e("./customize-nonce")),x=M(e("./convert-token-to-nft-modal/convert-token-to-nft-modal")),P=M(e("./eth-sign-modal/eth-sign-modal"));function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function M(e){return e&&e.__esModule?e:{default:e}}const S={transform:"translate3d(-50%, 0, 0px)",border:"1px solid var(--color-border-default)",borderRadius:"8px",backgroundColor:"var(--color-background-default)",boxShadow:"var(--shadow-size-sm) var(--color-shadow-default)"},N={...S,width:"344px",top:"15%"},j={...S,width:"309px",top:"12.5%"},I={mobileModalStyle:{width:"95%",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",borderRadius:"4px",top:"10%",transform:"none",left:"0",right:"0",margin:"0 auto"},laptopModalStyle:{width:"335px",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",borderRadius:"4px",top:"10%",transform:"none",left:"0",right:"0",margin:"0 auto"},contentStyle:{borderRadius:"4px"}},R={ONBOARDING_ADD_NETWORK:{contents:a.default.createElement(c.default,null),...I},NEW_ACCOUNT:{contents:a.default.createElement(w.default,null),mobileModalStyle:{width:"95%",top:"10%",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",transform:"none",left:"0",right:"0",margin:"0 auto",borderRadius:"10px"},laptopModalStyle:{width:"375px",top:"10%",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",transform:"none",left:"0",right:"0",margin:"0 auto",borderRadius:"10px"},contentStyle:{borderRadius:"10px"}},ACCOUNT_DETAILS:{contents:a.default.createElement(d.default,null),...I},EXPORT_PRIVATE_KEY:{contents:a.default.createElement(p.default,null),...I},HOLD_TO_REVEAL_SRP:{contents:a.default.createElement(h.default,null),mobileModalStyle:{...j},laptopModalStyle:{...N},contentStyle:{borderRadius:"8px"}},HIDE_TOKEN_CONFIRMATION:{contents:a.default.createElement(f.default,null),mobileModalStyle:{width:"95%",top:(0,l.getEnvironmentType)()===u.ENVIRONMENT_TYPE_POPUP?"52vh":"36.5vh"},laptopModalStyle:{width:(0,l.getEnvironmentType)()===u.ENVIRONMENT_TYPE_POPUP?"357px":"449px",top:"calc(33% + 45px)",paddingLeft:(0,l.getEnvironmentType)()===u.ENVIRONMENT_TYPE_POPUP?"16px":null,paddingRight:(0,l.getEnvironmentType)()===u.ENVIRONMENT_TYPE_POPUP?"16px":null}},CONFIRM_RESET_ACCOUNT:{contents:a.default.createElement(y.default,null),mobileModalStyle:{...j},laptopModalStyle:{...N},contentStyle:{borderRadius:"8px"}},ETH_SIGN:{contents:a.default.createElement(P.default,null),mobileModalStyle:{...j},laptopModalStyle:{...N},contentStyle:{borderRadius:"8px"}},CONFIRM_REMOVE_ACCOUNT:{contents:a.default.createElement(g.default,null),mobileModalStyle:{...j},laptopModalStyle:{...N},contentStyle:{borderRadius:"8px"}},CONVERT_TOKEN_TO_NFT:{contents:a.default.createElement(x.default,null),mobileModalStyle:{...j},laptopModalStyle:{...N},contentStyle:{borderRadius:"8px"}},CONFIRM_DELETE_NETWORK:{contents:a.default.createElement(E.default,null),mobileModalStyle:{...j},laptopModalStyle:{...N},contentStyle:{borderRadius:"8px"}},EDIT_APPROVAL_PERMISSION:{contents:a.default.createElement(T.default,null),mobileModalStyle:{width:"95vw",height:"100vh",top:"50px",transform:"none",left:"0",right:"0",margin:"0 auto"},laptopModalStyle:{width:"auto",height:"0px",top:"80px",left:"0px",transform:"none",margin:"0 auto",position:"relative"},contentStyle:{borderRadius:"8px"}},TRANSACTION_CONFIRMED:{disableBackdropClick:!0,contents:a.default.createElement(v.default,null),mobileModalStyle:{...j},laptopModalStyle:{...N},contentStyle:{borderRadius:"8px"}},QR_SCANNER:{contents:a.default.createElement(m.default,null),mobileModalStyle:{...j},laptopModalStyle:{...N},contentStyle:{borderRadius:"8px"}},REJECT_TRANSACTIONS:{contents:a.default.createElement(_.default,null),mobileModalStyle:{...j},laptopModalStyle:{...N},contentStyle:{borderRadius:"8px"}},CUSTOMIZE_NONCE:{contents:a.default.createElement(k.default,null),mobileModalStyle:{...j},laptopModalStyle:{...N},contentStyle:{borderRadius:"8px"}},DEFAULT:{contents:[],mobileModalStyle:{},laptopModalStyle:{}}},D={backgroundColor:"var(--color-overlay-default)"};class L extends a.Component{hide(){this.modalRef.hide()}show(){this.modalRef.show()}UNSAFE_componentWillReceiveProps(e,t){e.active?this.show():this.props.active&&this.hide()}render(){const e=R[this.props.modalState.name||"DEFAULT"],{contents:t,disableBackdropClick:n=!1}=e,r=e[(0,s.default)()?"mobileModalStyle":"laptopModalStyle"],o=e.contentStyle||{};return a.default.createElement(b.default,{keyboard:!1,onHide:()=>{e.onHide&&e.onHide({hideWarning:this.props.hideWarning}),this.props.hideModal(e.customOnHideOpts)},ref:e=>{this.modalRef=e},modalStyle:r,contentStyle:o,backdropStyle:D,closeOnClick:!n},t)}}var A,W,q;A=L,W="propTypes",q={active:r.default.bool.isRequired,hideModal:r.default.func.isRequired,hideWarning:r.default.func.isRequired,modalState:r.default.object.isRequired},(W=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(W))in A?Object.defineProperty(A,W,{value:q,enumerable:!0,configurable:!0,writable:!0}):A[W]=q;var F=(0,o.connect)((function(e){return{active:e.appState.modal.open,modalState:e.appState.modal.modalState}}),(function(e){return{hideModal:t=>{e(i.hideModal()),t&&t.action&&e(t.action(...t.args))},hideWarning:()=>{e(i.hideWarning())}}}))(L);n.default=F}}},{package:"$root$",file:"ui/components/app/modals/modal.js"}],[3638,{"./new-account-modal.container":3640},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./new-account-modal.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/new-account-modal/index.js"}],[3639,{"../../../component-library":3846,"../../../ui/button/button.component":3930,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=s(e("prop-types")),o=s(e("../../../ui/button/button.component")),i=e("../../../component-library");function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends r.Component{constructor(...e){super(...e),u(this,"state",{alias:this.context.t("newAccountNumberName",[this.props.newAccountNumber])}),u(this,"onChange",(e=>{this.setState({alias:e.target.value})})),u(this,"onSubmit",(()=>{this.props.onSave(this.state.alias).then(this.props.hideModal)})),u(this,"onKeyPress",(e=>{"Enter"===e.key&&this.state.alias&&this.onSubmit()}))}render(){const{t:e}=this.context;return r.default.createElement("div",{className:"new-account-modal"},r.default.createElement("div",{className:"new-account-modal__content"},r.default.createElement("div",{className:"new-account-modal__content__header"},e("newAccount"),r.default.createElement(i.ButtonIcon,{className:"new-account-modal__content__header-close",ariaLabel:e("close"),onClick:this.props.hideModal,iconName:i.IconName.Close})),r.default.createElement("div",{className:"new-account-modal__input-label"},e("accountName")),r.default.createElement("input",{type:"text",className:"new-account-modal__input",onChange:this.onChange,onKeyPress:this.onKeyPress,value:this.state.alias,autoFocus:!0})),r.default.createElement("div",{className:"new-account-modal__footer"},r.default.createElement(o.default,{type:"secondary",onClick:this.props.hideModal},e("cancel")),r.default.createElement(o.default,{type:"primary",onClick:this.onSubmit,disabled:!this.state.alias},e("save"))))}}n.default=c,u(c,"contextTypes",{t:a.default.func}),u(c,"propTypes",{hideModal:a.default.func.isRequired,newAccountNumber:a.default.number.isRequired,onSave:a.default.func.isRequired})}}},{package:"$root$",file:"ui/components/app/modals/new-account-modal/new-account-modal.component.js"}],[3640,{"../../../../store/actions":4471,"./new-account-modal.component":3639,"react-redux":3159},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=e("react-redux"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("../../../../store/actions")),i=(r=e("./new-account-modal.component"))&&r.__esModule?r:{default:r};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var l=(0,a.connect)((function(e){return{...e.appState.modal.modalState.props||{}}}),(function(e){return{hideModal:()=>e(o.hideModal()),createAccount:t=>e(o.addNewAccount()).then((n=>(t&&e(o.setAccountLabel(n,t)),n)))}}),(function(e,t){const{onCreateNewAccount:n}=e,{createAccount:r}=t;return{...e,...t,onSave:e=>r(e).then((e=>n(e)))}}))(i.default);n.default=l}}},{package:"$root$",file:"ui/components/app/modals/new-account-modal/new-account-modal.container.js"}],[3641,{"./nickname-popovers.component":3642},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./nickname-popovers.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/nickname-popovers/index.js"}],[3642,{"../../../../selectors":4464,"../../../../store/actions":4471,"../../../ui/nickname-popover":4016,"../../../ui/update-nickname-popover/update-nickname-popover":4069,"@metamask/etherscan-link":1183,"prop-types":3019,react:3206,"react-redux":3159},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=e("react-redux"),o=d(e("prop-types")),i=e("@metamask/etherscan-link"),s=e("../../../../store/actions"),l=e("../../../../selectors"),u=d(e("../../../ui/nickname-popover")),c=d(e("../../../ui/update-nickname-popover/update-nickname-popover"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f="SHOW_NICKNAME_POPOVER",m="ADD_NICKNAME_POPOVER",h=({address:e,onClose:t})=>{const n=(0,a.useDispatch)(),[o,d]=(0,r.useState)(f),p=(0,a.useSelector)(l.getAddressBook),h=(0,a.useSelector)(l.getCurrentChainId),g=p.find((t=>t.address===e)),y=null==g?void 0:g.name,v=(0,a.useSelector)(l.getRpcPrefsForCurrentProvider),b=(0,i.getAccountLink)(e,h,{blockExplorerUrl:(null==v?void 0:v.blockExplorerUrl)??null},null);return o===m?r.default.createElement(c.default,{address:e,nickname:y||null,memo:(null==g?void 0:g.memo)||null,onClose:()=>d(f),onAdd:(e,t,r)=>n((0,s.addToAddressBook)(e,t,r))}):r.default.createElement(u.default,{address:e,nickname:y||null,onClose:t,onAdd:()=>d(m),explorerLink:b})};h.propTypes={address:o.default.string,onClose:o.default.func};var g=h;n.default=g}}},{package:"$root$",file:"ui/components/app/modals/nickname-popovers/nickname-popovers.component.js"}],[3643,{"./qr-scanner.container":3645},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=((r=e("./qr-scanner.container"))&&r.__esModule?r:{default:r}).default;n.default=a}}},{package:"$root$",file:"ui/components/app/modals/qr-scanner/index.js"}],[3644,{"../../../../../app/scripts/lib/util":81,"../../../../../shared/constants/app":3401,"../../../../../shared/constants/time":3416,"../../../../helpers/utils/util":4135,"../../../../helpers/utils/webcam-utils":4136,"../../../ui/page-container/page-container-footer/page-container-footer.component":4022,"../../../ui/spinner":4044,"@zxing/library":1734,loglevel:2930,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=m(e("prop-types")),o=m(e("loglevel")),i=e("@zxing/library"),s=e("../../../../../app/scripts/lib/util"),l=e("../../../../../shared/constants/app"),u=e("../../../../../shared/constants/time"),c=m(e("../../../ui/spinner")),d=m(e("../../../../helpers/utils/webcam-utils")),p=e("../../../../helpers/utils/util"),f=m(e("../../../ui/page-container/page-container-footer/page-container-footer.component"));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const y="ACCESSING_CAMERA",v="NEED_TO_ALLOW_ACCESS",b="READY";class _ extends r.Component{constructor(e){super(e),g(this,"checkEnvironment",(async()=>{try{const{environmentReady:e}=await d.default.checkStatus();if(!e&&(0,s.getEnvironmentType)()!==l.ENVIRONMENT_TYPE_FULLSCREEN){const e=(0,p.getURL)(window.location.href),t=null==e?void 0:e.hash,n=t?t.substring(1):null;global.platform.openExtensionInBrowser(n)}}catch(e){this.mounted&&this.setState({error:e})}this.initCamera()})),g(this,"checkPermissions",(async()=>{try{const{permissions:e}=await d.default.checkStatus();if(e){if(await new Promise((e=>setTimeout(e,2*u.SECOND))),!this.mounted)return;this.setState({ready:b})}else this.mounted&&(this.permissionChecker=setTimeout(this.checkPermissions,u.SECOND))}catch(e){this.mounted&&this.setState({error:e})}})),g(this,"initCamera",(async()=>{this.codeReader||(this.codeReader=new i.BrowserQRCodeReader);try{await this.codeReader.getVideoInputDevices(),this.checkPermissions();const e=await this.codeReader.decodeFromInputVideoDevice(undefined,"video"),t=this.parseContent(e.text);if(!this.mounted)return;"unknown"===t.type?this.setState({error:new Error(this.context.t("unknownQrCode"))}):(this.props.qrCodeDetected(t),this.stopAndClose())}catch(e){if(!this.mounted)return;"NotAllowedError"===e.name?(o.default.info(`Permission denied: '${e}'`),this.setState({ready:v})):this.setState({error:e})}})),g(this,"stopAndClose",(()=>{this.codeReader&&this.teardownCodeReader(),this.props.hideModal()})),g(this,"tryAgain",(()=>{clearTimeout(this.permissionChecker),this.codeReader&&this.teardownCodeReader(),this.setState(this.getInitialState(),(()=>{this.checkEnvironment()}))})),this.state=this.getInitialState(),this.codeReader=null,this.permissionChecker=null,this.mounted=!1,this.props.qrCodeDetected(null)}componentDidMount(){this.mounted=!0,this.checkEnvironment()}componentDidUpdate(e,t){const{ready:n}=this.state;t.ready!==n&&(n===b?this.initCamera():n===v&&this.checkPermissions())}getInitialState(){return{ready:y,error:null}}componentWillUnmount(){this.mounted=!1,clearTimeout(this.permissionChecker),this.teardownCodeReader()}teardownCodeReader(){this.codeReader&&(this.codeReader.reset(),this.codeReader.stop(),this.codeReader=null)}parseContent(e){let t="unknown",n={};return e.split("ethereum:").length>1?(t="address",n={address:e.split("ethereum:")[1]}):"0x"===e.substring(0,2).toLowerCase()&&(t="address",n={address:e}),{type:t,values:n}}renderError(){const{t:e}=this.context,{error:t}=this.state;let n,a;return"NO_WEBCAM_FOUND"===t.type?(n=e("noWebcamFoundTitle"),a=e("noWebcamFound")):t.message===e("unknownQrCode")?a=e("unknownQrCode"):(n=e("unknownCameraErrorTitle"),a=e("unknownCameraError")),r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"qr-scanner__image"},r.default.createElement("img",{src:"images/webcam.svg",width:"70",height:"70",alt:""})),n?r.default.createElement("div",{className:"qr-scanner__title"},n):null,r.default.createElement("div",{className:"qr-scanner__error"},a),r.default.createElement(f.default,{onCancel:this.stopAndClose,onSubmit:this.tryAgain,cancelText:e("cancel"),submitText:e("tryAgain")}))}renderVideo(){const{t:e}=this.context,{ready:t}=this.state;let n;return t===y?n=e("accessingYourCamera"):t===b?n=e("scanInstructions"):t===v&&(n=e("youNeedToAllowCameraAccess")),r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"qr-scanner__title"},`${e("scanQrCode")}`),r.default.createElement("div",{className:"qr-scanner__content"},r.default.createElement("div",{className:"qr-scanner__content__video-wrapper"},r.default.createElement("video",{id:"video",style:{display:t===b?"block":"none"}}),t===b?null:r.default.createElement(c.default,{color:"var(--color-warning-default)"}))),r.default.createElement("div",{className:"qr-scanner__status"},n))}render(){const{error:e}=this.state;return r.default.createElement("div",{className:"qr-scanner"},r.default.createElement("div",{className:"qr-scanner__close",onClick:this.stopAndClose}),e?this.renderError():this.renderVideo())}}n.default=_,g(_,"propTypes",{hideModal:a.default.func.isRequired,qrCodeDetected:a.default.func.isRequired}),g(_,"contextTypes",{t:a.default.func})}}},{package:"$root$",file:"ui/components/app/modals/qr-scanner/qr-scanner.component.js"}],[3645,{"../../../../store/actions":4471,"./qr-scanner.component":3644,"react-redux":3159},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=e("react-redux"),o=e("../../../../store/actions"),i=(r=e("./qr-scanner.component"))&&r.__esModule?r:{default:r};var s=(0,a.connect)(null,(e=>({hideModal:()=>e((0,o.hideModal)()),qrCodeDetected:t=>e((0,o.qrCodeDetected)(t))})))(i.default);n.default=s}}},{package:"$root$",file:"ui/components/app/modals/qr-scanner/qr-scanner.container.js"}],[3646,{"./reject-transactions.container":3648},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./reject-transactions.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/reject-transactions/index.js"}],[3647,{"../../modal":3599,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=s(e("prop-types")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),o=s(e("../../modal"));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends a.PureComponent{constructor(...e){super(...e),l(this,"onSubmit",(async()=>{const{onSubmit:e,hideModal:t}=this.props;await e(),t()}))}render(){const{t:e}=this.context,{hideModal:t,unapprovedTxCount:n,isRequestType:r}=this.props;return a.default.createElement(o.default,{headerText:e(r?"rejectRequestsN":"rejectTxsN",[n]),onClose:t,onSubmit:this.onSubmit,onCancel:t,submitText:e("rejectAll"),cancelText:e("cancel")},a.default.createElement("div",null,a.default.createElement("div",{className:"reject-transactions__description"},e(r?"rejectRequestsDescription":"rejectTxsDescription",[n]))))}}n.default=u,l(u,"contextTypes",{t:r.default.func.isRequired}),l(u,"propTypes",{onSubmit:r.default.func.isRequired,hideModal:r.default.func.isRequired,unapprovedTxCount:r.default.number.isRequired,isRequestType:r.default.bool})}}},{package:"$root$",file:"ui/components/app/modals/reject-transactions/reject-transactions.component.js"}],[3648,{"../../../../helpers/higher-order-components/with-modal-props":4111,"./reject-transactions.component":3647,"react-redux":3159,redux:3223},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("react-redux"),a=e("redux"),o=s(e("../../../../helpers/higher-order-components/with-modal-props")),i=s(e("./reject-transactions.component"));function s(e){return e&&e.__esModule?e:{default:e}}var l=(0,a.compose)(o.default,(0,r.connect)(((e,t)=>{const{unapprovedTxCount:n}=t;return{unapprovedTxCount:n}})))(i.default);n.default=l}}},{package:"$root$",file:"ui/components/app/modals/reject-transactions/reject-transactions.container.js"}],[3649,{"./transaction-confirmed.container":3651},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./transaction-confirmed.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/transaction-confirmed/index.js"}],[3650,{"../../../../helpers/constants/design-system":4096,"../../../component-library":3846,"../../modal":3599,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=l(e("prop-types")),o=l(e("../../modal")),i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system");function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends r.PureComponent{constructor(...e){super(...e),c(this,"handleSubmit",(()=>{const{hideModal:e,onSubmit:t}=this.props;e(),t&&"function"==typeof t&&t()}))}render(){const{t:e}=this.context;return r.default.createElement(o.default,{onSubmit:this.handleSubmit,submitText:e("ok")},r.default.createElement("div",{className:"transaction-confirmed__content"},r.default.createElement(i.Icon,{name:i.IconName.Check,color:s.IconColor.successDefault,size:i.IconSize.Xl}),r.default.createElement("div",{className:"transaction-confirmed__title"},`${e("confirmed")}!`),r.default.createElement("div",{className:"transaction-confirmed__description"},e("initialTransactionConfirmed"))))}}n.default=d,c(d,"contextTypes",{t:a.default.func}),c(d,"propTypes",{onSubmit:a.default.func,hideModal:a.default.func})}}},{package:"$root$",file:"ui/components/app/modals/transaction-confirmed/transaction-confirmed.component.js"}],[3651,{"../../../../helpers/higher-order-components/with-modal-props":4111,"./transaction-confirmed.component":3650},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=o(e("../../../../helpers/higher-order-components/with-modal-props")),a=o(e("./transaction-confirmed.component"));function o(e){return e&&e.__esModule?e:{default:e}}var i=(0,r.default)(a.default);n.default=i}}},{package:"$root$",file:"ui/components/app/modals/transaction-confirmed/transaction-confirmed.container.js"}],[3652,{"./multi-layer-fee-message":3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./multi-layer-fee-message"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/multilayer-fee-message/index.js"}],[3653,{"../../../../shared/constants/common":3403,"../../../../shared/modules/Numeric":3428,"../../../../shared/modules/conversion.utils":3432,"../../../contexts/i18n":4073,"../../../helpers/constants/common":4094,"../../../helpers/utils/optimism/fetchEstimatedL1Fee":4128,"../../../selectors":4464,"../transaction-detail-item/transaction-detail-item.component":3762,"../user-preferenced-currency-display":3776,"@sentry/browser":1370,"prop-types":3019,react:3206,"react-redux":3159},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=e("react-redux"),o=g(e("prop-types")),i=e("@sentry/browser"),s=g(e("../transaction-detail-item/transaction-detail-item.component")),l=g(e("../user-preferenced-currency-display")),u=g(e("../../../helpers/utils/optimism/fetchEstimatedL1Fee")),c=e("../../../helpers/constants/common"),d=e("../../../contexts/i18n"),p=e("../../../../shared/modules/conversion.utils"),f=e("../../../../shared/constants/common"),m=e("../../../../shared/modules/Numeric"),h=e("../../../selectors");function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function v({transaction:e,layer2fee:t,nativeCurrency:n,plainStyle:o}){var g;const y=(0,r.useContext)(d.I18nContext),[v,b]=(0,r.useState)(null),_=(0,a.useSelector)(h.getUseCurrencyRateCheck);if((0,r.useEffect)((()=>{if(null==e||!e.txParams)return;(async()=>{try{const t=await(0,u.default)(null==e?void 0:e.chainId,e);b(t)}catch(e){(0,i.captureException)(e),b(null)}})()}),[e]),null==e||!e.txParams)return null;let E=y("unknown"),T=y("unknown");if(null!==v){E=`${new m.Numeric(v,16,f.EtherDenomination.WEI).toDenomination(f.EtherDenomination.ETH).toFixed(12)} ${n}`,T=_?r.default.createElement(l.default,{type:c.SECONDARY,value:v,showFiat:!0,hideLabel:!0}):null}const w=(0,p.sumHexes)(t||"0x0",v||"0x0",(null==e||null===(g=e.txParams)||void 0===g?void 0:g.value)||"0x0"),k=`${new m.Numeric(w,16,f.EtherDenomination.WEI).toDenomination(f.EtherDenomination.ETH).toFixed(12)} ${n}`,x=_?r.default.createElement(l.default,{type:c.SECONDARY,value:w,showFiat:!0,hideLabel:!0}):null;return r.default.createElement("div",{className:"multi-layer-fee-message"},r.default.createElement(s.default,{key:"multi-layer-fee-message-total-item-gas-fee",detailTitle:y("layer1Fees"),detailTotal:E,detailText:_&&T,noBold:o,flexWidthValues:o}),r.default.createElement(s.default,{key:"multi-layer-fee-message-total-item-total",detailTitle:y("total"),detailTotal:k,detailText:x,subTitle:y("transactionDetailMultiLayerTotalSubtitle"),noBold:o,flexWidthValues:o}))}v.propTypes={transaction:o.default.object,layer2fee:o.default.string,nativeCurrency:o.default.string,plainStyle:o.default.bool}}}},{package:"$root$",file:"ui/components/app/multilayer-fee-message/multi-layer-fee-message.js"}],[3654,{"./multiple-notifications.component":3655},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./multiple-notifications.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/multiple-notifications/index.js"}],[3655,{classnames:1943,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=i(e("classnames")),o=i(e("prop-types"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends r.PureComponent{constructor(...e){super(...e),l(this,"state",{showAll:!1})}render(){const{showAll:e}=this.state,{children:t,classNames:n}=this.props,o=t.filter(Boolean);return 0===o.length?null:r.default.createElement("div",{className:(0,a.default)(...n,{"home-notification-wrapper--show-all":e,"home-notification-wrapper--show-first":!e})},o,r.default.createElement("div",{className:"home-notification-wrapper__i-container",onClick:()=>this.setState({showAll:!e})},o.length>1?r.default.createElement("i",{className:(0,a.default)("fa fa-sm fa-sort-amount",{flipped:!e})}):null))}}n.default=u,l(u,"defaultProps",{children:[],classNames:[]}),l(u,"propTypes",{children:o.default.array,classNames:o.default.array})}}},{package:"$root$",file:"ui/components/app/multiple-notifications/multiple-notifications.component.js"}],[3656,{"./network-account-balance-header":3657},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./network-account-balance-header"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/network-account-balance-header/index.js"}],[3657,{"../../../../shared/constants/network":3409,"../../../contexts/i18n":4073,"../../../helpers/constants/design-system":4096,"../../component-library":3846,"../../ui/box/box":3926,"../../ui/icon-with-fallback":3971,"../../ui/identicon":3989,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=p(e("prop-types")),o=p(e("../../ui/icon-with-fallback")),i=p(e("../../ui/identicon")),s=e("../../../helpers/constants/design-system"),l=p(e("../../ui/box/box")),u=e("../../../contexts/i18n"),c=e("../../../../shared/constants/network"),d=e("../../component-library");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m({networkName:e,accountName:t,accountBalance:n,tokenName:a,accountAddress:p,chainId:f}){const m=(0,r.useContext)(u.I18nContext),h=c.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[f],g=h?"network-account-balance-header__network-account__ident-icon-ethereum":"network-account-balance-header__network-account__ident-icon-ethereum--gray";return r.default.createElement(l.default,{display:s.DISPLAY.FLEX,flexDirection:s.FLEX_DIRECTION.ROW,padding:4,className:"network-account-balance-header",alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.spaceBetween},r.default.createElement(l.default,{display:s.DISPLAY.FLEX,flexDirection:s.FLEX_DIRECTION.ROW,alignItems:s.AlignItems.center,gap:2},r.default.createElement(l.default,{display:s.DISPLAY.FLEX,flexDirection:s.FLEX_DIRECTION.ROW,alignItems:s.AlignItems.center},r.default.createElement(i.default,{address:p,diameter:32}),r.default.createElement(o.default,{name:e,size:16,icon:h,wrapperClassName:g})),r.default.createElement(l.default,{display:s.DISPLAY.FLEX,alignItems:s.AlignItems.flexStart,flexDirection:s.FLEX_DIRECTION.COLUMN},r.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative,marginBottom:0},e),r.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textDefault,fontWeight:s.FontWeight.Bold,marginTop:0},t))),r.default.createElement(l.default,{display:s.DISPLAY.FLEX,alignItems:s.AlignItems.flexEnd,flexDirection:s.FLEX_DIRECTION.COLUMN},r.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative,marginBottom:0},m("balance")),r.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textDefault,fontWeight:s.FontWeight.Bold,marginTop:0,align:s.TextAlign.End},n," ",a)))}m.propTypes={networkName:a.default.string,accountName:a.default.string,accountBalance:a.default.string,tokenName:a.default.string,accountAddress:a.default.string,chainId:a.default.string}}}},{package:"$root$",file:"ui/components/app/network-account-balance-header/network-account-balance-header.js"}],[3658,{"./network-display":3659},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./network-display"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/network-display/index.js"}],[3659,{"../../../../shared/constants/network":3409,"../../../ducks/metamask/metamask":4088,"../../../helpers/constants/design-system":4096,"../../../hooks/useI18nContext":4157,"../../../selectors":4464,"../../component-library":3846,"../../ui/chip/chip":3939,"../../ui/color-indicator":3942,"../../ui/loading-indicator":3998,classnames:1943,"prop-types":3019,react:3206,"react-redux":3159},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=y;var r=g(e("react")),a=g(e("prop-types")),o=g(e("classnames")),i=e("react-redux"),s=e("../../../../shared/constants/network"),l=g(e("../../ui/loading-indicator")),u=g(e("../../ui/color-indicator")),c=e("../../../helpers/constants/design-system"),d=g(e("../../ui/chip/chip")),p=e("../../../hooks/useI18nContext"),f=e("../../../selectors"),m=e("../../component-library"),h=e("../../../ducks/metamask/metamask");function g(e){return e&&e.__esModule?e:{default:e}}function y({indicatorSize:e,disabled:t,labelProps:n,targetNetwork:a,onClick:g}){const y=(0,i.useSelector)(f.isNetworkLoading),v=(0,i.useSelector)(h.getProviderConfig),b=(0,p.useI18nContext)(),{nickname:_,type:E}=a??v;return r.default.createElement(d.default,{dataTestId:"network-display",borderColor:g?c.BorderColor.borderDefault:c.BorderColor.borderMuted,onClick:g,leftIcon:r.default.createElement(l.default,{alt:b("attemptingConnect"),title:b("attemptingConnect"),isLoading:y},r.default.createElement(u.default,{color:E===s.NETWORK_TYPES.RPC?c.IconColor.iconMuted:E,size:e,type:u.default.TYPES.FILLED,iconClassName:E===s.NETWORK_TYPES.RPC&&e!==c.Size.XS?"fa fa-question":undefined})),rightIcon:g?r.default.createElement(m.Icon,{name:m.IconName.ArrowDown,size:m.IconSize.Xs}):null,label:E===s.NETWORK_TYPES.RPC?_??b("privateNetwork"):b(E),className:(0,o.default)("network-display",{"network-display--disabled":t,"network-display--clickable":"function"==typeof g}),labelProps:{variant:c.TypographyVariant.H7,...n}})}y.propTypes={indicatorSize:a.default.oneOf(Object.values(c.Size)),labelProps:d.default.propTypes.labelProps,targetNetwork:a.default.shape({type:a.default.oneOf([...Object.keys(s.BUILT_IN_NETWORKS),s.NETWORK_TYPES.RPC]),nickname:a.default.string}),disabled:a.default.bool,onClick:a.default.func},y.defaultProps={indicatorSize:c.Size.LG}}}},{package:"$root$",file:"ui/components/app/network-display/network-display.js"}],[3660,{"./nft-default-image":3661},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./nft-default-image"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/nft-default-image/index.js"}],[3661,{"../../../helpers/constants/design-system":4096,"../../../hooks/useI18nContext":4157,"../../component-library":3846,classnames:1943,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var r=u(e("react")),a=u(e("prop-types")),o=u(e("classnames")),i=e("../../../helpers/constants/design-system"),s=e("../../../hooks/useI18nContext"),l=e("../../component-library");function u(e){return e&&e.__esModule?e:{default:e}}function c({name:e,tokenId:t,handleImageClick:n}){const a=(0,s.useI18nContext)(),u=n?"button":"div";return r.default.createElement(u,{tabIndex:0,"data-testid":"nft-default-image",className:(0,o.default)("nft-default",{"nft-default--clickable":n}),onClick:n},r.default.createElement(l.Text,{variant:i.TextVariant.bodySm,as:"h6",className:"nft-default__text"},e??a("unknownCollection")," ",r.default.createElement("br",null)," #",t))}c.propTypes={name:a.default.string,tokenId:a.default.string,handleImageClick:a.default.func}}}},{package:"$root$",file:"ui/components/app/nft-default-image/nft-default-image.js"}],[3662,{"../../../../app/scripts/lib/util":81,"../../../../shared/constants/app":3401,"../../../../shared/constants/network":3409,"../../../../shared/constants/transaction":3418,"../../../../shared/modules/conversion.utils":3432,"../../../../shared/modules/string-utils":3443,"../../../ducks/metamask/metamask":4088,"../../../ducks/send":4090,"../../../helpers/constants/design-system":4096,"../../../helpers/constants/routes":4100,"../../../helpers/utils/nfts":4126,"../../../helpers/utils/util":4135,"../../../hooks/useCopyToClipboard":4150,"../../../hooks/useI18nContext":4157,"../../../hooks/usePrevious":4161,"../../../pages/asset/components/asset-navigation":4185,"../../../selectors":4464,"../../../store/actions":4471,"../../component-library":3846,"../../ui/box":3927,"../../ui/button":3931,"../../ui/card":3935,"../../ui/info-tooltip":3990,"../../ui/tooltip":4061,"../nft-default-image":3660,"../nft-options/nft-options":3663,lodash:2918,"prop-types":3019,react:3206,"react-redux":3159,"react-router-dom":3179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=L;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=R(e("prop-types")),o=e("react-redux"),i=e("react-router-dom"),s=e("lodash"),l=R(e("../../ui/box")),u=R(e("../../ui/card")),c=e("../../../helpers/constants/design-system"),d=e("../../../hooks/useI18nContext"),p=e("../../../helpers/utils/util"),f=e("../../../helpers/utils/nfts"),m=e("../../../selectors"),h=R(e("../../../pages/asset/components/asset-navigation")),g=e("../../../ducks/metamask/metamask"),y=e("../../../helpers/constants/routes"),v=e("../../../store/actions"),b=e("../../../../shared/constants/network"),_=e("../../../../app/scripts/lib/util"),E=e("../../../../shared/constants/app"),T=R(e("../nft-options/nft-options")),w=R(e("../../ui/button")),k=e("../../../ducks/send"),x=R(e("../../ui/info-tooltip")),P=e("../../../hooks/usePrevious"),O=e("../../../hooks/useCopyToClipboard"),C=e("../../../../shared/modules/string-utils"),M=e("../../../../shared/constants/transaction"),S=R(e("../nft-default-image")),N=e("../../component-library"),j=R(e("../../ui/tooltip")),I=e("../../../../shared/modules/conversion.utils");function R(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L({nft:e}){var t;const{image:n,imageOriginal:a,name:R,description:D,address:L,tokenId:A,standard:W,isCurrentlyOwned:q,lastSale:F,imageThumbnail:$}=e,B=(0,d.useI18nContext)(),G=(0,i.useHistory)(),U=(0,o.useDispatch)(),V=(0,o.useSelector)(m.getIpfsGateway),H=(0,o.useSelector)(g.getNftContracts),Y=(0,o.useSelector)(m.getCurrentChainId),[z,X]=(0,O.useCopyToClipboard)(),K=null===(t=H.find((({address:e})=>(0,C.isEqualCaseInsensitive)(e,L))))||void 0===t?void 0:t.name,Q=(0,o.useSelector)((e=>(0,m.getSelectedIdentity)(e).name)),J=(0,f.getNftImageAlt)(e),Z=(0,p.getAssetImageURL)(a??n,V),ee=Z.startsWith("data:"),te=(0,p.formatDate)(new Date(null==F?void 0:F.event_timestamp).getTime(),"M/d/y"),ne=(0,P.usePrevious)(e);(0,r.useEffect)((()=>{(0,s.isEqual)(ne,e)||(0,v.checkAndUpdateSingleNftOwnershipStatus)(e)}),[e,ne]);const re=(()=>{switch(Y){case b.CHAIN_IDS.MAINNET:return`https://opensea.io/assets/${L}/${A}`;case b.CHAIN_IDS.POLYGON:return`https://opensea.io/assets/matic/${L}/${A}`;case b.CHAIN_IDS.GOERLI:case b.CHAIN_IDS.SEPOLIA:return`https://testnets.opensea.io/assets/${L}/${A}`;default:return null}})(),ae=W!==M.TokenStandard.ERC721,oe=(0,_.getEnvironmentType)()===E.ENVIRONMENT_TYPE_POPUP,ie=async()=>{await U((0,k.startNewDraftTransaction)({type:M.AssetType.NFT,details:e})),G.push(y.SEND_ROUTE)},se=()=>!1===q?r.default.createElement("div",{style:{height:"30px"}}):r.default.createElement(l.default,{display:c.DISPLAY.FLEX,width:oe?c.BLOCK_SIZES.FULL:c.BLOCK_SIZES.HALF,margin:oe?[4,0]:null},r.default.createElement(w.default,{type:"primary",onClick:ie,disabled:ae,className:"nft-details__send-button","data-testid":"nft-send-button"},B("send")),ae?r.default.createElement(x.default,{position:"top",contentText:B("sendingDisabled")}):null);return r.default.createElement(r.default.Fragment,null,r.default.createElement(h.default,{accountName:Q,assetName:K,onBack:()=>G.push(y.DEFAULT_ROUTE),optionsButton:r.default.createElement(T.default,{onViewOnOpensea:re?()=>global.platform.openTab({url:re}):null,onRemove:()=>{U((0,v.removeAndIgnoreNft)(L,A)),U((0,v.setNewNftAddedMessage)("")),U((0,v.setRemoveNftMessage)("success")),G.push(y.DEFAULT_ROUTE)}})}),r.default.createElement(l.default,{className:"nft-details"},r.default.createElement("div",{className:"nft-details__top-section"},r.default.createElement(u.default,{padding:0,justifyContent:c.JustifyContent.center,className:"nft-details__card"},n?r.default.createElement("img",{className:"nft-details__image",src:Z,alt:J}):r.default.createElement(S.default,{name:R,tokenId:A})),r.default.createElement(l.default,{flexDirection:c.FLEX_DIRECTION.COLUMN,className:"nft-details__info",justifyContent:c.JustifyContent.spaceBetween},r.default.createElement("div",null,r.default.createElement(N.Text,{color:c.TextColor.textDefault,variant:c.TextVariant.headingSm,as:"h4",fontWeight:c.FontWeight.Bold,marginBottom:2},R),r.default.createElement(N.Text,{color:c.TextColor.textMuted,variant:c.TextVariant.bodyMd,as:"h5",marginBottom:4,overflowWrap:c.OverflowWrap.BreakWord},"#",A)),D?r.default.createElement("div",null,r.default.createElement(N.Text,{color:c.TextColor.textDefault,variant:c.TextVariant.bodySmBold,as:"h6",marginBottom:2,className:"nft-details__description"},B("description")),r.default.createElement(N.Text,{color:c.TextColor.textAlternative,variant:c.TextVariant.bodySm,as:"h6",overflowWrap:c.OverflowWrap.BreakWord,marginBottom:4},D)):null,oe?null:se())),r.default.createElement(l.default,{marginBottom:2},F?r.default.createElement(r.default.Fragment,null,r.default.createElement(l.default,{display:c.DISPLAY.FLEX,flexDirection:c.FLEX_DIRECTION.ROW},r.default.createElement(N.Text,{color:c.TextColor.textDefault,variant:c.TextVariant.bodySmBold,as:"h6",marginBottom:4,marginRight:2,className:"nft-details__link-title"},B("lastSold")),r.default.createElement(l.default,{display:c.DISPLAY.FLEX,flexDirection:c.FLEX_DIRECTION.ROW,className:"nft-details__contract-wrapper"},r.default.createElement(N.Text,{color:c.TextColor.textAlternative,variant:c.TextVariant.bodySm,as:"h6",overflowWrap:c.OverflowWrap.BreakWord,marginBottom:4},te))),r.default.createElement(l.default,{display:c.DISPLAY.FLEX,flexDirection:c.FLEX_DIRECTION.ROW},r.default.createElement(N.Text,{color:c.TextColor.textDefault,variant:c.TextVariant.bodySmBold,as:"h6",marginBottom:4,marginRight:2,className:"nft-details__link-title"},B("lastPriceSold")),r.default.createElement(l.default,{display:c.DISPLAY.FLEX,flexDirection:c.FLEX_DIRECTION.ROW,className:"nft-details__contract-wrapper"},r.default.createElement(N.Text,{color:c.TextColor.textAlternative,variant:c.TextVariant.bodySm,as:"h6",overflowWrap:c.OverflowWrap.BreakWord,marginBottom:4},`${Number((0,I.decWEIToDecETH)(F.total_price))} ${F.payment_token.symbol}`)))):null,r.default.createElement(l.default,{display:c.DISPLAY.FLEX,flexDirection:c.FLEX_DIRECTION.ROW},r.default.createElement(N.Text,{color:c.TextColor.textDefault,variant:c.TextVariant.bodySmBold,as:"h6",marginBottom:4,marginRight:2,className:"nft-details__link-title"},B("source")),r.default.createElement(N.Text,{variant:c.TextVariant.bodySm,as:"h6",marginBottom:4,className:"nft-details__image-source",color:ee?c.TextColor.textDefault:c.TextColor.primaryDefault},ee?r.default.createElement(r.default.Fragment,null,Z):r.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:Z,title:Z},Z))),$?r.default.createElement(l.default,{display:c.DISPLAY.FLEX,flexDirection:c.FLEX_DIRECTION.ROW},r.default.createElement(N.Text,{color:c.TextColor.textDefault,variant:c.TextVariant.bodySmBold,as:"h6",marginBottom:4,marginRight:2,className:"nft-details__link-title"},B("link")),r.default.createElement(N.Text,{variant:c.TextVariant.bodySm,as:"h6",marginBottom:4,className:"nft-details__image-source",color:ee?c.TextColor.textDefault:c.TextColor.primaryDefault},r.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:Z,title:Z},$))):null,r.default.createElement(l.default,{display:c.DISPLAY.FLEX,flexDirection:c.FLEX_DIRECTION.ROW},r.default.createElement(N.Text,{color:c.TextColor.textDefault,variant:c.TextVariant.bodySmBold,as:"h6",marginBottom:4,marginRight:2,className:"nft-details__link-title"},B("contractAddress")),r.default.createElement(l.default,{display:c.DISPLAY.FLEX,flexDirection:c.FLEX_DIRECTION.ROW,className:"nft-details__contract-wrapper"},r.default.createElement(N.Text,{color:c.TextColor.textAlternative,variant:c.TextVariant.bodySm,as:"h6",overflowWrap:c.OverflowWrap.BreakWord,marginBottom:4},(0,p.shortenAddress)(L)),r.default.createElement(j.default,{wrapperClassName:"nft-details__tooltip-wrapper",position:"bottom",title:B(z?"copiedExclamation":"copyToClipboard")},r.default.createElement(N.ButtonIcon,{ariaLabel:"copy",color:c.IconColor.iconAlternative,className:"nft-details__contract-copy-button","data-testid":"nft-address-copy",onClick:()=>{X(L)},iconName:z?N.IconName.CopySuccess:N.IconName.Copy})))),oe?se():null,r.default.createElement(N.Text,{color:c.TextColor.textAlternative,variant:c.TextVariant.bodySm,as:"h6"},B("nftDisclaimer")))))}L.propTypes={nft:a.default.shape({address:a.default.string.isRequired,tokenId:a.default.string.isRequired,isCurrentlyOwned:a.default.bool,name:a.default.string,description:a.default.string,image:a.default.string,standard:a.default.string,imageThumbnail:a.default.string,imagePreview:a.default.string,imageOriginal:a.default.string,creator:a.default.shape({address:a.default.string,config:a.default.string,profile_img_url:a.default.string}),lastSale:a.default.shape({event_timestamp:a.default.string,total_price:a.default.string,payment_token:a.default.shape({symbol:a.default.string})})})}}}},{package:"$root$",file:"ui/components/app/nft-details/nft-details.js"}],[3663,{"../../../contexts/i18n":4073,"../../../helpers/constants/design-system":4096,"../../component-library":3846,"../../ui/menu":4008,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),o=(r=e("prop-types"))&&r.__esModule?r:{default:r},i=e("../../../contexts/i18n"),s=e("../../ui/menu"),l=e("../../component-library"),u=e("../../../helpers/constants/design-system");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const d=({onRemove:e,onViewOnOpensea:t})=>{const n=(0,a.useContext)(i.I18nContext),[r,o]=(0,a.useState)(!1),c=(0,a.useRef)(!1);return a.default.createElement("div",{ref:c},a.default.createElement(l.ButtonIcon,{iconName:l.IconName.MoreVertical,className:"nft-options__button","data-testid":"nft-options__button",onClick:()=>o(!0),color:u.Color.textDefault,ariaLabel:n("nftOptions")}),r?a.default.createElement(s.Menu,{"data-testid":"close-nft-options-menu",anchorElement:c.current,onHide:()=>o(!1)},t?a.default.createElement(s.MenuItem,{iconName:l.IconName.Export,"data-testid":"nft-options__view-on-opensea",onClick:()=>{o(!1),t()}},n("viewOnOpensea")):null,a.default.createElement(s.MenuItem,{iconName:l.IconName.Trash,"data-testid":"nft-item-remove",onClick:()=>{o(!1),e()}},n("removeNFT"))):null)};d.propTypes={onRemove:o.default.func.isRequired,onViewOnOpensea:o.default.func};var p=d;n.default=p}}},{package:"$root$",file:"ui/components/app/nft-options/nft-options.js"}],[3664,{"./nfts-detection-notice":3665},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./nfts-detection-notice"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/nfts-detection-notice/index.js"}],[3665,{"../../../helpers/constants/design-system":4096,"../../../helpers/constants/routes":4100,"../../../hooks/useI18nContext":4157,"../../component-library":3846,"../../ui/box":3927,"../../ui/button":3931,"../../ui/dialog":3951,react:3206,"react-router-dom":3179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,u.useI18nContext)(),t=(0,a.useHistory)();return r.default.createElement(o.default,{className:"nfts-detection-notice"},r.default.createElement(i.default,{type:"message",className:"nfts-detection-notice__message"},r.default.createElement(o.default,{display:l.DISPLAY.FLEX},r.default.createElement(o.default,{paddingTop:1},r.default.createElement(s.Icon,{name:s.IconName.Info,className:"info-circle",color:l.IconColor.primaryDefault})),r.default.createElement(o.default,{paddingLeft:2},r.default.createElement(s.Text,{color:l.TextColor.textDefault,align:l.TextAlign.Left,variant:l.TextVariant.bodySm,as:"h6",fontWeight:l.FontWeight.Bold},e("newNFTsDetected")),r.default.createElement(s.Text,{color:l.TextColor.textDefault,align:l.TextAlign.Left,variant:l.TextVariant.bodySm,as:"h6",marginBottom:4},e("newNFTDetectedMessage")),r.default.createElement(c.default,{type:"link",onClick:e=>{e.preventDefault(),t.push(`${d.EXPERIMENTAL_ROUTE}#autodetect-nfts`)},className:"nfts-detection-notice__message__link"},e("selectNFTPrivacyPreference"))))))};var r=p(e("react")),a=e("react-router-dom"),o=p(e("../../ui/box")),i=p(e("../../ui/dialog")),s=e("../../component-library"),l=e("../../../helpers/constants/design-system"),u=e("../../../hooks/useI18nContext"),c=p(e("../../ui/button")),d=e("../../../helpers/constants/routes");function p(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/app/nfts-detection-notice/nfts-detection-notice.js"}],[3666,{"./nfts-items":3667},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./nfts-items"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/nfts-items/index.js"}],[3667,{"../../../../app/scripts/lib/util":81,"../../../../shared/constants/app":3401,"../../../ducks/metamask/metamask":4088,"../../../helpers/constants/design-system":4096,"../../../helpers/constants/routes":4100,"../../../helpers/utils/nfts":4126,"../../../helpers/utils/util":4135,"../../../hooks/useI18nContext":4157,"../../../hooks/usePrevious":4161,"../../../selectors":4464,"../../../store/actions":4471,"../../component-library":3846,"../../ui/box":3927,"../../ui/card":3935,"../../ui/typography/typography":4066,"../nft-default-image":3660,lodash:2918,"prop-types":3019,react:3206,"react-redux":3159,"react-router-dom":3179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=C;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=k(e("prop-types")),o=e("react-redux"),i=e("react-router-dom"),s=e("lodash"),l=k(e("../../ui/box")),u=k(e("../../ui/typography/typography")),c=k(e("../../ui/card")),d=e("../../../helpers/constants/design-system"),p=e("../../../../shared/constants/app"),f=e("../../../../app/scripts/lib/util"),m=e("../../../selectors"),h=e("../../../helpers/constants/routes"),g=e("../../../helpers/utils/util"),y=e("../../../helpers/utils/nfts"),v=e("../../../store/actions"),b=e("../../../hooks/usePrevious"),_=e("../../../ducks/metamask/metamask"),E=e("../../../hooks/useI18nContext"),T=e("../../component-library"),w=k(e("../nft-default-image"));function k(e){return e&&e.__esModule?e:{default:e}}function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}const P=(0,f.getEnvironmentType)()===p.ENVIRONMENT_TYPE_POPUP?d.BLOCK_SIZES.ONE_THIRD:d.BLOCK_SIZES.ONE_SIXTH,O="previouslyOwned";function C({collections:e={},previouslyOwnedCollection:t={}}){var n;const a=(0,o.useDispatch)(),p=Object.keys(e),f=(0,o.useSelector)(_.getNftsDropdownState),k=(0,b.usePrevious)(p),x=(0,o.useSelector)(m.getSelectedAddress),C=(0,o.useSelector)(m.getCurrentChainId),M=(0,E.useI18nContext)();(0,r.useEffect)((()=>{var e,t;if(C!==undefined&&x!==undefined&&!(0,s.isEqual)(k,p)&&((null==f||null===(e=f[x])||void 0===e?void 0:e[C])===undefined||0===Object.keys(null==f||null===(t=f[x])||void 0===t?void 0:t[C]).length)){const e={};p.forEach((t=>{e[t]=!0}));const t={...f,[x]:{...null==f?void 0:f[x],[C]:e}};a((0,v.updateNftDropDownState)(t))}}),[p,k,f,x,C,a]);const S=(0,o.useSelector)(m.getIpfsGateway),N=(0,i.useHistory)(),j=({nfts:e,collectionName:t,collectionImage:n,key:o})=>{var i,s;if(!e.length)return null;const p=null===(i=f[x])||void 0===i||null===(s=i[C])||void 0===s?void 0:s[o];return r.default.createElement("div",{className:"nfts-items__collection",key:`collection-${o}`},r.default.createElement("button",{className:"nfts-items__collection-wrapper","data-testid":"collection-expander-button",onClick:()=>{((e,t)=>{const n={...f[x][C],[e]:!t},r={...f,[x]:{[C]:n}};a((0,v.updateNftDropDownState)(r))})(o,p)}},r.default.createElement(l.default,{marginBottom:2,display:d.DISPLAY.FLEX,alignItems:d.AlignItems.center,justifyContent:d.JustifyContent.spaceBetween,className:"nfts-items__collection-accordion-title"},r.default.createElement(l.default,{alignItems:d.AlignItems.center,className:"nfts-items__collection-header"},((e,t)=>{var n;return e?r.default.createElement("img",{alt:t,src:(0,g.getAssetImageURL)(e,S),className:"nfts-items__collection-image"}):r.default.createElement("div",{className:"nfts-items__collection-image-alt"},(null==t||null===(n=t[0])||void 0===n?void 0:n.toUpperCase())??null)})(n,t),r.default.createElement(u.default,{color:d.Color.textDefault,variant:d.TypographyVariant.H5,margin:2},`${t??M("unknownCollection")} (${e.length})`)),r.default.createElement(l.default,{alignItems:d.AlignItems.flexEnd},r.default.createElement(T.Icon,{name:p?T.IconName.ArrowDown:T.IconName.ArrowRight,color:d.Color.iconDefault})))),p?r.default.createElement(l.default,{display:d.DISPLAY.FLEX,flexWrap:d.FLEX_WRAP.WRAP,gap:4},e.map(((e,t)=>{const{image:n,address:a,tokenId:o,backgroundColor:i,name:s}=e,u=(0,g.getAssetImageURL)(n,S),p=(0,y.getNftImageAlt)(e),f=()=>N.push(`${h.ASSET_ROUTE}/${a}/${o}`);return r.default.createElement(l.default,{"data-testid":"nft-wrapper",width:P,key:`nft-${t}`,className:"nfts-items__item-wrapper"},r.default.createElement(c.default,{padding:0,justifyContent:d.JustifyContent.center,className:"nfts-items__item-wrapper__card"},u?r.default.createElement("button",{className:"nfts-items__item",style:{backgroundColor:i},onClick:f},r.default.createElement("img",{className:"nfts-items__item-image","data-testid":"nft-image",src:u,alt:p})):r.default.createElement(w.default,{name:s,tokenId:o,handleImageClick:f})))}))):null)};return r.default.createElement("div",{className:"nfts-items"},r.default.createElement(l.default,{paddingTop:6,paddingBottom:6,paddingLeft:4,paddingRight:4,flexDirection:d.FLEX_DIRECTION.COLUMN},r.default.createElement(r.default.Fragment,null,p.map((t=>{const{nfts:n,collectionName:r,collectionImage:a}=e[t];return j({nfts:n,collectionName:r,collectionImage:a,key:t,isPreviouslyOwnedCollection:!1})})),j({nfts:t.nfts,collectionName:t.collectionName,collectionImage:null===(n=t.nfts[0])||void 0===n?void 0:n.image,isPreviouslyOwnedCollection:!0,key:O}))))}C.propTypes={previouslyOwnedCollection:a.default.shape({nfts:a.default.arrayOf(a.default.shape({address:a.default.string.isRequired,tokenId:a.default.string.isRequired,name:a.default.string,description:a.default.string,image:a.default.string,standard:a.default.string,imageThumbnail:a.default.string,imagePreview:a.default.string,creator:a.default.shape({address:a.default.string,config:a.default.string,profile_img_url:a.default.string})})),collectionName:a.default.string,collectionImage:a.default.string}),collections:a.default.shape({nfts:a.default.arrayOf(a.default.shape({address:a.default.string.isRequired,tokenId:a.default.string.isRequired,name:a.default.string,description:a.default.string,image:a.default.string,standard:a.default.string,imageThumbnail:a.default.string,imagePreview:a.default.string,creator:a.default.shape({address:a.default.string,config:a.default.string,profile_img_url:a.default.string})})),collectionImage:a.default.string,collectionName:a.default.string})}}}},{package:"$root$",file:"ui/components/app/nfts-items/nfts-items.js"}],[3668,{"./nfts-tab":3669},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./nfts-tab"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/nfts-tab/index.js"}],[3669,{"../../../helpers/constants/design-system":4096,"../../../helpers/constants/routes":4100,"../../../helpers/constants/zendesk-url":4103,"../../../hooks/useI18nContext":4157,"../../../hooks/useNftsCollections":4159,"../../../selectors":4464,"../../../store/actions":4471,"../../ui/box":3927,"../../ui/button":3931,"../../ui/typography/typography":4066,"../nfts-detection-notice":3664,"../nfts-items":3666,"prop-types":3019,react:3206,"react-redux":3159,"react-router-dom":3179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=_;var r=b(e("react")),a=b(e("prop-types")),o=e("react-redux"),i=e("react-router-dom"),s=b(e("../../ui/box")),l=b(e("../../ui/button")),u=b(e("../../ui/typography/typography")),c=b(e("../nfts-detection-notice")),d=b(e("../nfts-items")),p=e("../../../helpers/constants/design-system"),f=e("../../../hooks/useI18nContext"),m=e("../../../selectors"),h=e("../../../helpers/constants/routes"),g=e("../../../store/actions"),y=e("../../../hooks/useNftsCollections"),v=b(e("../../../helpers/constants/zendesk-url"));function b(e){return e&&e.__esModule?e:{default:e}}function _({onAddNFT:e}){const t=(0,o.useSelector)(m.getUseNftDetection),n=(0,o.useSelector)(m.getIsMainnet),a=(0,i.useHistory)(),b=(0,f.useI18nContext)(),_=(0,o.useDispatch)(),{nftsLoading:E,collections:T,previouslyOwnedCollection:w}=(0,y.useNftsCollections)();return E?r.default.createElement("div",{className:"nfts-tab__loading"},b("loadingNFTs")):r.default.createElement(s.default,{className:"nfts-tab"},Object.keys(T).length>0||w.nfts.length>0?r.default.createElement(d.default,{collections:T,previouslyOwnedCollection:w}):r.default.createElement(r.default.Fragment,null,n&&!t?r.default.createElement(c.default,null):null,r.default.createElement(s.default,{padding:12},r.default.createElement(s.default,{justifyContent:p.JustifyContent.center},r.default.createElement("img",{src:"./images/no-nfts.svg"})),r.default.createElement(s.default,{marginTop:4,marginBottom:12,justifyContent:p.JustifyContent.center,flexDirection:p.FLEX_DIRECTION.COLUMN,className:"nfts-tab__link"},r.default.createElement(u.default,{color:p.TextColor.textMuted,variant:p.TypographyVariant.H4,align:p.TextAlign.Center,fontWeight:p.FontWeight.Bold},b("noNFTs")),r.default.createElement(l.default,{type:"link",target:"_blank",rel:"noopener noreferrer",href:v.default.NFT_TOKENS},b("learnMoreUpperCase"))))),r.default.createElement(s.default,{marginBottom:4,justifyContent:p.JustifyContent.center,flexDirection:p.FLEX_DIRECTION.COLUMN},r.default.createElement(u.default,{color:p.TextColor.textMuted,variant:p.TypographyVariant.H5,align:p.TextAlign.Center},b("missingNFT")),r.default.createElement(s.default,{alignItems:p.AlignItems.center,justifyContent:p.JustifyContent.center},!n&&Object.keys(T).length<1?null:r.default.createElement(r.default.Fragment,null,r.default.createElement(s.default,{className:"nfts-tab__link",justifyContent:p.JustifyContent.flexEnd},n&&!t?r.default.createElement(l.default,{type:"link",onClick:()=>{a.push(h.EXPERIMENTAL_ROUTE)}},b("enableAutoDetect")):r.default.createElement(l.default,{type:"link",onClick:()=>{n&&_((0,g.detectNfts)()),(0,g.checkAndUpdateAllNftsOwnershipStatus)()}},b("refreshList"))),r.default.createElement(u.default,{color:p.TextColor.textMuted,variant:p.TypographyVariant.H6,align:p.TextAlign.Center},b("or"))),r.default.createElement(s.default,{justifyContent:p.JustifyContent.flexStart,className:"nfts-tab__link"},r.default.createElement(l.default,{type:"link",onClick:e},b("importNFTs"))))))}_.propTypes={onAddNFT:a.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/nfts-tab/nfts-tab.js"}],[3670,{"./permission-page-container-content":3671,"./permission-page-container.container":3674},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"PermissionPageContainerContent",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=o(e("./permission-page-container.container")),a=o(e("./permission-page-container-content"));function o(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/app/permission-page-container/index.js"}],[3671,{"./permission-page-container-content.component":3672},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./permission-page-container-content.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container-content/index.js"}],[3672,{"../../../ui/tooltip":4061,"../../permissions-connect-header":3677,"../../permissions-connect-permission-list":3679,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=u(e("prop-types")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),o=u(e("../../permissions-connect-header")),i=u(e("../../../ui/tooltip")),s=u(e("../../permissions-connect-permission-list"));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends a.PureComponent{renderRequestedPermissions(){const{selectedPermissions:e,subjectMetadata:t}=this.props;return a.default.createElement("div",{className:"permission-approval-container__content__requested"},a.default.createElement(s.default,{permissions:e,targetSubjectMetadata:t}))}renderAccountTooltip(e){const{selectedIdentities:t}=this.props,{t:n}=this.context;return a.default.createElement(i.default,{key:"all-account-connect-tooltip",position:"bottom",wrapperClassName:"permission-approval-container__bold-title-elements",html:a.default.createElement("div",{style:{display:"flex",flexDirection:"column"}},t.slice(0,6).map(((e,t)=>a.default.createElement("div",{key:`tooltip-identity-${t}`},e.addressLabel))),t.length>6?n("plusXMore",[t.length-6]):null)},e)}getTitle(){var e;const{subjectMetadata:t,selectedIdentities:n,allIdentitiesSelected:r,selectedPermissions:a}=this.props,{t:o}=this.context;return t.extensionId?o("externalExtension",[t.extensionId]):a.eth_accounts?r?o("connectToAll",[this.renderAccountTooltip(o("connectToAllAccounts"))]):n.length>1?o("connectToMultiple",[this.renderAccountTooltip(o("connectToMultipleNumberOfAccounts",[n.length]))]):o("connectTo",[null===(e=n[0])||void 0===e?void 0:e.addressLabel]):o("permissionRequestCapitalized")}render(){const{subjectMetadata:e}=this.props,{t:t}=this.context,n=this.getTitle();return a.default.createElement("div",{className:"permission-approval-container__content"},a.default.createElement("div",{className:"permission-approval-container__content-container"},a.default.createElement(o.default,{iconUrl:e.iconUrl,iconName:e.name,headerTitle:n,headerText:e.extensionId?t("allowExternalExtensionTo",[e.extensionId]):t("allowThisSiteTo"),siteOrigin:e.origin}),a.default.createElement("section",{className:"permission-approval-container__permissions-container"},this.renderRequestedPermissions())))}}n.default=d,c(d,"propTypes",{subjectMetadata:r.default.shape({name:r.default.string.isRequired,origin:r.default.string.isRequired,subjectType:r.default.string.isRequired,extensionId:r.default.string,iconUrl:r.default.string}),selectedPermissions:r.default.object.isRequired,selectedIdentities:r.default.array,allIdentitiesSelected:r.default.bool}),c(d,"defaultProps",{selectedIdentities:[],allIdentitiesSelected:!1}),c(d,"contextTypes",{t:r.default.func})}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container-content/permission-page-container-content.component.js"}],[3673,{".":3670,"../../../../shared/constants/metametrics":3408,"../../ui/page-container":4019,"../permissions-connect-footer":3675,lodash:2918,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=d(e("prop-types")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),o=e("lodash"),i=e("../../../../shared/constants/metametrics"),s=e("../../ui/page-container"),l=d(e("../permissions-connect-footer")),u=e(".");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends a.Component{constructor(...e){super(...e),p(this,"state",{selectedPermissions:this.getRequestedMethodState(this.getRequestedMethodNames(this.props))}),p(this,"onCancel",(()=>{const{request:e,rejectPermissionsRequest:t}=this.props;t(e.metadata.id)})),p(this,"onSubmit",(()=>{const{request:e,approvePermissionsRequest:t,rejectPermissionsRequest:n,selectedIdentities:r}=this.props,a={...e,permissions:{...e.permissions},approvedAccounts:r.map((e=>e.address))};Object.keys(this.state.selectedPermissions).forEach((e=>{this.state.selectedPermissions[e]||delete a.permissions[e]})),Object.keys(a.permissions).length>0?t(a):n(a.metadata.id)}))}componentDidUpdate(){const e=this.getRequestedMethodNames(this.props);(0,o.isEqual)(Object.keys(this.state.selectedPermissions),e)||this.setState({selectedPermissions:this.getRequestedMethodState(e)})}getRequestedMethodState(e){return e.reduce(((e,t)=>(e[t]=!0,e)),{})}getRequestedMethodNames(e){return Object.keys(e.request.permissions||{})}componentDidMount(){this.context.trackEvent({category:i.MetaMetricsEventCategory.Auth,event:"Tab Opened",properties:{action:"Connect",legacy_event:!0}})}render(){const{requestMetadata:e,targetSubjectMetadata:t,selectedIdentities:n,allIdentitiesSelected:r}=this.props;return a.default.createElement("div",{className:"page-container permission-approval-container"},a.default.createElement(u.PermissionPageContainerContent,{requestMetadata:e,subjectMetadata:t,selectedPermissions:this.state.selectedPermissions,selectedIdentities:n,allIdentitiesSelected:r}),a.default.createElement("div",{className:"permission-approval-container__footers"},a.default.createElement(l.default,null),a.default.createElement(s.PageContainerFooter,{cancelButtonType:"default",onCancel:()=>this.onCancel(),cancelText:this.context.t("cancel"),onSubmit:()=>this.onSubmit(),submitText:this.context.t("connect"),buttonSizeLarge:!1})))}}n.default=f,p(f,"propTypes",{approvePermissionsRequest:r.default.func.isRequired,rejectPermissionsRequest:r.default.func.isRequired,selectedIdentities:r.default.array,allIdentitiesSelected:r.default.bool,request:r.default.object,requestMetadata:r.default.object,targetSubjectMetadata:r.default.shape({name:r.default.string,origin:r.default.string.isRequired,subjectType:r.default.string.isRequired,extensionId:r.default.string,iconUrl:r.default.string})}),p(f,"defaultProps",{request:{},requestMetadata:{},selectedIdentities:[],allIdentitiesSelected:!1}),p(f,"contextTypes",{t:r.default.func,trackEvent:r.default.func})}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container.component.js"}],[3674,{"../../../selectors":4464,"./permission-page-container.component":3673,"react-redux":3159},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=e("react-redux"),o=e("../../../selectors"),i=(r=e("./permission-page-container.component"))&&r.__esModule?r:{default:r};var s=(0,a.connect)(((e,t)=>{const{selectedIdentities:n}=t,r=(0,o.getMetaMaskIdentities)(e);return{allIdentitiesSelected:Object.keys(n).length===Object.keys(r).length&&n.length>1}}))(i.default);n.default=s}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container.container.js"}],[3675,{"./permissions-connect-footer.component":3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./permissions-connect-footer.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/permissions-connect-footer/index.js"}],[3676,{"../../../helpers/constants/zendesk-url":4103,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a,o,i=c(e("prop-types")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),l=c(e("../../../helpers/constants/zendesk-url"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}class d extends s.Component{render(){const{t:e}=this.context;return s.default.createElement("div",{className:"permissions-connect-footer"},s.default.createElement("div",{className:"permissions-connect-footer__text"},s.default.createElement("div",null,e("onlyConnectTrust")),s.default.createElement("div",{className:"permissions-connect-footer__text--link",onClick:()=>{global.platform.openTab({url:l.default.USER_GUIDE_DAPPS})}},e("learnMoreUpperCase"))))}}n.default=d,r=d,a="contextTypes",o={t:i.default.func},(a=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o}}},{package:"$root$",file:"ui/components/app/permissions-connect-footer/permissions-connect-footer.component.js"}],[3677,{"./permissions-connect-header.component":3678},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./permissions-connect-header.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/permissions-connect-header/index.js"}],[3678,{"../../../helpers/constants/design-system":4096,"../../ui/box":3927,"../../ui/site-origin":4042,classnames:1943,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=c(e("prop-types")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),o=c(e("classnames")),i=c(e("../../ui/site-origin")),s=c(e("../../ui/box")),l=e("../../../helpers/constants/design-system");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends a.Component{renderHeaderIcon(){const{iconUrl:e,iconName:t,siteOrigin:n,leftIcon:r,rightIcon:o}=this.props;return a.default.createElement("div",{className:"permissions-connect-header__icon"},a.default.createElement(i.default,{chip:!0,siteOrigin:n,title:n,iconSrc:e,name:t,leftIcon:r,rightIcon:o}))}render(){const{boxProps:e,className:t,headerTitle:n,headerText:r}=this.props;return a.default.createElement(s.default,d({className:(0,o.default)("permissions-connect-header",t),flexDirection:l.FLEX_DIRECTION.COLUMN,justifyContent:l.JustifyContent.center},e),this.renderHeaderIcon(),a.default.createElement("div",{className:"permissions-connect-header__title"},n),a.default.createElement("div",{className:"permissions-connect-header__subtitle"},r))}}n.default=f,p(f,"propTypes",{className:r.default.string,iconUrl:r.default.string,iconName:r.default.string.isRequired,siteOrigin:r.default.string.isRequired,headerTitle:r.default.node,boxProps:r.default.shape({...s.default.propTypes}),headerText:r.default.string,leftIcon:r.default.node,rightIcon:r.default.node}),p(f,"defaultProps",{iconUrl:null,headerTitle:"",headerText:"",boxProps:{}})}}},{package:"$root$",file:"ui/components/app/permissions-connect-header/permissions-connect-header.component.js"}],[3679,{"./permissions-connect-permission-list":3680},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./permissions-connect-permission-list"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/permissions-connect-permission-list/index.js"}],[3680,{"../../../helpers/utils/permission":4129,"../../../hooks/useI18nContext":4157,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var r=s(e("react")),a=s(e("prop-types")),o=e("../../../helpers/utils/permission"),i=e("../../../hooks/useI18nContext");function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){const{label:n,leftIcon:a,permissionName:i}=e;return r.default.createElement("div",{className:"permission",key:`${i}-${t}`},"string"==typeof a?r.default.createElement("i",{className:a}):a,n,(0,o.getRightIcon)(e))}function u({permissions:e,targetSubjectMetadata:t}){const n=(0,i.useI18nContext)();return r.default.createElement("div",{className:"permissions-connect-permission-list"},(0,o.getWeightedPermissions)(n,e,t).map(l))}u.propTypes={permissions:a.default.object.isRequired,targetSubjectMetadata:a.default.object.isRequired}}}},{package:"$root$",file:"ui/components/app/permissions-connect-permission-list/permissions-connect-permission-list.js"}],[3681,{"../../../../app/scripts/lib/util":81,"../../../../shared/constants/app":3401,"../../../../shared/constants/time":3416,"../../../helpers/utils/webcam-utils":4136,"../../../hooks/useI18nContext":4157,"../../ui/page-container/page-container-footer/page-container-footer.component":4022,"./enhanced-reader":3682,"@ngraveio/bc-ur":1326,loglevel:2930,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=m(e("loglevel")),o=e("@ngraveio/bc-ur"),i=m(e("prop-types")),s=e("../../../../app/scripts/lib/util"),l=e("../../../../shared/constants/app"),u=m(e("../../../helpers/utils/webcam-utils")),c=m(e("../../ui/page-container/page-container-footer/page-container-footer.component")),d=e("../../../hooks/useI18nContext"),p=e("../../../../shared/constants/time"),f=m(e("./enhanced-reader"));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g="ACCESSING_CAMERA",y="NEED_TO_ALLOW_ACCESS",v="READY",b=({isReadingWallet:e,handleCancel:t,handleSuccess:n,setErrorTitle:i})=>{const m=(0,d.useI18nContext)(),[h,b]=(0,r.useState)(g),[_,E]=(0,r.useState)(null),[T,w]=(0,r.useState)(new o.URDecoder);let k=null;const x=(0,r.useRef)(!1),P=async()=>{try{const{environmentReady:e}=await u.default.checkStatus();if(!e&&(0,s.getEnvironmentType)()!==l.ENVIRONMENT_TYPE_FULLSCREEN){const e=new URL(window.location.href).hash,t=e?e.substring(1):null;global.platform.openExtensionInBrowser(t)}}catch(e){x.current&&E(e)}return M()},O=async()=>{try{const{permissions:e}=await u.default.checkStatus();if(e){if(await new Promise((e=>setTimeout(e,2*p.SECOND))),!x.current)return;b(v)}else x.current&&(k=setTimeout(O,p.SECOND),b(y))}catch(e){x.current&&E(e)}},C=t=>{try{if(!t)return;if(T.receivePart(t),T.isComplete()){const e=T.resultUR();n(e).catch(E)}}catch(t){i(m(e?"QRHardwareUnknownQRCodeTitle":"QRHardwareInvalidTransactionTitle")),E(new Error(m("unknownQrCode")))}},M=()=>{try{O()}catch(e){if(!x.current)return;"NotAllowedError"===e.name?(a.default.info(`Permission denied: '${e}'`),b(y)):E(e)}};(0,r.useEffect)((()=>(x.current=!0,P(),()=>{x.current=!1,clearTimeout(k)})),[]),(0,r.useEffect)((()=>{h===v?M():h===y&&O()}),[h]);const S=()=>{clearTimeout(k),b(g),E(null),w(new o.URDecoder),P()};return r.default.createElement("div",{className:"qr-scanner"},_?(()=>{let n,a;return"NO_WEBCAM_FOUND"===_.type?(n=m("noWebcamFoundTitle"),a=m("noWebcamFound")):_.message===m("unknownQrCode")?a=m(e?"QRHardwareUnknownWalletQRCode":"unknownQrCode"):_.message===m("QRHardwareMismatchedSignId")?a=m("QRHardwareMismatchedSignId"):(n=m("unknownCameraErrorTitle"),a=m("unknownCameraError")),r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"qr-scanner__image"},r.default.createElement("img",{src:"images/webcam.svg",width:"70",height:"70",alt:""})),n?r.default.createElement("div",{className:"qr-scanner__title"},n):null,r.default.createElement("div",{className:"qr-scanner__error"},a),r.default.createElement(c.default,{onCancel:()=>{i(""),t()},onSubmit:()=>{i(""),S()},cancelText:m("cancel"),submitText:m("tryAgain"),submitButtonType:"confirm"}))})():(()=>{let e;return h===g?e=m("accessingYourCamera"):h===v?e=m("QRHardwareScanInstructions"):h===y&&(e=m("youNeedToAllowCameraAccess")),r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"qr-scanner__content"},r.default.createElement(f.default,{handleScan:C})),e&&r.default.createElement("div",{className:"qr-scanner__status"},e))})())};b.propTypes={isReadingWallet:i.default.bool.isRequired,handleCancel:i.default.func.isRequired,handleSuccess:i.default.func.isRequired,setErrorTitle:i.default.func.isRequired};var _=b;n.default=_}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/base-reader.js"}],[3682,{"../../../../shared/constants/time":3416,"../../ui/spinner":4044,"@zxing/browser":1723,"@zxing/library":1734,loglevel:2930,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=e("@zxing/library"),o=e("@zxing/browser"),i=c(e("loglevel")),s=c(e("prop-types")),l=e("../../../../shared/constants/time"),u=c(e("../../ui/spinner"));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const p=({handleScan:e})=>{const[t,n]=(0,r.useState)(!1),s=(0,r.useMemo)((()=>{const e=new Map;return e.set(a.DecodeHintType.POSSIBLE_FORMATS,[a.BarcodeFormat.QR_CODE]),new o.BrowserQRCodeReader(e,{delayBetweenScanAttempts:100*l.MILLISECOND,delayBetweenScanSuccess:100*l.MILLISECOND})}),[]);return(0,r.useEffect)((()=>{const t=document.getElementById("video"),r=()=>{n(!0)};t.addEventListener("canplay",r);const a=s.decodeFromVideoDevice(undefined,"video",(t=>{t&&e(t.getText())}));return()=>{t.removeEventListener("canplay",r),a.then((e=>{e&&e.stop()})).catch(i.default.info)}}),[]),r.default.createElement("div",{className:"qr-scanner__content__video-wrapper"},r.default.createElement("video",{id:"video",style:{display:t?"block":"none",width:"100%",filter:"blur(4px)"}}),t?null:r.default.createElement(u.default,{color:"var(--color-warning-default)"}))};p.propTypes={handleScan:s.default.func.isRequired};var f=p;n.default=f}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/enhanced-reader.js"}],[3683,{"./qr-hardware-popover":3684},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=((r=e("./qr-hardware-popover"))&&r.__esModule?r:{default:r}).default;n.default=a}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/index.js"}],[3684,{"../../../../shared/constants/app":3401,"../../../hooks/useI18nContext":4157,"../../../selectors":4464,"../../../store/actions":4471,"../../ui/popover":4026,"./qr-hardware-sign-request":3685,"./qr-hardware-wallet-importer":3689,react:3206,"react-redux":3159},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=e("react-redux"),o=e("../../../selectors"),i=p(e("../../ui/popover")),s=e("../../../hooks/useI18nContext"),l=e("../../../store/actions"),u=e("../../../../shared/constants/app"),c=p(e("./qr-hardware-wallet-importer")),d=p(e("./qr-hardware-sign-request"));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var m=()=>{var e;const t=(0,s.useI18nContext)(),n=(0,a.useSelector)(o.getCurrentQRHardwareState),{sync:p,sign:f}=n,m=null==p?void 0:p.reading,h=null==f?void 0:f.request,g=m||h,[y,v]=(0,r.useState)(""),{txData:b}=(0,a.useSelector)((e=>e.confirmTransaction)),_=(0,r.useMemo)((()=>b),[null==f||null===(e=f.request)||void 0===e?void 0:e.requestId]),E=(0,a.useDispatch)(),T=(0,r.useCallback)((()=>E((0,l.cancelSyncQRHardware)())),[E]),w=(0,r.useCallback)((()=>{let e=l.cancelTx;switch(_.type){case u.MESSAGE_TYPE.PERSONAL_SIGN:e=l.cancelPersonalMsg;break;case u.MESSAGE_TYPE.ETH_SIGN:e=l.cancelMsg;break;case u.MESSAGE_TYPE.ETH_SIGN_TYPED_DATA:e=l.cancelTypedMsg;break;default:e=l.cancelTx}E(e(_)),E((0,l.cancelQRHardwareSignRequest)())}),[E,_]),k=(0,r.useMemo)((()=>{let e="";return h?e=t("QRHardwareSignRequestTitle"):m&&(e=t("QRHardwareWalletImporterTitle")),""!==y&&(e=y),e}),[h,m,t,y]);return g?r.default.createElement(i.default,{title:k,onClose:m?T:w},m&&r.default.createElement(c.default,{handleCancel:T,setErrorTitle:v}),h&&r.default.createElement(d.default,{setErrorTitle:v,handleCancel:w,request:f.request})):null};n.default=m}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-popover.js"}],[3685,{"./qr-hardware-sign-request.component":3687},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=((r=e("./qr-hardware-sign-request.component"))&&r.__esModule?r:{default:r}).default;n.default=a}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-sign-request/index.js"}],[3686,{"../../../../helpers/constants/design-system":4096,"../../../../hooks/useI18nContext":4157,"../../../component-library":3846,"../../../ui/box":3927,"../../../ui/page-container":4019,"@ngraveio/bc-ur":1326,buffer:1904,"prop-types":3019,"qrcode.react":3086,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=p(e("qrcode.react")),o=e("@ngraveio/bc-ur"),i=p(e("prop-types")),s=p(e("../../../ui/box")),l=e("../../../../hooks/useI18nContext"),u=e("../../../../helpers/constants/design-system"),c=e("../../../ui/page-container"),d=e("../../../component-library");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const m=({type:e,cbor:n,cancelQRHardwareSignRequest:i,toRead:p})=>{const f=(0,l.useI18nContext)(),m=(0,r.useMemo)((()=>new o.UREncoder(new o.UR(t.from(n,"hex"),e),400)),[n,e]),[h,g]=(0,r.useState)(m.nextPart());return(0,r.useEffect)((()=>{const e=setInterval((()=>{g(m.nextPart())}),100);return()=>{clearInterval(e)}}),[m]),r.default.createElement(r.default.Fragment,null,r.default.createElement(s.default,null,r.default.createElement(d.Text,{align:u.TextAlign.Center},f("QRHardwareSignRequestSubtitle"))),r.default.createElement(s.default,{paddingTop:4,paddingBottom:4,display:u.DISPLAY.FLEX,alignItems:u.AlignItems.center,flexDirection:u.FLEX_DIRECTION.COLUMN},r.default.createElement("div",{style:{padding:20,backgroundColor:"var(--qr-code-white-background)"}},r.default.createElement(a.default,{value:h.toUpperCase(),size:250}))),r.default.createElement(s.default,{paddingBottom:4,paddingLeft:4,paddingRight:4},r.default.createElement(d.Text,{align:u.TextAlign.Center},f("QRHardwareSignRequestDescription"))),r.default.createElement(c.PageContainerFooter,{onCancel:i,onSubmit:p,cancelText:f("QRHardwareSignRequestCancel"),submitText:f("QRHardwareSignRequestGetSignature"),submitButtonType:"confirm"}))};m.propTypes={type:i.default.string.isRequired,cbor:i.default.string.isRequired,cancelQRHardwareSignRequest:i.default.func.isRequired,toRead:i.default.func.isRequired};var h=m;n.default=h}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-sign-request/player.js"}],[3687,{"../../../../store/actions":4471,"./player":3686,"./reader":3688,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=l(e("prop-types")),o=e("../../../../store/actions"),i=l(e("./player")),s=l(e("./reader"));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const c=({request:e,handleCancel:t,setErrorTitle:n})=>{const[a,l]=(0,r.useState)("play"),u=(0,r.useCallback)((()=>l("read")),[]);return"play"===a?(()=>{const{payload:n}=e;return r.default.createElement(i.default,{type:n.type,cbor:n.cbor,cancelQRHardwareSignRequest:t,toRead:u})})():r.default.createElement(s.default,{cancelQRHardwareSignRequest:t,submitQRHardwareSignature:o.submitQRHardwareSignature,requestId:e.requestId,setErrorTitle:n})};c.propTypes={request:a.default.object.isRequired,handleCancel:a.default.func.isRequired,setErrorTitle:a.default.func.isRequired};var d=c;n.default=d}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-sign-request/qr-hardware-sign-request.component.js"}],[3688,{"../../../../hooks/useI18nContext":4157,"../base-reader":3681,"@keystonehq/bc-ur-registry-eth":527,"prop-types":3019,react:3206,uuid:3351},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=c(e("react")),a=e("@keystonehq/bc-ur-registry-eth"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("uuid")),i=c(e("prop-types")),s=c(e("../base-reader")),l=e("../../../../hooks/useI18nContext");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}const d=({submitQRHardwareSignature:e,cancelQRHardwareSignRequest:t,requestId:n,setErrorTitle:i})=>{const u=(0,l.useI18nContext)();return r.default.createElement(s.default,{isReadingWallet:!1,handleCancel:()=>{t()},handleSuccess:async t=>{if("eth-signature"===t.type){const r=a.ETHSignature.fromCBOR(t.cbor).getRequestId(),s=o.stringify(r);if(s===n)return await e(s,t.cbor.toString("hex"));throw i(u("QRHardwareInvalidTransactionTitle")),new Error(u("QRHardwareMismatchedSignId"))}throw i(u("QRHardwareInvalidTransactionTitle")),new Error(u("unknownQrCode"))},setErrorTitle:i})};d.propTypes={submitQRHardwareSignature:i.default.func.isRequired,cancelQRHardwareSignRequest:i.default.func.isRequired,requestId:i.default.string.isRequired,setErrorTitle:i.default.func.isRequired};var p=d;n.default=p}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-sign-request/reader.js"}],[3689,{"./qr-hardware-wallet-importer.component":3690},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=((r=e("./qr-hardware-wallet-importer.component"))&&r.__esModule?r:{default:r}).default;n.default=a}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-wallet-importer/index.js"}],[3690,{"../../../../hooks/useI18nContext":4157,"../../../../store/actions":4471,"../base-reader":3681,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=l(e("react")),a=l(e("prop-types")),o=e("../../../../store/actions"),i=l(e("../base-reader")),s=e("../../../../hooks/useI18nContext");function l(e){return e&&e.__esModule?e:{default:e}}const u=({handleCancel:e,setErrorTitle:t})=>{const n=(0,s.useI18nContext)();return r.default.createElement(i.default,{isReadingWallet:!0,handleCancel:e,handleSuccess:async e=>{if("crypto-hdkey"===e.type)return await(0,o.submitQRHardwareCryptoHDKey)(e.cbor.toString("hex"));if("crypto-account"===e.type)return await(0,o.submitQRHardwareCryptoAccount)(e.cbor.toString("hex"));throw t(n("QRHardwareUnknownQRCodeTitle")),new Error(n("unknownQrCode"))},setErrorTitle:t})};u.propTypes={handleCancel:a.default.func.isRequired,setErrorTitle:a.default.func.isRequired};var c=u;n.default=c}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-wallet-importer/qr-hardware-wallet-importer.component.js"}],[3691,{"./recovery-phrase-reminder":3692},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./recovery-phrase-reminder"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/recovery-phrase-reminder/index.js"}],[3692,{"../../../helpers/constants/design-system":4096,"../../../helpers/constants/routes":4100,"../../../hooks/useI18nContext":4157,"../../component-library":3846,"../../ui/box":3927,"../../ui/button":3931,"../../ui/popover":4026,"prop-types":3019,react:3206,"react-router-dom":3179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var r=f(e("react")),a=f(e("prop-types")),o=e("react-router-dom"),i=e("../../../hooks/useI18nContext"),s=f(e("../../ui/box")),l=f(e("../../ui/button")),u=f(e("../../ui/popover")),c=e("../../../helpers/constants/design-system"),d=e("../../../helpers/constants/routes"),p=e("../../component-library");function f(e){return e&&e.__esModule?e:{default:e}}function m({onConfirm:e,hasBackedUp:t}){const n=(0,i.useI18nContext)(),a=(0,o.useHistory)();return r.default.createElement(u.default,{centerTitle:!0,title:n("recoveryPhraseReminderTitle")},r.default.createElement(s.default,{paddingRight:4,paddingBottom:6,paddingLeft:4,className:"recovery-phrase-reminder"},r.default.createElement(p.Text,{color:c.TextColor.textDefault,align:c.TextAlign.Center,variant:c.TextVariant.bodyMd,marginBottom:4},n("recoveryPhraseReminderSubText")),r.default.createElement(s.default,{marginTop:4,marginBottom:8},r.default.createElement("ul",{className:"recovery-phrase-reminder__list"},r.default.createElement(p.Text,{as:"li",color:c.TextColor.textDefault,fontWeight:c.FontWeight.Bold},n("recoveryPhraseReminderItemOne")),r.default.createElement(p.Text,{as:"li"},n("recoveryPhraseReminderItemTwo")),r.default.createElement(p.Text,{as:"li"},t?n("recoveryPhraseReminderHasBackedUp"):r.default.createElement(r.default.Fragment,null,n("recoveryPhraseReminderHasNotBackedUp"),r.default.createElement(s.default,{display:c.DISPLAY.INLINE_BLOCK,marginLeft:1},r.default.createElement(l.default,{type:"link",onClick:()=>{a.push(d.ONBOARDING_UNLOCK_ROUTE)},style:{fontSize:"inherit",padding:0}},n("recoveryPhraseReminderBackupStart"))))))),r.default.createElement(s.default,{justifyContent:c.JustifyContent.center},r.default.createElement(s.default,{width:c.BLOCK_SIZES.TWO_FIFTHS},r.default.createElement(l.default,{type:"primary",onClick:e},n("recoveryPhraseReminderConfirm"))))))}m.propTypes={hasBackedUp:a.default.bool.isRequired,onConfirm:a.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/recovery-phrase-reminder/recovery-phrase-reminder.js"}],[3693,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SECURITY_PROVIDER_MESSAGE_SEVERITIES=void 0;n.SECURITY_PROVIDER_MESSAGE_SEVERITIES={NOT_MALICIOUS:0,MALICIOUS:1,NOT_SAFE:2}}}},{package:"$root$",file:"ui/components/app/security-provider-banner-message/security-provider-banner-message.constants.js"}],[3694,{"../../../../.storybook/i18n":1,"../../../helpers/constants/design-system":4096,"../../component-library":3846,"./security-provider-banner-message.constants":3693,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),o=(r=e("prop-types"))&&r.__esModule?r:{default:r},i=e("../../../helpers/constants/design-system"),s=e("../../../../.storybook/i18n"),l=e("../../component-library"),u=e("./security-provider-banner-message.constants");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d({securityProviderResponse:e}){const t=(0,a.useContext)(s.I18nContext);let n,r,o;return e.flagAsDangerous===u.SECURITY_PROVIDER_MESSAGE_SEVERITIES.MALICIOUS?(n=""===e.reason_header?t("requestFlaggedAsMaliciousFallbackCopyReasonTitle"):e.reason_header,r=""===e.reason?t("requestFlaggedAsMaliciousFallbackCopyReason"):e.reason,o=i.SEVERITIES.DANGER):e.flagAsDangerous===u.SECURITY_PROVIDER_MESSAGE_SEVERITIES.NOT_SAFE?(n=t("requestMayNotBeSafe"),r=t("requestMayNotBeSafeError"),o=i.SEVERITIES.WARNING):(n=t("requestNotVerified"),r=t("requestNotVerifiedError"),o=i.SEVERITIES.WARNING),a.default.createElement(l.BannerAlert,{marginTop:4,marginRight:4,marginLeft:4,title:n,severity:o},a.default.createElement(l.Text,{variant:i.TextVariant.bodySm,as:"h6"},r),a.default.createElement(l.Text,{variant:i.TextVariant.bodySm,as:"h6",color:i.Color.textAlternative},t("securityAlert",[a.default.createElement(l.ButtonLink,{key:"opensea_link",size:i.Size.inherit,href:"https://opensea.io/",target:"_blank"},t("openSeaNew")),a.default.createElement(l.ButtonLink,{key:"blockaid_link",size:i.Size.inherit,href:"https://blockaid.io/",target:"_blank"},t("blockaid"))])))}d.propTypes={securityProviderResponse:o.default.object}}}},{package:"$root$",file:"ui/components/app/security-provider-banner-message/security-provider-banner-message.js"}],[3695,{"./selected-account.container":3697},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=((r=e("./selected-account.container"))&&r.__esModule?r:{default:r}).default;n.default=a}}},{package:"$root$",file:"ui/components/app/selected-account/index.js"}],[3696,{"../../../../shared/constants/time":3416,"../../../../shared/modules/hexstring-utils":3436,"../../../helpers/constants/design-system":4096,"../../../helpers/utils/util":4135,"../../component-library":3846,"../../ui/tooltip":4061,"copy-to-clipboard":1995,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=p(e("prop-types")),o=p(e("copy-to-clipboard")),i=e("../../../helpers/utils/util"),s=p(e("../../ui/tooltip")),l=e("../../../../shared/modules/hexstring-utils"),u=e("../../../../shared/constants/time"),c=e("../../component-library"),d=e("../../../helpers/constants/design-system");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends r.Component{constructor(...e){super(...e),m(this,"state",{copied:!1})}componentDidMount(){this.copyTimeout=null}componentWillUnmount(){this.copyTimeout&&(clearTimeout(this.copyTimeout),this.copyTimeout=null)}render(){const{t:e}=this.context,{selectedIdentity:t}=this.props,n=(0,l.toChecksumHexAddress)(t.address);let a=this.state.copied?e("copiedExclamation"):e("copyToClipboard");return r.default.createElement("div",{className:"selected-account"},r.default.createElement(s.default,{wrapperClassName:"selected-account__tooltip-wrapper",position:"bottom",title:a},r.default.createElement("button",{className:"selected-account__clickable","data-testid":"selected-account-click",onClick:()=>{this.setState({copied:!0}),this.copyTimeout=setTimeout((()=>this.setState({copied:!1})),3*u.SECOND),(0,o.default)(n)}},r.default.createElement("div",{className:"selected-account__name"},t.name),r.default.createElement("div",{className:"selected-account__address"},(0,i.shortenAddress)(n),r.default.createElement("div",{className:"selected-account__copy"},r.default.createElement(c.Icon,{name:this.state.copied?c.IconName.CopySuccess:c.IconName.Copy,size:c.IconSize.Sm,color:d.IconColor.iconAlternative}))))))}}m(h,"contextTypes",{t:a.default.func}),m(h,"propTypes",{selectedIdentity:a.default.object.isRequired});var g=h;n.default=g}}},{package:"$root$",file:"ui/components/app/selected-account/selected-account.component.js"}],[3697,{"../../../selectors":4464,"./selected-account.component":3696,"react-redux":3159},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=e("react-redux"),o=e("../../../selectors"),i=(r=e("./selected-account.component"))&&r.__esModule?r:{default:r};var s=(0,a.connect)((e=>({selectedIdentity:(0,o.getSelectedIdentity)(e)})))(i.default);n.default=s}}},{package:"$root$",file:"ui/components/app/selected-account/selected-account.container.js"}],[3698,{"./set-approval-for-all-warning":3699},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./set-approval-for-all-warning"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/set-approval-for-all-warning/index.js"}],[3699,{"../../../helpers/constants/design-system":4096,"../../../helpers/utils/util":4135,"../../../hooks/useI18nContext":4157,"../../component-library":3846,"../../ui/box":3927,"../../ui/identicon":3989,"../../ui/popover":4026,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=p(e("react")),a=p(e("prop-types")),o=e("../../../hooks/useI18nContext"),i=p(e("../../ui/popover")),s=p(e("../../ui/box")),l=e("../../../helpers/constants/design-system"),u=p(e("../../ui/identicon")),c=e("../../../helpers/utils/util"),d=e("../../component-library");function p(e){return e&&e.__esModule?e:{default:e}}const f=({collectionName:e,senderAddress:t,name:n,total:a,isERC721:p,onSubmit:f,onCancel:m})=>{const h=(0,o.useI18nContext)(),g=r.default.createElement(s.default,{display:l.DISPLAY.FLEX,flexDirection:l.FLEX_DIRECTION.COLUMN,justifyContent:l.JustifyContent.SPACE_BETWEEN,className:"set-approval-for-all-warning__footer",gap:4},r.default.createElement(d.Button,{className:"set-approval-for-all-warning__footer__approve-button",variant:d.BUTTON_VARIANT.PRIMARY,danger:!0,onClick:f},h("approveButtonText")),r.default.createElement(d.Button,{className:"set-approval-for-all-warning__footer__cancel-button",variant:d.BUTTON_VARIANT.SECONDARY,onClick:m},h("reject")));return r.default.createElement(i.default,{className:"set-approval-for-all-warning__content",footer:g},r.default.createElement(s.default,{display:l.DISPLAY.FLEX,flexDirection:l.FLEX_DIRECTION.ROW,padding:4,className:"set-approval-for-all-warning__content__header"},r.default.createElement(d.Icon,{name:d.IconName.Danger,className:"set-approval-for-all-warning__content__header__warning-icon"}),r.default.createElement(d.Text,{variant:l.TextVariant.headingSm,as:"h4"},h("yourNFTmayBeAtRisk"))),r.default.createElement(s.default,{display:l.DISPLAY.FLEX,padding:4,justifyContent:l.JustifyContent.spaceBetween,className:"set-approval-for-all-warning__content__account"},r.default.createElement(s.default,{display:l.DISPLAY.FLEX},r.default.createElement(u.default,{address:t,diameter:32}),r.default.createElement(d.Text,{variant:l.TextVariant.bodyMd,as:"h5",marginLeft:2,className:"set-approval-for-all-warning__content__account-name"},r.default.createElement("strong",null,n)," ",` (${(0,c.shortenAddress)(t)})`)),p&&a&&r.default.createElement(d.Text,null,`${h("total")}: ${a}`)),r.default.createElement(d.Text,{margin:4,marginTop:4,marginBottom:4,variant:l.TextVariant.bodySm,as:"h6"},h("nftWarningContent",[r.default.createElement("strong",{key:"non_custodial_bold"},h("nftWarningContentBold",[e||""])),r.default.createElement("strong",{key:"non_custodial_grey"},h("nftWarningContentGrey"))])))};f.propTypes={collectionName:a.default.string,senderAddress:a.default.string,name:a.default.string,total:a.default.string,isERC721:a.default.bool,onSubmit:a.default.func,onCancel:a.default.func};var m=f;n.default=m}}},{package:"$root$",file:"ui/components/app/set-approval-for-all-warning/set-approval-for-all-warning.js"}],[3700,{"./signature-request-original.container":3704},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./signature-request-original.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/signature-request-original/index.js"}],[3701,{"./signature-request-original-warning":3702},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./signature-request-original-warning"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/signature-request-original/signature-request-original-warning/index.js"}],[3702,{"../../../../helpers/constants/design-system":4096,"../../../../helpers/utils/util":4135,"../../../../hooks/useI18nContext":4157,"../../../component-library":3846,"../../../ui/box":3927,"../../../ui/button":3931,"../../../ui/identicon":3989,"../../../ui/popover":4026,"../../../ui/typography":4065,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=m(e("react")),a=m(e("prop-types")),o=e("../../../../hooks/useI18nContext"),i=m(e("../../../ui/popover")),s=m(e("../../../ui/box")),l=m(e("../../../ui/button")),u=m(e("../../../ui/typography")),c=e("../../../../helpers/constants/design-system"),d=m(e("../../../ui/identicon")),p=e("../../../../helpers/utils/util"),f=e("../../../component-library");function m(e){return e&&e.__esModule?e:{default:e}}const h=({senderAddress:e,name:t,onSubmit:n,onCancel:a})=>{const m=(0,o.useI18nContext)();return r.default.createElement(i.default,{className:"signature-request-warning__content"},r.default.createElement(s.default,{display:c.DISPLAY.FLEX,flexDirection:c.FLEX_DIRECTION.ROW,padding:4,className:"signature-request-warning__content__header"},r.default.createElement(f.Icon,{name:f.IconName.Danger,color:c.IconColor.errorDefault,className:"signature-request-warning__content__header__warning-icon"}),r.default.createElement(u.default,{variant:c.TypographyVariant.H4,fontWeight:c.FONT_WEIGHT.BOLD},m("yourFundsMayBeAtRisk"))),r.default.createElement(s.default,{display:c.DISPLAY.FLEX,padding:4,justifyContent:c.JustifyContent.spaceBetween,className:"signature-request-warning__content__account"},r.default.createElement(s.default,{display:c.DISPLAY.FLEX},r.default.createElement(d.default,{address:e,diameter:32}),r.default.createElement(u.default,{variant:c.TypographyVariant.H5,marginLeft:2,className:"signature-request-warning__content__account-name"},r.default.createElement("b",null,t)," ",` (${(0,p.shortenAddress)(e)})`))),r.default.createElement(u.default,{color:c.TextColor.textAlternative,margin:4,marginTop:4,marginBottom:4,variant:c.TypographyVariant.H6},m("signatureRequestWarning",[r.default.createElement("a",{href:"https://consensys.net/blog/metamask/the-seal-of-approval-know-what-youre-consenting-to-with-permissions-and-approvals-in-metamask/",target:"_blank",type:"link",key:"non_custodial_link",rel:"noopener noreferrer",style:{color:"var(--color-primary-default)"}},m("learnMoreUpperCase"))])),r.default.createElement(s.default,{display:c.DISPLAY.FLEX,flexDirection:c.FLEX_DIRECTION.COLUMN,justifyContent:c.JustifyContent.spaceBetween,padding:4,className:"signature-request-warning__footer"},r.default.createElement(l.default,{className:"signature-request-warning__footer__sign-button",type:"danger-primary",onClick:n},m("sign")),r.default.createElement(l.default,{className:"signature-request-warning__footer__reject-button",type:"secondary",onClick:a},m("reject"))))};h.propTypes={senderAddress:a.default.string,name:a.default.string,onSubmit:a.default.func,onCancel:a.default.func};var g=h;n.default=g}}},{package:"$root$",file:"ui/components/app/signature-request-original/signature-request-original-warning/signature-request-original-warning.js"}],[3703,{"../../../../shared/constants/app":3401,"../../../../shared/constants/common":3403,"../../../../shared/modules/Numeric":3428,"../../../../shared/modules/conversion.utils":3432,"../../../../shared/modules/hexstring-utils":3436,"../../../helpers/constants/design-system":4096,"../../../helpers/utils/confirm-tx.util":4116,"../../../helpers/utils/util":4135,"../../ui/button":3931,"../../ui/page-container":4019,"../../ui/site-origin":4042,"../../ui/typography/typography":4066,"../confirm-page-container/confirm-page-container-navigation":3516,"../ledger-instruction-field":3584,"../network-account-balance-header":3656,"../security-provider-banner-message/security-provider-banner-message":3694,"../security-provider-banner-message/security-provider-banner-message.constants":3693,"./signature-request-original-warning":3701,buffer:1904,classnames:1943,"prop-types":3019,react:3206,"react-inspector":3114},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=x(e("prop-types")),o=x(e("classnames")),i=e("react-inspector"),s=x(e("../ledger-instruction-field")),l=e("../../../../shared/constants/app"),u=e("../../../helpers/utils/util"),c=e("../../../../shared/modules/hexstring-utils"),d=x(e("../../ui/button")),p=x(e("../../ui/site-origin")),f=x(e("../network-account-balance-header")),m=x(e("../../ui/typography/typography")),h=e("../../ui/page-container"),g=e("../../../helpers/constants/design-system"),y=e("../../../../shared/modules/Numeric"),v=e("../../../../shared/constants/common"),b=x(e("../confirm-page-container/confirm-page-container-navigation")),_=x(e("../security-provider-banner-message/security-provider-banner-message")),E=e("../security-provider-banner-message/security-provider-banner-message.constants"),T=e("../../../helpers/utils/confirm-tx.util"),w=e("../../../../shared/modules/conversion.utils"),k=x(e("./signature-request-original-warning"));function x(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function O(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class C extends r.Component{constructor(...e){super(...e),O(this,"state",{showSignatureRequestWarning:!1}),O(this,"msgHexToText",(e=>{try{const n=(0,c.stripHexPrefix)(e),r=t.from(n,"hex");return 32===r.length?e:r.toString("utf8")}catch(t){return e}})),O(this,"renderTypedData",(e=>{const{t:t}=this.context,{domain:n,message:a}=JSON.parse(e);return r.default.createElement("div",{className:"request-signature__typed-container"},n?r.default.createElement("div",null,r.default.createElement("h1",null,t("domain")),r.default.createElement(i.ObjectInspector,{data:n,expandLevel:1,name:"domain"})):"",a?r.default.createElement("div",null,r.default.createElement("h1",null,t("message")),r.default.createElement(i.ObjectInspector,{data:a,expandLevel:1,name:"message"})):"")})),O(this,"renderBody",(()=>{var e,t;let n;const a=`${this.context.t("youSign")}:`,{txData:i,subjectMetadata:s}=this.props,{type:c,msgParams:{data:d}}=i;c===l.MESSAGE_TYPE.PERSONAL_SIGN?n=[{name:this.context.t("message"),value:this.msgHexToText(d)}]:c===l.MESSAGE_TYPE.ETH_SIGN_TYPED_DATA?n=d:c===l.MESSAGE_TYPE.ETH_SIGN&&(n=[{name:this.context.t("message"),value:d}]);const f=i.msgParams.origin?null==s?void 0:s[i.msgParams.origin]:null;return r.default.createElement("div",{className:"request-signature__body"},(null==i||null===(e=i.securityProviderResponse)||void 0===e?void 0:e.flagAsDangerous)!==undefined&&(null==i||null===(t=i.securityProviderResponse)||void 0===t?void 0:t.flagAsDangerous)!==E.SECURITY_PROVIDER_MESSAGE_SEVERITIES.NOT_MALICIOUS||null!=i&&i.securityProviderResponse&&0===Object.keys(i.securityProviderResponse).length?r.default.createElement(_.default,{securityProviderResponse:i.securityProviderResponse}):null,r.default.createElement("div",{className:"request-signature__origin"},r.default.createElement(p.default,{title:i.msgParams.origin,siteOrigin:i.msgParams.origin,iconSrc:null==f?void 0:f.iconUrl,iconName:(0,u.getURLHostName)(null==f?void 0:f.origin)||(null==f?void 0:f.origin),chip:!0})),r.default.createElement(m.default,{className:"request-signature__content__title",variant:g.TypographyVariant.H3,fontWeight:g.FontWeight.Bold},this.context.t("sigRequest")),r.default.createElement(m.default,{className:"request-signature__content__subtitle",variant:g.TypographyVariant.H7,color:g.TextColor.textAlternative,align:g.TextAlign.Center,margin:12,marginTop:3},this.context.t("signatureRequestGuidance")),r.default.createElement("div",{className:(0,o.default)("request-signature__notice")},a),r.default.createElement("div",{className:"request-signature__rows"},n.map((({name:e,value:t},n)=>("boolean"==typeof t&&(t=t.toString()),r.default.createElement("div",{className:"request-signature__row",key:`request-signature-row-${n}`},r.default.createElement("div",{className:"request-signature__row-title"},(0,u.sanitizeString)(`${e}:`)),r.default.createElement("div",{className:"request-signature__row-value"},(0,u.sanitizeString)(t))))))))})),O(this,"onSubmit",(async e=>{const{clearConfirmTransaction:t,history:n,mostRecentOverviewPage:r,sign:a}=this.props;await a(e),t(),n.push(r)})),O(this,"onCancel",(async e=>{const{clearConfirmTransaction:t,history:n,mostRecentOverviewPage:r,cancel:a}=this.props;await a(e),t(),n.push(r)})),O(this,"renderFooter",(()=>{const{cancel:e,sign:t,clearConfirmTransaction:n,history:a,mostRecentOverviewPage:o,txData:{type:i},hardwareWalletRequiresConnection:s}=this.props,{t:u}=this.context;return r.default.createElement(h.PageContainerFooter,{cancelText:u("reject"),submitText:u("sign"),onCancel:async t=>{await e(t),n(),a.push(o)},onSubmit:async e=>{i===l.MESSAGE_TYPE.ETH_SIGN?this.setState({showSignatureRequestWarning:!0}):(await t(e),n(),a.push(o))},disabled:s})})),O(this,"handleCancelAll",(()=>{const{cancelAll:e,clearConfirmTransaction:t,history:n,mostRecentOverviewPage:r,showRejectTransactionsConfirmationModal:a,messagesCount:o}=this.props;a({unapprovedTxCount:o,onSubmit:async()=>{await e(),t(),n.push(r)}})})),O(this,"render",(()=>{const{providerConfig:e,messagesCount:t,nativeCurrency:n,currentCurrency:a,fromAccount:{address:o,balance:i,name:l},conversionRate:c}=this.props,{showSignatureRequestWarning:p}=this.state,{t:m}=this.context,h=m("rejectRequestsN",[t]),g=(0,u.getNetworkNameFromProviderType)(e.type),_=""===g?e.nickname||m("unknownNetwork"):m(g),E=c?(0,T.formatCurrency)((0,w.getValueFromWeiHex)({value:i,fromCurrency:n,toCurrency:a,conversionRate:c,numberOfDecimals:6,toDenomination:v.EtherDenomination.ETH}),a):new y.Numeric(i,16,v.EtherDenomination.WEI).toDenomination(v.EtherDenomination.ETH).round(6).toBase(10).toString();return r.default.createElement("div",{className:"request-signature__container"},r.default.createElement("div",{className:"request-signature__navigation"},r.default.createElement(b.default,null)),r.default.createElement("div",{className:"request-signature__account"},r.default.createElement(f.default,{networkName:_,accountName:l,accountBalance:E,tokenName:c?null==a?void 0:a.toUpperCase():n,accountAddress:o})),this.renderBody(),this.props.isLedgerWallet?r.default.createElement("div",{className:"confirm-approve-content__ledger-instruction-wrapper"},r.default.createElement(s.default,{showDataInstruction:!0})):null,p&&r.default.createElement(k.default,{senderAddress:o,name:l,onSubmit:async e=>await this.onSubmit(e),onCancel:async e=>await this.onCancel(e)}),this.renderFooter(),t>1?r.default.createElement(d.default,{type:"link",className:"request-signature__container__reject",onClick:()=>this.handleCancelAll()},h):null)}))}}n.default=C,O(C,"contextTypes",{t:a.default.func.isRequired}),O(C,"propTypes",{fromAccount:a.default.shape({address:a.default.string.isRequired,balance:a.default.string,name:a.default.string}).isRequired,cancel:a.default.func.isRequired,clearConfirmTransaction:a.default.func.isRequired,history:a.default.object.isRequired,mostRecentOverviewPage:a.default.string.isRequired,sign:a.default.func.isRequired,txData:a.default.object.isRequired,subjectMetadata:a.default.object,hardwareWalletRequiresConnection:a.default.bool,isLedgerWallet:a.default.bool,nativeCurrency:a.default.string.isRequired,currentCurrency:a.default.string.isRequired,conversionRate:a.default.number,messagesCount:a.default.number,showRejectTransactionsConfirmationModal:a.default.func.isRequired,cancelAll:a.default.func.isRequired,providerConfig:a.default.object})}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"ui/components/app/signature-request-original/signature-request-original.component.js"}],[3704,{"../../../../shared/constants/app":3401,"../../../ducks/confirm-transaction/confirm-transaction.duck":4081,"../../../ducks/history/history":4085,"../../../ducks/metamask/metamask":4088,"../../../helpers/utils/util":4135,"../../../selectors":4464,"../../../store/actions":4471,"./signature-request-original.component":3703,"react-redux":3159,"react-router-dom":3179,redux:3223},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=e("react-redux"),o=e("redux"),i=e("react-router-dom"),s=e("../../../../shared/constants/app"),l=e("../../../store/actions"),u=e("../../../selectors"),c=e("../../../helpers/utils/util"),d=e("../../../ducks/confirm-transaction/confirm-transaction.duck"),p=e("../../../ducks/history/history"),f=e("../../../ducks/metamask/metamask"),m=(r=e("./signature-request-original.component"))&&r.__esModule?r:{default:r};var h=(0,o.compose)(i.withRouter,(0,a.connect)((function(e,t){const{msgParams:{from:n}}=t.txData,r=(0,f.getProviderConfig)(e),a=(0,u.doesAddressRequireLedgerHidConnection)(e,n),o=(0,f.isAddressLedger)(e,n),i=(0,u.unconfirmedMessagesHashSelector)(e),s=(0,u.getTotalUnapprovedMessagesCount)(e),{useNativeCurrencyAsPrimaryCurrency:l}=(0,u.getPreferences)(e);return{requester:null,requesterAddress:null,mostRecentOverviewPage:(0,p.getMostRecentOverviewPage)(e),hardwareWalletRequiresConnection:a,isLedgerWallet:o,nativeCurrency:(0,f.getNativeCurrency)(e),currentCurrency:(0,u.getCurrentCurrency)(e),conversionRate:l?null:(0,u.conversionRateSelector)(e),allAccounts:(0,u.accountsWithSendEtherInfoSelector)(e),subjectMetadata:(0,u.getSubjectMetadata)(e),messagesList:i,messagesCount:s,providerConfig:r}}),(function(e){return{goHome:()=>e((0,l.goHome)()),clearConfirmTransaction:()=>e((0,d.clearConfirmTransaction)()),showRejectTransactionsConfirmationModal:({onSubmit:t,unapprovedTxCount:n})=>e((0,l.showModal)({name:"REJECT_TRANSACTIONS",onSubmit:t,unapprovedTxCount:n,isRequestType:!0})),cancelAll:t=>e((0,l.cancelMsgs)(t))}}),(function(e,t,n){const{signPersonalMessage:r,signTypedMessage:a,cancelPersonalMessage:o,cancelTypedMessage:i,signMessage:l,cancelMessage:u,txData:d}=n,{allAccounts:p,messagesList:f,...m}=e,{type:h,msgParams:{from:g}}=d,y=(0,c.getAccountByAddress)(p,g),{cancelAll:v}=t;let b,_;return h===s.MESSAGE_TYPE.PERSONAL_SIGN?(b=o,_=r):h===s.MESSAGE_TYPE.ETH_SIGN_TYPED_DATA?(b=i,_=a):h===s.MESSAGE_TYPE.ETH_SIGN&&(b=u,_=l),{...n,...m,...t,fromAccount:y,txData:d,cancel:b,sign:_,cancelAll:()=>v((0,c.valuesFor)(f))}})))(m.default);n.default=h}}},{package:"$root$",file:"ui/components/app/signature-request-original/signature-request-original.container.js"}],[3705,{"./signature-request-siwe":3712},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./signature-request-siwe"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/signature-request-siwe/index.js"}],[3706,{"./signature-request-siwe-header":3707},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./signature-request-siwe-header"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/signature-request-siwe/signature-request-siwe-header/index.js"}],[3707,{"../../../../contexts/i18n":4073,"../../../ui/tooltip":4061,"../../account-list-item":3448,"../../permissions-connect-header":3677,"../signature-request-siwe-icon":3708,"../signature-request-siwe-tag":3711,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=d(e("prop-types")),o=d(e("../../account-list-item")),i=e("../../../../contexts/i18n"),s=d(e("../../permissions-connect-header")),l=d(e("../signature-request-siwe-icon")),u=d(e("../signature-request-siwe-tag")),c=d(e("../../../ui/tooltip"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f({fromAccount:e,domain:t,isSIWEDomainValid:n,subjectMetadata:a}){const d=(0,r.useContext)(i.I18nContext);return r.default.createElement("div",{className:"signature-request-siwe-header"},r.default.createElement(s.default,{iconUrl:a.iconUrl,iconName:a.name,headerTitle:d("SIWESiteRequestTitle"),headerText:d("SIWESiteRequestSubtitle"),siteOrigin:t,className:n?"":"bad-domain",leftIcon:!n&&r.default.createElement(c.default,{position:"bottom",html:r.default.createElement("p",null,d("SIWEDomainWarningBody",[t]))},r.default.createElement(l.default,null)),rightIcon:!n&&r.default.createElement(c.default,{position:"bottom",html:r.default.createElement("p",null,d("SIWEDomainWarningBody",[t]))},r.default.createElement(u.default,{text:d("SIWEDomainWarningLabel")}))}),e&&r.default.createElement(o.default,{account:e,className:"signature-request-siwe-header__account-list-item"}))}f.propTypes={fromAccount:a.default.object,domain:a.default.string,isSIWEDomainValid:a.default.bool,subjectMetadata:a.default.object}}}},{package:"$root$",file:"ui/components/app/signature-request-siwe/signature-request-siwe-header/signature-request-siwe-header.js"}],[3708,{"../../../../helpers/constants/design-system":4096,"../../../component-library":3846,"../../../ui/box":3927,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=s(e("react")),a=e("../../../../helpers/constants/design-system"),o=s(e("../../../ui/box")),i=e("../../../component-library");function s(e){return e&&e.__esModule?e:{default:e}}var l=()=>r.default.createElement(o.default,{className:"signature-request-siwe-icon",display:a.DISPLAY.INLINE_FLEX,alignItems:a.AlignItems.center,backgroundColor:a.Color.errorDefault,justifyContent:a.JustifyContent.center},r.default.createElement(i.Icon,{name:i.IconName.Danger,color:a.Color.errorInverse}));n.default=l}}},{package:"$root$",file:"ui/components/app/signature-request-siwe/signature-request-siwe-icon/index.js"}],[3709,{"./signature-request-siwe-message":3710},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./signature-request-siwe-message"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/signature-request-siwe/signature-request-siwe-message/index.js"}],[3710,{"../../../../helpers/constants/design-system":4096,"../../../component-library":3846,"../../../ui/box":3927,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=l(e("react")),a=l(e("prop-types")),o=l(e("../../../ui/box")),i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system");function l(e){return e&&e.__esModule?e:{default:e}}const u=({data:e})=>r.default.createElement(o.default,{className:"signature-request-siwe-message"},r.default.createElement(o.default,{flexDirection:s.FLEX_DIRECTION.COLUMN},e.map((({label:e,value:t},n)=>r.default.createElement(o.default,{key:n.toString(),marginTop:2,marginBottom:2},r.default.createElement(i.Text,{as:"h4",variant:s.TextVariant.bodyLgMedium,marginTop:2,marginBottom:2},e),r.default.createElement(i.Text,{className:"signature-request-siwe-message__sub-text",overflowWrap:s.OVERFLOW_WRAP.BREAK_WORD,marginTop:2,marginBottom:2},t))))));u.propTypes={data:a.default.arrayOf(a.default.shape({label:a.default.string,value:a.default.oneOfType([a.default.string,a.default.number])}))};var c=r.default.memo(u);n.default=c}}},{package:"$root$",file:"ui/components/app/signature-request-siwe/signature-request-siwe-message/signature-request-siwe-message.js"}],[3711,{"../../../../helpers/constants/design-system":4096,"../../../component-library":3846,"../../../ui/box":3927,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=l(e("react")),a=l(e("prop-types")),o=e("../../../../helpers/constants/design-system"),i=l(e("../../../ui/box")),s=e("../../../component-library");function l(e){return e&&e.__esModule?e:{default:e}}const u=({text:e})=>r.default.createElement(i.default,{className:"signature-request-siwe-tag",marginRight:1,display:o.DISPLAY.INLINE_FLEX,alignItems:o.AlignItems.center,backgroundColor:o.BackgroundColor.errorDefault,borderRadius:o.Size.XL,paddingLeft:4,paddingRight:4},r.default.createElement(s.Text,{margin:0,variant:o.TextVariant.bodySmBold,as:"h6",color:o.TextColor.errorInverse},e));var c=u;n.default=c,u.propTypes={text:a.default.string}}}},{package:"$root$",file:"ui/components/app/signature-request-siwe/signature-request-siwe-tag/index.js"}],[3712,{"../../../../shared/modules/siwe":3442,"../../../contexts/i18n":4073,"../../../ducks/metamask/metamask":4088,"../../../helpers/constants/design-system":4096,"../../../helpers/utils/util":4135,"../../../selectors":4464,"../../component-library":3846,"../../ui/check-box":3937,"../../ui/page-container":4019,"../../ui/popover":4026,"../ledger-instruction-field":3584,"../security-provider-banner-message/security-provider-banner-message":3694,"../security-provider-banner-message/security-provider-banner-message.constants":3693,"./signature-request-siwe-header":3706,"./signature-request-siwe-message":3709,"@metamask/controller-utils":1053,loglevel:2930,"prop-types":3019,react:3206,"react-redux":3159},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=x;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=w(e("prop-types")),o=e("react-redux"),i=w(e("loglevel")),s=e("@metamask/controller-utils"),l=e("../../component-library"),u=w(e("../../ui/popover")),c=w(e("../../ui/check-box")),d=e("../../../contexts/i18n"),p=e("../../ui/page-container"),f=e("../../../ducks/metamask/metamask"),m=e("../../../selectors"),h=e("../../../helpers/utils/util"),g=e("../../../../shared/modules/siwe"),y=e("../../../helpers/constants/design-system"),v=w(e("../security-provider-banner-message/security-provider-banner-message")),b=e("../security-provider-banner-message/security-provider-banner-message.constants"),_=w(e("../ledger-instruction-field")),E=w(e("./signature-request-siwe-header")),T=w(e("./signature-request-siwe-message"));function w(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function x({txData:e,cancelPersonalMessage:t,signPersonalMessage:n}){var a,w;const k=(0,o.useSelector)(m.accountsWithSendEtherInfoSelector),x=(0,o.useSelector)(m.getSubjectMetadata),{msgParams:{from:P,origin:O,siwe:{parsedMessage:C}}}=e,M=(0,o.useSelector)((e=>(0,f.isAddressLedger)(e,P))),S=(0,h.getAccountByAddress)(k,P),N=x[O],j=(0,r.useContext)(d.I18nContext),I=P.toLowerCase()===C.address.toLowerCase(),R=(0,s.isValidSIWEOrigin)(e.msgParams),[D,L]=(0,r.useState)(!1),[A,W]=(0,r.useState)(!1),q=(null==e||null===(a=e.securityProviderResponse)||void 0===a?void 0:a.flagAsDangerous)!==undefined&&(null==e||null===(w=e.securityProviderResponse)||void 0===w?void 0:w.flagAsDangerous)!==b.SECURITY_PROVIDER_MESSAGE_SEVERITIES.NOT_MALICIOUS||(null==e?void 0:e.securityProviderResponse)&&0===Object.keys(e.securityProviderResponse).length,F=(0,r.useCallback)((async e=>{try{await n(e)}catch(e){i.default.error(e)}}),[n]),$=(0,r.useCallback)((async e=>{try{await t(e)}catch(e){i.default.error(e)}}),[t]);return r.default.createElement("div",{className:"signature-request-siwe"},r.default.createElement(E.default,{fromAccount:S,domain:O,isSIWEDomainValid:R,subjectMetadata:N}),q&&r.default.createElement(v.default,{securityProviderResponse:e.securityProviderResponse}),r.default.createElement(T.default,{data:(0,g.formatMessageParams)(C,j)}),!I&&r.default.createElement(l.BannerAlert,{severity:y.SEVERITIES.WARNING,marginLeft:4,marginRight:4,marginBottom:4},j("SIWEAddressInvalid",[C.address,S.address])),M&&r.default.createElement("div",{className:"confirm-approve-content__ledger-instruction-wrapper"},r.default.createElement(_.default,{showDataInstruction:!0})),!R&&r.default.createElement(l.BannerAlert,{severity:y.SEVERITIES.DANGER,marginLeft:4,marginRight:4,marginBottom:4},r.default.createElement(l.Text,{variant:y.TextVariant.bodyMdBold},j("SIWEDomainInvalidTitle"))," ",r.default.createElement(l.Text,null,j("SIWEDomainInvalidText"))),r.default.createElement(p.PageContainerFooter,{footerClassName:"signature-request-siwe__page-container-footer",onCancel:$,onSubmit:R?F:()=>L(!0),cancelText:j("cancel"),submitText:j("signin"),submitButtonType:R?"primary":"danger-primary"}),D&&r.default.createElement(u.default,{onClose:()=>L(!1),title:j("SIWEWarningTitle"),subtitle:j("SIWEWarningSubtitle"),className:"signature-request-siwe__warning-popover",footerClassName:"signature-request-siwe__warning-popover__footer",footer:r.default.createElement(p.PageContainerFooter,{footerClassName:"signature-request-siwe__warning-popover__footer__warning-footer",onCancel:()=>L(!1),cancelText:j("cancel"),cancelButtonType:"default",onSubmit:F,submitText:j("confirm"),submitButtonType:"danger-primary",disabled:!A})},r.default.createElement("div",{className:"signature-request-siwe__warning-popover__checkbox-wrapper"},r.default.createElement(c.default,{id:"signature-request-siwe_domain-checkbox",checked:A,className:"signature-request-siwe__warning-popover__checkbox-wrapper__checkbox",onClick:()=>W((e=>!e))}),r.default.createElement("label",{className:"signature-request-siwe__warning-popover__checkbox-wrapper__label",htmlFor:"signature-request-siwe_domain-checkbox"},j("SIWEDomainWarningBody",[C.domain])))))}x.propTypes={txData:a.default.object.isRequired,cancelPersonalMessage:a.default.func.isRequired,signPersonalMessage:a.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/signature-request-siwe/signature-request-siwe.js"}],[3713,{"./signature-request.container":3721},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./signature-request.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/signature-request/index.js"}],[3714,{"./signature-request-data":3715},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./signature-request-data"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/signature-request/signature-request-data/index.js"}],[3715,{"../../../../../shared/modules/hexstring-utils":3436,"../../../../helpers/constants/design-system":4096,"../../../../helpers/utils/util":4135,"../../../../selectors":4464,"../../../ui/box":3927,"../../../ui/typography":4065,"../../transaction-decoding/components/decoding/address":3752,lodash:2918,"prop-types":3019,react:3206,"react-redux":3159},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=e("react-redux"),o=e("lodash"),i=m(e("prop-types")),s=e("../../../../selectors"),l=m(e("../../transaction-decoding/components/decoding/address")),u=e("../../../../../shared/modules/hexstring-utils"),c=m(e("../../../ui/box")),d=m(e("../../../ui/typography")),p=e("../../../../helpers/constants/design-system"),f=e("../../../../helpers/utils/util");function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g({data:e}){const t=(0,a.useSelector)(s.getMemoizedMetaMaskIdentities);return r.default.createElement(c.default,{className:"signature-request-data__node"},Object.entries(e).map((([e,{value:n,type:a}],o)=>r.default.createElement(c.default,{className:"signature-request-data__node",key:`${e}-${o}`,paddingLeft:2,display:"object"!=typeof n||null===n?p.DISPLAY.FLEX:null},r.default.createElement(d.default,{as:"span",color:p.TextColor.textDefault,marginLeft:4,fontWeight:"object"==typeof n?p.FONT_WEIGHT.BOLD:p.FONT_WEIGHT.NORMAL},(0,f.sanitizeString)(e.charAt(0).toUpperCase()+e.slice(1)),":"," "),"object"==typeof n&&null!==n?r.default.createElement(g,{data:n}):r.default.createElement(d.default,{as:"span",color:p.TextColor.textDefault,marginLeft:4,className:"signature-request-data__node__value"},"address"===a&&(0,u.isValidHexAddress)(n,{mixedCaseUseChecksum:!0})?r.default.createElement(d.default,{variant:p.TypographyVariant.H7,color:p.TextColor.infoDefault,className:"signature-request-data__node__value__address"},r.default.createElement(l.default,{addressOnly:!0,checksummedRecipientAddress:(0,u.toChecksumHexAddress)(n),recipientName:(0,s.getAccountName)(t,n)})):(0,f.sanitizeString)(`${n}`))))))}g.propTypes={data:i.default.oneOfType([i.default.object,i.default.array]).isRequired};var y=(0,r.memo)(g,((e,t)=>(0,o.isEqual)(e.data,t.data)));n.default=y}}},{package:"$root$",file:"ui/components/app/signature-request/signature-request-data/signature-request-data.js"}],[3716,{"./signature-request-footer.component":3717},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./signature-request-footer.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/signature-request/signature-request-footer/index.js"}],[3717,{"../../../ui/page-container":4019,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),o=(r=e("prop-types"))&&r.__esModule?r:{default:r},i=e("../../../ui/page-container");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends a.PureComponent{render(){const{cancelAction:e,signAction:t,disabled:n=!1}=this.props;return a.default.createElement(i.PageContainerFooter,{cancelText:this.context.t("reject"),submitText:this.context.t("sign"),onCancel:e,onSubmit:t,disabled:n})}}n.default=u,l(u,"propTypes",{cancelAction:o.default.func.isRequired,signAction:o.default.func.isRequired,disabled:o.default.bool}),l(u,"contextTypes",{t:o.default.func})}}},{package:"$root$",file:"ui/components/app/signature-request/signature-request-footer/signature-request-footer.component.js"}],[3718,{"./signature-request-message":3719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./signature-request-message"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/signature-request/signature-request-message/index.js"}],[3719,{"../../../../contexts/i18n":4073,"../../../../helpers/constants/design-system":4096,"../../../ui/box":3927,"../../../ui/typography":4065,"../signature-request-data":3714,lodash:2918,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=d(e("prop-types")),o=e("lodash"),i=e("../../../../contexts/i18n"),s=d(e("../../../ui/box")),l=d(e("../../../ui/typography")),u=e("../../../../helpers/constants/design-system"),c=d(e("../signature-request-data"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f({data:e,onMessageScrolled:t,setMessageRootRef:n,messageRootRef:a,messageIsScrollable:d,primaryType:p}){const f=(0,r.useContext)(i.I18nContext),[m,h]=(0,r.useState)(!1);return r.default.createElement(s.default,{display:u.DISPLAY.FLEX,flexDirection:u.FLEX_DIRECTION.COLUMN,onScroll:(0,o.debounce)((()=>{if(!a||m)return;const{scrollTop:e,offsetHeight:n,scrollHeight:r}=a;Math.round(e)+n>=r&&(h(!0),t())}),25),className:"signature-request-message"},d?r.default.createElement(s.default,{display:u.DISPLAY.FLEX,alignItems:u.AlignItems.center,justifyContent:u.JustifyContent.center,borderColor:u.BorderColor.borderDefault,backgroundColor:u.BackgroundColor.backgroundDefault,color:u.Color.iconDefault,onClick:()=>{h(!0),t(),null==a||a.scrollTo(0,null==a?void 0:a.scrollHeight)},className:"signature-request-message__scroll-button","data-testid":"signature-request-scroll-button"},r.default.createElement("i",{className:"fa fa-arrow-down","aria-label":f("scrollDown")})):null,r.default.createElement(s.default,{backgroundColor:u.BackgroundColor.backgroundDefault,paddingBottom:3,paddingTop:3,paddingRight:3,margin:2,borderRadius:u.BorderRadius.XL,borderColor:u.BorderColor.borderMuted,className:"signature-request-message__root",ref:n},r.default.createElement(l.default,{fontWeight:u.FONT_WEIGHT.BOLD,color:u.TextColor.textDefault,marginLeft:4,className:"signature-request-message__title"},p),r.default.createElement(c.default,{data:e.value})))}f.propTypes={data:a.default.object.isRequired,onMessageScrolled:a.default.func,setMessageRootRef:a.default.func,messageRootRef:a.default.object,messageIsScrollable:a.default.bool,primaryType:a.default.string}}}},{package:"$root$",file:"ui/components/app/signature-request/signature-request-message/signature-request-message.js"}],[3720,{"../../../../shared/constants/common":3403,"../../../../shared/constants/metametrics":3408,"../../../../shared/modules/Numeric":3428,"../../../../shared/modules/conversion.utils":3432,"../../../helpers/constants/design-system":4096,"../../../helpers/utils/confirm-tx.util":4116,"../../../helpers/utils/util":4135,"../../ui/button":3931,"../../ui/site-origin":4042,"../../ui/typography/typography":4066,"../confirm-page-container/confirm-page-container-navigation":3516,"../ledger-instruction-field":3584,"../modals/contract-details-modal/contract-details-modal":3618,"../network-account-balance-header":3656,"../security-provider-banner-message/security-provider-banner-message":3694,"../security-provider-banner-message/security-provider-banner-message.constants":3693,"./signature-request-footer":3716,"./signature-request-message":3718,lodash:2918,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=e("lodash"),o=k(e("prop-types")),i=k(e("../ledger-instruction-field")),s=e("../../../helpers/utils/util"),l=e("../../../../shared/constants/metametrics"),u=k(e("../../ui/site-origin")),c=k(e("../../ui/button")),d=k(e("../../ui/typography/typography")),p=k(e("../modals/contract-details-modal/contract-details-modal")),f=e("../../../helpers/constants/design-system"),m=k(e("../network-account-balance-header")),h=e("../../../../shared/modules/Numeric"),g=e("../../../../shared/constants/common"),y=k(e("../confirm-page-container/confirm-page-container-navigation")),v=k(e("../security-provider-banner-message/security-provider-banner-message")),b=e("../security-provider-banner-message/security-provider-banner-message.constants"),_=e("../../../helpers/utils/confirm-tx.util"),E=e("../../../../shared/modules/conversion.utils"),T=k(e("./signature-request-footer")),w=k(e("./signature-request-message"));function k(e){return e&&e.__esModule?e:{default:e}}function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}function P(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class O extends r.PureComponent{constructor(...e){super(...e),P(this,"state",{hasScrolledMessage:!1,showContractDetails:!1}),P(this,"memoizedParseMessage",(0,a.memoize)((e=>{const{message:t,domain:n={},primaryType:r,types:a}=JSON.parse(e);return{sanitizedMessage:(0,s.sanitizeMessage)(t,r,a),domain:n,primaryType:r}}))),P(this,"handleCancelAll",(()=>{const{cancelAll:e,clearConfirmTransaction:t,history:n,mostRecentOverviewPage:r,showRejectTransactionsConfirmationModal:a,unapprovedMessagesCount:o}=this.props;a({unapprovedTxCount:o,onSubmit:async()=>{await e(),t(),n.push(r)}})}))}setMessageRootRef(e){this.messageRootRef=e}formatWallet(e){return`${e.slice(0,8)}...${e.slice(e.length-8,e.length)}`}render(){var e,t,n,a;const{providerConfig:o,txData:{msgParams:{data:k,origin:x,version:P},type:O},fromAccount:{address:C,balance:M,name:S},cancel:N,sign:j,isLedgerWallet:I,hardwareWalletRequiresConnection:R,chainId:D,rpcPrefs:L,txData:A,subjectMetadata:W,nativeCurrency:q,currentCurrency:F,conversionRate:$,unapprovedMessagesCount:B}=this.props,{t:G,trackEvent:U}=this.context,{sanitizedMessage:V,domain:{verifyingContract:H},primaryType:Y}=this.memoizedParseMessage(k),z=G("rejectRequestsN",[B]),X=(0,s.getNetworkNameFromProviderType)(o.type),K=""===X?o.nickname||G("unknownNetwork"):G(X),Q=$?(0,_.formatCurrency)((0,E.getValueFromWeiHex)({value:M,fromCurrency:q,toCurrency:F,conversionRate:$,numberOfDecimals:6,toDenomination:g.EtherDenomination.ETH}),F):new h.Numeric(M,16,g.EtherDenomination.WEI).toDenomination(g.EtherDenomination.ETH).round(6).toBase(10).toString(),J=(null===(e=this.messageRootRef)||void 0===e?void 0:e.scrollHeight)>(null===(t=this.messageRootRef)||void 0===t?void 0:t.clientHeight),Z=A.msgParams.origin?null==W?void 0:W[A.msgParams.origin]:null;return r.default.createElement("div",{className:"signature-request"},r.default.createElement(y.default,null),r.default.createElement("div",{className:"request-signature__account","data-testid":"request-signature-account"},r.default.createElement(m.default,{networkName:K,accountName:S,accountBalance:Q,tokenName:$?null==F?void 0:F.toUpperCase():q,accountAddress:C})),r.default.createElement("div",{className:"signature-request-content"},(null==A||null===(n=A.securityProviderResponse)||void 0===n?void 0:n.flagAsDangerous)!==undefined&&(null==A||null===(a=A.securityProviderResponse)||void 0===a?void 0:a.flagAsDangerous)!==b.SECURITY_PROVIDER_MESSAGE_SEVERITIES.NOT_MALICIOUS||null!=A&&A.securityProviderResponse&&0===Object.keys(A.securityProviderResponse).length?r.default.createElement(v.default,{securityProviderResponse:A.securityProviderResponse}):null,r.default.createElement("div",{className:"signature-request__origin"},r.default.createElement(u.default,{siteOrigin:x,iconSrc:null==Z?void 0:Z.iconUrl,iconName:(0,s.getURLHostName)(x)||x,chip:!0})),r.default.createElement(d.default,{className:"signature-request__content__title",variant:f.TypographyVariant.H3,fontWeight:f.FontWeight.Bold,boxProps:{marginTop:4}},this.context.t("sigRequest")),r.default.createElement(d.default,{className:"request-signature__content__subtitle",variant:f.TypographyVariant.H7,color:f.TextColor.textAlternative,align:f.TextAlign.Center,margin:12,marginTop:3},this.context.t("signatureRequestGuidance")),H?r.default.createElement("div",null,r.default.createElement(c.default,{type:"link",onClick:()=>this.setState({showContractDetails:!0}),className:"signature-request-content__verify-contract-details","data-testid":"verify-contract-details"},r.default.createElement(d.default,{variant:f.TypographyVariant.H7,color:f.TextColor.primaryDefault},this.context.t("verifyContractDetails")))):null),I?r.default.createElement("div",{className:"confirm-approve-content__ledger-instruction-wrapper"},r.default.createElement(i.default,{showDataInstruction:!0})):null,r.default.createElement(w.default,{data:V,onMessageScrolled:()=>this.setState({hasScrolledMessage:!0}),setMessageRootRef:this.setMessageRootRef.bind(this),messageRootRef:this.messageRootRef,messageIsScrollable:J,primaryType:Y}),r.default.createElement(T.default,{cancelAction:e=>{N(e),U({category:l.MetaMetricsEventCategory.Transactions,event:"Cancel",properties:{action:"Sign Request",legacy_event:!0,type:O,version:P}})},signAction:e=>{j(e),U({category:l.MetaMetricsEventCategory.Transactions,event:"Confirm",properties:{action:"Sign Request",legacy_event:!0,type:O,version:P}})},disabled:R||J&&!this.state.hasScrolledMessage}),this.state.showContractDetails&&r.default.createElement(p.default,{toAddress:H,chainId:D,rpcPrefs:L,onClose:()=>this.setState({showContractDetails:!1}),isContractRequestingSignature:!0}),B>1?r.default.createElement(c.default,{type:"link",className:"signature-request__reject-all-button","data-testid":"signature-request-reject-all",onClick:e=>{e.preventDefault(),this.handleCancelAll()}},z):null)}}n.default=O,P(O,"propTypes",{txData:o.default.object.isRequired,fromAccount:o.default.shape({address:o.default.string.isRequired,balance:o.default.string,name:o.default.string}).isRequired,isLedgerWallet:o.default.bool,cancel:o.default.func.isRequired,sign:o.default.func.isRequired,hardwareWalletRequiresConnection:o.default.bool.isRequired,chainId:o.default.string,rpcPrefs:o.default.object,nativeCurrency:o.default.string,currentCurrency:o.default.string.isRequired,conversionRate:o.default.number,providerConfig:o.default.object,subjectMetadata:o.default.object,unapprovedMessagesCount:o.default.number,clearConfirmTransaction:o.default.func.isRequired,history:o.default.object,mostRecentOverviewPage:o.default.string,showRejectTransactionsConfirmationModal:o.default.func.isRequired,cancelAll:o.default.func.isRequired}),P(O,"contextTypes",{t:o.default.func,trackEvent:o.default.func})}}},{package:"$root$",file:"ui/components/app/signature-request/signature-request.component.js"}],[3721,{"../../../../shared/constants/app":3401,"../../../ducks/confirm-transaction/confirm-transaction.duck":4081,"../../../ducks/history/history":4085,"../../../ducks/metamask/metamask":4088,"../../../helpers/utils/util":4135,"../../../selectors":4464,"../../../store/actions":4471,"./signature-request.component":3720,"react-redux":3159},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=e("react-redux"),o=e("../../../selectors"),i=e("../../../ducks/metamask/metamask"),s=e("../../../helpers/utils/util"),l=e("../../../../shared/constants/app"),u=e("../../../store/actions"),c=e("../../../ducks/history/history"),d=e("../../../ducks/confirm-transaction/confirm-transaction.duck"),p=(r=e("./signature-request.component"))&&r.__esModule?r:{default:r};let f=null;f=function(e){return{clearConfirmTransaction:()=>e((0,d.clearConfirmTransaction)()),showRejectTransactionsConfirmationModal:({onSubmit:t,unapprovedTxCount:n})=>e((0,u.showModal)({name:"REJECT_TRANSACTIONS",onSubmit:t,unapprovedTxCount:n,isRequestType:!0})),cancelAll:t=>e((0,u.cancelMsgs)(t))}};var m=(0,a.connect)((function(e,t){const{txData:n}=t,{msgParams:{from:r}}=n,a=(0,i.getProviderConfig)(e),s=(0,o.doesAddressRequireLedgerHidConnection)(e,r),l=(0,i.isAddressLedger)(e,r),u=(0,o.getCurrentChainId)(e),d=(0,o.getRpcPrefsForCurrentProvider)(e),p=(0,o.unconfirmedMessagesHashSelector)(e),f=(0,o.getTotalUnapprovedMessagesCount)(e),{useNativeCurrencyAsPrimaryCurrency:m}=(0,o.getPreferences)(e);return{providerConfig:a,isLedgerWallet:l,hardwareWalletRequiresConnection:s,chainId:u,rpcPrefs:d,unconfirmedMessagesList:p,unapprovedMessagesCount:f,mostRecentOverviewPage:(0,c.getMostRecentOverviewPage)(e),nativeCurrency:(0,i.getNativeCurrency)(e),currentCurrency:(0,o.getCurrentCurrency)(e),conversionRate:m?null:(0,o.conversionRateSelector)(e),subjectMetadata:(0,o.getSubjectMetadata)(e),allAccounts:(0,o.accountsWithSendEtherInfoSelector)(e)}}),f,(function(e,t,n){const{allAccounts:r,isLedgerWallet:a,hardwareWalletRequiresConnection:o,chainId:i,rpcPrefs:u,nativeCurrency:c,currentCurrency:d,conversionRate:p,providerConfig:f,subjectMetadata:m,unconfirmedMessagesList:h,unapprovedMessagesCount:g,mostRecentOverviewPage:y}=e,{signPersonalMessage:v,signTypedMessage:b,cancelPersonalMessage:_,cancelTypedMessage:E,signMessage:T,cancelMessage:w,txData:k}=n,{cancelAll:x}=t,{type:P,msgParams:{from:O}}=k,C=(0,s.getAccountByAddress)(r,O);let M,S;return P===l.MESSAGE_TYPE.PERSONAL_SIGN?(M=_,S=v):P===l.MESSAGE_TYPE.ETH_SIGN_TYPED_DATA?(M=E,S=b):P===l.MESSAGE_TYPE.ETH_SIGN&&(M=w,S=T),{...n,...t,fromAccount:C,txData:k,cancel:M,sign:S,isLedgerWallet:a,hardwareWalletRequiresConnection:o,chainId:i,rpcPrefs:u,nativeCurrency:c,currentCurrency:d,conversionRate:p,providerConfig:f,subjectMetadata:m,unapprovedMessagesCount:g,mostRecentOverviewPage:y,cancelAll:()=>x((0,s.valuesFor)(h))}}))(p.default);n.default=m}}},{package:"$root$",file:"ui/components/app/signature-request/signature-request.container.js"}],[3722,{"./srp-input":3724},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./srp-input"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/srp-input/index.js"}],[3723,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.parseSecretRecoveryPhrase=void 0;n.parseSecretRecoveryPhrase=e=>{var t;return(null===(t=(e||"").trim().toLowerCase().match(/\w+/gu))||void 0===t?void 0:t.join(" "))||""}}}},{package:"$root$",file:"ui/components/app/srp-input/parse-secret-recovery-phrase.js"}],[3724,{"../../../helpers/constants/design-system":4096,"../../../helpers/utils/util":4135,"../../../hooks/useI18nContext":4157,"../../component-library":3846,"../../ui/actionable-message":3924,"../../ui/dropdown":3955,"../../ui/show-hide-toggle":4036,"../../ui/text-field":4050,"./parse-secret-recovery-phrase":3723,"@ethersproject/hdnode":434,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=b;var r=e("@ethersproject/hdnode"),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),o=h(e("prop-types")),i=e("../../../hooks/useI18nContext"),s=h(e("../../ui/text-field")),l=e("../../../helpers/utils/util"),u=h(e("../../ui/actionable-message")),c=h(e("../../ui/dropdown")),d=h(e("../../ui/show-hide-toggle")),p=e("../../../helpers/constants/design-system"),f=e("../../component-library"),m=e("./parse-secret-recovery-phrase");function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}const y=12,v=e=>e!==e.toLowerCase();function b({onChange:e,srpText:t}){const[n,o]=(0,a.useState)(""),[h,g]=(0,a.useState)(!1),[b,_]=(0,a.useState)(new Array(y).fill("")),[E,T]=(0,a.useState)(new Array(y).fill(!1)),[w,k]=(0,a.useState)(y),x=(0,i.useI18nContext)(),P=(0,a.useCallback)((t=>{let n="";const a=t.join(" ").trim();t.some((e=>""!==e))&&(t.some((e=>""===e))?n=x("seedPhraseReq"):v(a)?n=x("invalidSeedPhraseCaseSensitive"):(0,r.isValidMnemonic)(a)||(n=x("invalidSeedPhrase"))),_(t),o(n),e(n?"":a)}),[_,o,x,e]),O=(0,a.useCallback)((e=>{T((t=>{const n=t.slice();return n[e]?n[e]=!1:(n.fill(!1),n[e]=!0),n}))}),[]),C=(0,a.useCallback)(((e,t)=>{h&&g(!1);const n=b.slice();n[e]=t.trim(),P(n)}),[b,P,h]),M=(0,a.useCallback)((e=>{let t=(0,m.parseSecretRecoveryPhrase)(e).split(" ");if(t.length>24)return void g(!0);h&&g(!1);let n=w;t.length!==w&&(n=t.length<12?12:t.length%3==0?t.length:t.length+(3-t.length%3),k(n)),t.length<n&&(t=t.concat(new Array(n-t.length).fill(""))),T(new Array(n).fill(!1)),P(t),(0,l.clearClipboard)()}),[w,P,h,g]),S=[];for(let e=12;e<=24;e+=3)S.push({name:x("srpInputNumberOfWords",[`${e}`]),value:`${e}`});return a.default.createElement("div",{className:"import-srp__container"},a.default.createElement("label",{className:"import-srp__srp-label"},a.default.createElement(f.Text,{align:p.TextAlign.Left,variant:p.TextVariant.headingSm,as:"h4"},t)),a.default.createElement(u.default,{className:"import-srp__paste-tip",iconFillColor:"var(--color-info-default)",message:x("srpPasteTip"),useIcon:!0}),a.default.createElement(c.default,{className:"import-srp__number-of-words-dropdown",onChange:e=>{const t=parseInt(e,10);if(Number.isNaN(t))throw new Error("Unable to parse option as integer");let n=b.slice(0,t);n.length<t&&(n=n.concat(new Array(t-n.length).fill(""))),k(t),T(new Array(t).fill(!1)),P(n)},options:S,selectedOption:`${w}`}),a.default.createElement("div",{className:"import-srp__srp"},[...Array(w).keys()].map((e=>{const t=`import-srp__srp-word-${e}`;return a.default.createElement("div",{key:e,className:"import-srp__srp-word"},a.default.createElement("label",{htmlFor:t,className:"import-srp__srp-word-label"},a.default.createElement(f.Text,null,`${e+1}.`)),a.default.createElement(s.default,{id:t,"data-testid":t,type:E[e]?"text":"password",onChange:t=>{t.preventDefault(),C(e,t.target.value)},value:b[e],autoComplete:"off",onPaste:e=>{const t=e.clipboardData.getData("text");t.trim().match(/\s/u)&&(e.preventDefault(),M(t))}}),a.default.createElement(d.default,{id:`${t}-checkbox`,ariaLabelHidden:x("srpWordHidden"),ariaLabelShown:x("srpWordShown"),shown:E[e],"data-testid":`${t}-checkbox`,onChange:()=>O(e),title:x("srpToggleShow")}))}))),n?a.default.createElement(u.default,{className:"import-srp__srp-error",iconFillColor:"var(--color-error-default)",message:n,type:"danger",useIcon:!0}):null,h?a.default.createElement(u.default,{className:"import-srp__srp-too-many-words-error",iconFillColor:"var(--color-error-default)",message:x("srpPasteFailedTooManyWords"),primaryAction:{label:x("dismiss"),onClick:()=>g(!1)},type:"danger",useIcon:!0}):null)}b.propTypes={onChange:o.default.func.isRequired,srpText:o.default.string.isRequired}}}},{package:"$root$",file:"ui/components/app/srp-input/srp-input.js"}],[3725,{"./step-progress-bar":3726},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ThreeStepProgressBar",{enumerable:!0,get:function(){return r.ThreeStepProgressBar}}),Object.defineProperty(n,"TwoStepProgressBar",{enumerable:!0,get:function(){return r.TwoStepProgressBar}}),Object.defineProperty(n,"threeStepStages",{enumerable:!0,get:function(){return r.threeStepStages}}),Object.defineProperty(n,"twoStepStages",{enumerable:!0,get:function(){return r.twoStepStages}});var r=e("./step-progress-bar")}}},{package:"$root$",file:"ui/components/app/step-progress-bar/index.js"}],[3726,{"../../../helpers/constants/design-system":4096,"../../../hooks/useI18nContext":4157,"../../ui/box":3927,classnames:1943,lodash:2918,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ThreeStepProgressBar=p,n.TwoStepProgressBar=f,n.twoStepStages=n.threeStepStages=void 0;var r=c(e("react")),a=c(e("classnames")),o=c(e("prop-types")),i=e("lodash"),s=e("../../../hooks/useI18nContext"),l=c(e("../../ui/box")),u=e("../../../helpers/constants/design-system");function c(e){return e&&e.__esModule?e:{default:e}}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}n.threeStepStages={PASSWORD_CREATE:1,RECOVERY_PHRASE_VIDEO:2,RECOVERY_PHRASE_REVIEW:3,RECOVERY_PHRASE_CONFIRM:4,ONBOARDING_COMPLETE:5};function p({stage:e,...t}){const n=(0,s.useI18nContext)();return r.default.createElement(l.default,t,r.default.createElement("ul",{className:"progressbar"},r.default.createElement("li",{className:(0,a.default)({active:e>=1,complete:e>1})},(0,i.capitalize)(n("createPassword"))),r.default.createElement("li",{className:(0,a.default)({active:e>=2,complete:e>3})},(0,i.capitalize)(n("secureWallet"))),r.default.createElement("li",{className:(0,a.default)({active:e>=4,complete:e>5})},(0,i.capitalize)(n("confirmRecoveryPhrase")))))}function f({stage:e,...t}){const n=(0,s.useI18nContext)();return r.default.createElement(l.default,d({width:u.BLOCK_SIZES.FULL},t),r.default.createElement("ul",{className:"progressbar two-steps"},r.default.createElement("li",{className:(0,a.default)({active:e>=1,complete:e>1})},(0,i.capitalize)(n("confirmRecoveryPhrase"))),r.default.createElement("li",{className:(0,a.default)("two-steps",{active:e>=2,complete:e>2})},(0,i.capitalize)(n("createPassword")))))}n.twoStepStages={RECOVERY_PHRASE_CONFIRM:1,PASSWORD_CREATE:2},p.propTypes={stage:o.default.number,...l.default.propTypes},f.propTypes={stage:o.default.number,...l.default.propTypes}}}},{package:"$root$",file:"ui/components/app/step-progress-bar/step-progress-bar.js"}],[3727,{"./tab-bar":3728},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./tab-bar"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/tab-bar/index.js"}],[3728,{"../../../helpers/constants/design-system":4096,"../../component-library":3846,"../../ui/box":3927,classnames:1943,"prop-types":3019,react:3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=u(e("react")),a=u(e("prop-types")),o=u(e("classnames")),i=e("../../component-library"),s=u(e("../../ui/box")),l=e("../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}const c=e=>{const{tabs:t=[],onSelect:n,isActive:a}=e;return r.default.createElement("div",{className:"tab-bar"},t.map((({key:e,content:t,icon:u})=>r.default.createElement(s.default,{as:"button",key:e,paddingTop:5,paddingBottom:5,paddingLeft:4,paddingRight:4,className:(0,o.default)("tab-bar__tab pointer",{"tab-bar__tab--active":a(e,t)}),onClick:()=>n(e)},a(e,t)&&r.default.createElement(s.default,{className:"tab-bar__tab__selected-indicator",borderRadius:l.BorderRadius.pill,backgroundColor:l.Color.primaryDefault,display:[l.DISPLAY.NONE,l.DISPLAY.BLOCK]}),r.default.createElement("div",{className:"tab-bar__tab__content"},r.default.createElement("div",{className:"tab-bar__tab__content__icon"},u),r.default.createElement("div",{className:"tab-bar__tab__content__title"},t)),r.default.createElement(i.Icon,{name:i.IconName.ArrowRight,size:i.IconSize.Sm,className:"tab-bar__tab__caret"})))))};c.propTypes={isActive:a.default.func.isRequired,tabs:a.default.array,onSelect:a.default.func};var d=c;n.default=d}}},{package:"$root$",file:"ui/components/app/tab-bar/tab-bar.js"}],[3729,{"./terms-of-use-popup":3730},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./terms-of-use-popup"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/terms-of-use-popup/index.js"}]],[],{});